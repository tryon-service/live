"use strict";(self.webpackChunktryon=self.webpackChunktryon||[]).push([[179],{145:()=>{function _e(n){return"function"==typeof n}function Pl(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Jh=Pl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Da(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof Jh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Hx(s)}catch(o){e=e??[],o instanceof Jh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Hx(e);else{if(e instanceof Yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Da(t,e)}remove(e){const{_finalizers:t}=this;t&&Da(t,e),e instanceof Yt&&e._removeParent(this)}}Yt.EMPTY=(()=>{const n=new Yt;return n.closed=!0,n})();const jx=Yt.EMPTY;function $x(n){return n instanceof Yt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function Hx(n){_e(n)?n():n.unsubscribe()}const uo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ef={setTimeout(n,e,...t){const{delegate:r}=ef;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ef;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zx(n){ef.setTimeout(()=>{const{onUnhandledError:e}=uo;if(!e)throw n;e(n)})}function _y(){}const Kq=yy("C",void 0,void 0);function yy(n,e,t){return{kind:n,value:e,error:t}}let ho=null;function tf(n){if(uo.useDeprecatedSynchronousErrorHandling){const e=!ho;if(e&&(ho={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ho;if(ho=null,t)throw r}}else n()}class vy extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$x(e)&&e.add(this)):this.destination=t5}static create(e,t,r){return new Nl(e,t,r)}next(e){this.isStopped?wy(function Yq(n){return yy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wy(function Qq(n){return yy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wy(Kq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Zq=Function.prototype.bind;function by(n,e){return Zq.call(n,e)}class Jq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nf(r)}else nf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nf(t)}}}class Nl extends vy{constructor(e,t,r){let i;if(super(),_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&uo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&by(e.next,s),error:e.error&&by(e.error,s),complete:e.complete&&by(e.complete,s)}):i=e}this.destination=new Jq(i)}}function nf(n){uo.useDeprecatedSynchronousErrorHandling?function Xq(n){uo.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=n)}(n):zx(n)}function wy(n,e){const{onStoppedNotification:t}=uo;t&&ef.setTimeout(()=>t(n,e))}const t5={closed:!0,next:_y,error:function e5(n){throw n},complete:_y},Ey="function"==typeof Symbol&&Symbol.observable||"@@observable";function ds(n){return n}function Gx(n){return 0===n.length?ds:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function s5(n){return n&&n instanceof vy||function r5(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}(n)&&$x(n)}(t)?t:new Nl(t,r,i);return tf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=qx(r))((i,s)=>{const o=new Nl({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ey](){return this}pipe(...t){return Gx(t)(this)}toPromise(t){return new(t=qx(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function qx(n){var e;return null!==(e=n??uo.Promise)&&void 0!==e?e:Promise}const o5=Pl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let He=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Wx(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new o5}next(t){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?jx:(this.currentObservers=null,s.push(t),new Yt(()=>{this.currentObservers=null,Da(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new Wx(e,t),n})();class Wx extends He{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:jx}}function Kx(n){return _e(n?.lift)}function st(n){return e=>{if(Kx(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(n,e,t,r,i){return new Qx(n,e,t,r,i)}class Qx extends vy{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(n,e){return st((t,r)=>{let i=0;t.subscribe(Ye(r,s=>{r.next(n.call(e,s,i++))}))})}function Dy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Sy(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function hs(n){return this instanceof hs?(this.v=n,this):new hs(n)}function Zx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ay(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const My=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jx(n){return _e(n?.then)}function eR(n){return _e(n[Ey])}function tR(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function nR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rR=function T5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iR(n){return _e(n?.[rR])}function sR(n){return function Xx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof hs?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield hs(t.read());if(i)return yield hs(void 0);yield yield hs(r)}}finally{t.releaseLock()}})}function oR(n){return _e(n?.getReader)}function fn(n){if(n instanceof Be)return n;if(null!=n){if(eR(n))return function A5(n){return new Be(e=>{const t=n[Ey]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(My(n))return function M5(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jx(n))return function x5(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zx)})}(n);if(tR(n))return aR(n);if(iR(n))return function R5(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(oR(n))return function k5(n){return aR(sR(n))}(n)}throw nR(n)}function aR(n){return new Be(e=>{(function O5(n,e){var t,r,i,s;return Sy(this,void 0,void 0,function*(){try{for(t=Zx(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ti(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function kt(n,e,t=1/0){return _e(e)?kt((r,i)=>Te((s,o)=>e(r,s,i,o))(fn(n(r,i))),t):("number"==typeof e&&(t=e),st((r,i)=>function P5(n,e,t,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let _=!1;fn(t(g,u++)).subscribe(Ye(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){const v=c.shift();o?Ti(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ye(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Sa(n=1/0){return kt(ds,n)}const Xr=new Be(n=>n.complete());function cR(n){return n&&_e(n.schedule)}function xy(n){return n[n.length-1]}function Fl(n){return cR(xy(n))?n.pop():void 0}function rf(n,e=0){return st((t,r)=>{t.subscribe(Ye(r,i=>Ti(r,n,()=>r.next(i),e),()=>Ti(r,n,()=>r.complete(),e),i=>Ti(r,n,()=>r.error(i),e)))})}function sf(n,e=0){return st((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function uR(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Ti(t,e,()=>{const r=n[Symbol.asyncIterator]();Ti(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ot(n,e){return e?function $5(n,e){if(null!=n){if(eR(n))return function L5(n,e){return fn(n).pipe(sf(e),rf(e))}(n,e);if(My(n))return function B5(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Jx(n))return function V5(n,e){return fn(n).pipe(sf(e),rf(e))}(n,e);if(tR(n))return uR(n,e);if(iR(n))return function U5(n,e){return new Be(t=>{let r;return Ti(t,e,()=>{r=n[rR](),Ti(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(n,e);if(oR(n))return function j5(n,e){return uR(sR(n),e)}(n,e)}throw nR(n)}(n,e):fn(n)}function dR(...n){const e=Fl(n),t=function F5(n,e){return"number"==typeof xy(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fn(r[0]):Sa(t)(Ot(r,e)):Xr}class _r extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Y(...n){return Ot(n,Fl(n))}function hR(n={}){const{connector:e=(()=>new He),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return st((g,_)=>{l++,!d&&!u&&h();const v=c=c??e();_.add(()=>{l--,0===l&&!d&&!u&&(a=Ry(p,i))}),v.subscribe(_),!o&&l>0&&(o=new Nl({next:y=>v.next(y),error:y=>{d=!0,h(),a=Ry(f,t,y),v.error(y)},complete:()=>{u=!0,h(),a=Ry(f,r),v.complete()}}),fn(g).subscribe(o))})(s)}}function Ry(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Nl({next:()=>{r.unsubscribe(),n()}});return fn(e(...t)).subscribe(r)}function er(n,e){return st((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ye(r,c=>{i?.unsubscribe();let l=0;const u=s++;fn(n(c,u)).subscribe(i=Ye(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fR(n,e=ds){return n=n??H5,st((t,r)=>{let i,s=!0;t.subscribe(Ye(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function H5(n,e){return n===e}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function af(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ky(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const z5=Oe({__forward_ref__:Oe});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return Pt(this())},n}function te(n){return Oy(n)?n():n}function Oy(n){return"function"==typeof n&&n.hasOwnProperty(z5)&&n.__forward_ref__===Pe}function Py(n){return n&&!!n.\u0275providers}const pR="https://g.co/ng/security#xss";class E extends Error{constructor(e,t){super(function cf(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Ny(n,e){throw new E(-201,!1)}function yr(n,e){null==n&&function J(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function he(n){return{providers:n.providers||[],imports:n.imports||[]}}function lf(n){return gR(n,df)||gR(n,mR)}function gR(n,e){return n.hasOwnProperty(e)?n[e]:null}function uf(n){return n&&(n.hasOwnProperty(Fy)||n.hasOwnProperty(Z5))?n[Fy]:null}const df=Oe({\u0275prov:Oe}),Fy=Oe({\u0275inj:Oe}),mR=Oe({ngInjectableDef:Oe}),Z5=Oe({ngInjectorDef:Oe});var pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pe||{});let Ly;function Vn(n){const e=Ly;return Ly=n,e}function yR(n,e,t){const r=lf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&pe.Optional?null:void 0!==e?e:void Ny(Pt(n))}const ze=globalThis,Ll={},$y="__NG_DI_FLAG__",hf="ngTempTokenPath",tW=/\n/gm,bR="__source";let Ta;function fs(n){const e=Ta;return Ta=n,e}function iW(n,e=pe.Default){if(void 0===Ta)throw new E(-203,!1);return null===Ta?yR(n,void 0,e):Ta.get(n,e&pe.Optional?null:void 0,e)}function C(n,e=pe.Default){return(function _R(){return Ly}()||iW)(te(n),e)}function j(n,e=pe.Default){return C(n,ff(e))}function ff(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hy(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,s=pe.Default;for(let o=0;o<r.length;o++){const a=r[o],c=sW(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(C(i,s))}else e.push(C(r))}return e}function Vl(n,e){return n[$y]=e,n.prototype[$y]=e,n}function sW(n){return n[$y]}function Ai(n){return{toString:n}.toString()}var pf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(pf||{}),vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vr||{});const Zr={},Se=[],gf=Oe({\u0275cmp:Oe}),zy=Oe({\u0275dir:Oe}),Gy=Oe({\u0275pipe:Oe}),ER=Oe({\u0275mod:Oe}),Mi=Oe({\u0275fac:Oe}),Bl=Oe({__NG_ELEMENT_ID__:Oe}),CR=Oe({__NG_ENV_ID__:Oe});function IR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function qy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];SR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function DR(n){return 3===n||4===n||6===n}function SR(n){return 64===n.charCodeAt(0)}function Ul(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||TR(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function TR(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const AR="ng-template";function cW(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==IR(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function MR(n){return 4===n.type&&n.value!==AR}function lW(n,e,t){return e===(4!==n.type||t?n.value:AR)}function uW(n,e,t){let r=4;const i=n.attrs||[],s=function fW(n){for(let e=0;e<n.length;e++)if(DR(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!lW(n,c,t)||""===c&&1===e.length){if(Or(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!cW(n.attrs,l,t)){if(Or(r))return!1;o=!0}continue}const d=dW(8&r?"class":c,i,MR(n),t);if(-1===d){if(Or(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==IR(f,l,0)||2&r&&l!==h){if(Or(r))return!1;o=!0}}}}else{if(!o&&!Or(r)&&!Or(c))return!1;if(o&&Or(c))continue;o=!1,r=c|1&r}}return Or(r)||o}function Or(n){return 0==(1&n)}function dW(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function pW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function xR(n,e,t=!1){for(let r=0;r<e.length;r++)if(uW(n,e[r],t))return!0;return!1}function RR(n,e){return n?":not("+e.trim()+")":e}function mW(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Or(o)&&(e+=RR(s,i),i=""),r=o,s=s||!Or(r);t++}return""!==i&&(e+=RR(s,i)),e}function Bn(n){return Ai(()=>{const e=OR(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vr.Emulated,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null,id:""};PR(t);const r=n.dependencies;return t.directiveDefs=mf(r,!1),t.pipeDefs=mf(r,!0),t.id=function IW(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function bW(n){return ve(n)||Xt(n)}function wW(n){return null!==n}function fe(n){return Ai(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kR(n,e){if(null==n)return Zr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Q(n){return Ai(()=>{const e=OR(n);return PR(e),e})}function ve(n){return n[gf]||null}function Xt(n){return n[zy]||null}function Dn(n){return n[Gy]||null}function nr(n,e){const t=n[ER]||null;if(!t&&!0===e)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function OR(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Zr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kR(n.inputs,e),outputs:kR(n.outputs)}}function PR(n){n.features?.forEach(e=>e(n))}function mf(n,e){if(!n)return null;const t=e?Dn:bW;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(wW)}const ut=0,U=1,ce=2,nt=3,Pr=4,jl=5,pn=6,Ma=7,mt=8,ps=9,xa=10,se=11,$l=12,NR=13,Ra=14,_t=15,Hl=16,ka=17,Jr=18,zl=19,FR=20,gs=21,xi=22,Gl=23,ql=24,ge=25,Wy=1,LR=2,ei=7,Oa=9,Zt=11;function jn(n){return Array.isArray(n)&&"object"==typeof n[Wy]}function Sn(n){return Array.isArray(n)&&!0===n[Wy]}function Ky(n){return 0!=(4&n.flags)}function po(n){return n.componentOffset>-1}function yf(n){return 1==(1&n.flags)}function Nr(n){return!!n.template}function Qy(n){return 0!=(512&n[ce])}function go(n,e){return n.hasOwnProperty(Mi)?n[Mi]:null}let Jt=null,vf=!1;function br(n){const e=Jt;return Jt=n,e}const UR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $R(n){if(!Kl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!GR(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function zR(n){n.dirty=!0,function HR(n){if(void 0===n.liveConsumerNode)return;const e=vf;vf=!0;try{for(const t of n.liveConsumerNode)t.dirty||zR(t)}finally{vf=e}}(n),n.consumerMarkedDirty?.(n)}function Xy(n){return n&&(n.nextProducerIndex=0),br(n)}function Zy(n,e){if(br(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Kl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)bf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function GR(n){Pa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||($R(t),r!==t.version))return!0}return!1}function qR(n){if(Pa(n),Kl(n))for(let e=0;e<n.producerNode.length;e++)bf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function bf(n,e){if(function KR(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Pa(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)bf(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pa(i),i.producerIndexOfThis[r]=e}}function Kl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let QR=null;const JR=()=>{},LW=(()=>({...UR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:JR}))();class VW{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function wr(){return ek}function ek(n){return n.type.prototype.ngOnChanges&&(n.setInput=UW),BW}function BW(){const n=nk(this),e=n?.current;if(e){const t=n.previous;if(t===Zr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function UW(n,e,t,r){const i=this.declaredInputs[t],s=nk(n)||function jW(n,e){return n[tk]=e}(n,{previous:Zr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new VW(c&&c.currentValue,e,a===Zr),n[r]=e}wr.ngInherit=!0;const tk="__ngSimpleChanges__";function nk(n){return n[tk]||null}const ti=function(n,e,t){};function Ge(n){for(;Array.isArray(n);)n=n[ut];return n}function wf(n,e){return Ge(e[n])}function $n(n,e){return Ge(e[n.index])}function sk(n,e){return n.data[e]}function rr(n,e){const t=e[n];return jn(t)?t:t[ut]}function _s(n,e){return null==e?null:n[e]}function ok(n){n[ka]=0}function WW(n){1024&n[ce]||(n[ce]|=1024,ck(n,1))}function ak(n){1024&n[ce]&&(n[ce]&=-1025,ck(n,-1))}function ck(n,e){let t=n[nt];if(null===t)return;t[jl]+=e;let r=t;for(t=t[nt];null!==t&&(1===e&&1===r[jl]||-1===e&&0===r[jl]);)t[jl]+=e,r=t,t=t[nt]}const ee={lFrame:vk(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dk(){return ee.bindingsEnabled}function S(){return ee.lFrame.lView}function be(){return ee.lFrame.tView}function Ql(n){return ee.lFrame.contextLView=n,n[mt]}function Yl(n){return ee.lFrame.contextLView=null,n}function en(){let n=hk();for(;null!==n&&64===n.type;)n=n.parent;return n}function hk(){return ee.lFrame.currentTNode}function ni(n,e){const t=ee.lFrame;t.currentTNode=n,t.isParent=e}function rv(){return ee.lFrame.isParent}function Tn(){const n=ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function La(){return ee.lFrame.bindingIndex++}function ki(n){const e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function s6(n,e){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,sv(e)}function sv(n){ee.lFrame.currentDirectiveIndex=n}function mk(){return ee.lFrame.currentQueryIndex}function av(n){ee.lFrame.currentQueryIndex=n}function a6(n){const e=n[U];return 2===e.type?e.declTNode:1===e.type?n[pn]:null}function _k(n,e,t){if(t&pe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&pe.Host||(i=a6(s),null===i||(s=s[Ra],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ee.lFrame=yk();return r.currentTNode=e,r.lView=n,!0}function cv(n){const e=yk(),t=n[U];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yk(){const n=ee.lFrame,e=null===n?null:n.child;return null===e?vk(n):e}function vk(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function bk(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wk=bk;function lv(){const n=bk();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return ee.lFrame.selectedIndex}function mo(n){ee.lFrame.selectedIndex=n}function ot(){const n=ee.lFrame;return sk(n.tView,n.selectedIndex)}let Ck=!0;function Ef(){return Ck}function ys(n){Ck=n}function Cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function If(n,e,t){Ik(n,e,3,t)}function Df(n,e,t,r){(3&n[ce])===t&&Ik(n,e,t,r)}function uv(n,e){let t=n[ce];(3&t)===e&&(t&=8191,t+=1,n[ce]=t)}function Ik(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[ka]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[ka]+=65536),(a<s||-1==s)&&(g6(n,t,e,c),n[ka]=(4294901760&n[ka])+c+2),c++}function Dk(n,e){ti(4,n,e);const t=br(null);try{e.call(n)}finally{br(t),ti(5,n,e)}}function g6(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[ce]>>13<n[ka]>>16&&(3&n[ce])===e&&(n[ce]+=8192,Dk(a,s)):Dk(a,s)}const Va=-1;class Zl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hv(n){return n!==Va}function Jl(n){return 32767&n}function eu(n,e){let t=function v6(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ra],t--;return r}let fv=!0;function Sf(n){const e=fv;return fv=n,e}const Sk=255,Tk=5;let b6=0;const ri={};function Tf(n,e){const t=Ak(n,e);if(-1!==t)return t;const r=e[U];r.firstCreatePass&&(n.injectorIndex=e.length,pv(r.data,n),pv(e,null),pv(r.blueprint,null));const i=Af(n,e),s=n.injectorIndex;if(hv(i)){const o=Jl(i),a=eu(i,e),c=a[U].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function pv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ak(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Af(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Nk(i),null===r)return Va;if(t++,i=i[Ra],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Va}function gv(n,e,t){!function w6(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bl)&&(r=t[Bl]),null==r&&(r=t[Bl]=b6++);const i=r&Sk;e.data[n+(i>>Tk)]|=1<<i}(n,e,t)}function Mk(n,e,t){if(t&pe.Optional||void 0!==n)return n;Ny()}function xk(n,e,t,r){if(t&pe.Optional&&void 0===r&&(r=null),!(t&(pe.Self|pe.Host))){const i=n[ps],s=Vn(void 0);try{return i?i.get(e,r,t&pe.Optional):yR(e,r,t&pe.Optional)}finally{Vn(s)}}return Mk(r,0,t)}function Rk(n,e,t,r=pe.Default,i){if(null!==n){if(2048&e[ce]&&!(r&pe.Self)){const o=function T6(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[ce]&&!(512&o[ce]);){const a=kk(s,o,t,r|pe.Self,ri);if(a!==ri)return a;let c=s.parent;if(!c){const l=o[FR];if(l){const u=l.get(t,ri,r);if(u!==ri)return u}c=Nk(o),o=o[Ra]}s=c}return i}(n,e,t,r,ri);if(o!==ri)return o}const s=kk(n,e,t,r,ri);if(s!==ri)return s}return xk(e,t,r,i)}function kk(n,e,t,r,i){const s=function I6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bl)?n[Bl]:void 0;return"number"==typeof e?e>=0?e&Sk:S6:e}(t);if("function"==typeof s){if(!_k(e,n,r))return r&pe.Host?Mk(i,0,r):xk(e,t,r,i);try{let o;if(o=s(r),null!=o||r&pe.Optional)return o;Ny()}finally{wk()}}else if("number"==typeof s){let o=null,a=Ak(n,e),c=Va,l=r&pe.Host?e[_t][pn]:null;for((-1===a||r&pe.SkipSelf)&&(c=-1===a?Af(n,e):e[a+8],c!==Va&&Pk(r,!1)?(o=e[U],a=Jl(c),e=eu(c,e)):a=-1);-1!==a;){const u=e[U];if(Ok(s,a,u.data)){const d=C6(a,e,t,o,r,l);if(d!==ri)return d}c=e[a+8],c!==Va&&Pk(r,e[U].data[a+8]===l)&&Ok(s,a,e)?(o=u,a=Jl(c),e=eu(c,e)):a=-1}}return i}function C6(n,e,t,r,i,s){const o=e[U],a=o.data[n+8],u=Mf(a,o,t,null==r?po(a)&&fv:r!=o&&0!=(3&a.type),i&pe.Host&&s===a);return null!==u?_o(e,o,u,a):ri}function Mf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&Nr(f)&&f.type===t)return c}return null}function _o(n,e,t,r){let i=n[t];const s=e.data;if(function m6(n){return n instanceof Zl}(i)){const o=i;o.resolving&&function G5(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${t}`)}(function xe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=Sf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Vn(o.injectImpl):null;_k(n,r,pe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function p6(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=ek(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&Vn(l),Sf(a),o.resolving=!1,wk()}}return i}function Ok(n,e,t){return!!(t[e+(n>>Tk)]&1<<n)}function Pk(n,e){return!(n&pe.Self||n&pe.Host&&e)}class Mn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Rk(this._tNode,this._lView,e,ff(r),t)}}function S6(){return new Mn(en(),S())}function mv(n){return Oy(n)?()=>{const e=mv(te(n));return e&&e()}:go(n)}function Nk(n){const e=n[U],t=e.type;return 2===t?e.declTNode:1===t?n[pn]:null}const Ua="__parameters__";function $a(n,e,t){return Ai(()=>{const r=function _v(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Ua)?c[Ua]:Object.defineProperty(c,Ua,{value:[]})[Ua];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function za(n,e){n.forEach(t=>Array.isArray(t)?za(t,e):e(t))}function Lk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ir(n,e,t){let r=Ga(n,e);return r>=0?n[1|r]=t:(r=~r,function P6(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function yv(n,e){const t=Ga(n,e);if(t>=0)return n[1|t]}function Ga(n,e){return function Vk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const yt=Vl($a("Optional"),8),Of=Vl($a("SkipSelf"),4);function Vf(n){return 128==(128&n.flags)}var vs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vs||{});const Cv=new Map;let i9=0;const Dv="__ngContext__";function gn(n,e){jn(e)?(n[Dv]=e[zl],function o9(n){Cv.set(n[zl],n)}(e)):n[Dv]=e}let Sv;function Tv(n,e){return Sv(n,e)}function ou(n){const e=n[nt];return Sn(e)?e[nt]:e}function iO(n){return oO(n[$l])}function sO(n){return oO(n[Pr])}function oO(n){for(;null!==n&&!Sn(n);)n=n[Pr];return n}function Ka(n,e,t,r,i){if(null!=r){let s,o=!1;Sn(r)?s=r:jn(r)&&(o=!0,r=r[ut]);const a=Ge(r);0===n&&null!==t?null==i?uO(e,t,a):yo(e,t,a,i||null,!0):1===n&&null!==t?yo(e,t,a,i||null,!0):2===n?function Gf(n,e,t){const r=Hf(n,e);r&&function D9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function A9(n,e,t,r,i){const s=t[ei];s!==Ge(t)&&Ka(e,n,r,s,i);for(let a=Zt;a<t.length;a++){const c=t[a];cu(c[U],c,n,e,r,s)}}(e,n,s,t,i)}}function jf(n,e,t){return n.createElement(e,t)}function cO(n,e){const t=n[Oa],r=t.indexOf(e);ak(e),t.splice(r,1)}function $f(n,e){if(n.length<=Zt)return;const t=Zt+e,r=n[t];if(r){const i=r[Hl];null!==i&&i!==n&&cO(i,r),e>0&&(n[t-1][Pr]=r[Pr]);const s=Rf(n,Zt+e);!function _9(n,e){cu(n,e,e[se],2,null,null),e[ut]=null,e[pn]=null}(r[U],r);const o=s[Jr];null!==o&&o.detachView(s[U]),r[nt]=null,r[Pr]=null,r[ce]&=-129}return r}function Mv(n,e){if(!(256&e[ce])){const t=e[se];e[Gl]&&qR(e[Gl]),e[ql]&&qR(e[ql]),t.destroyNode&&cu(n,e,t,3,null,null),function b9(n){let e=n[$l];if(!e)return xv(n[U],n);for(;e;){let t=null;if(jn(e))t=e[$l];else{const r=e[Zt];r&&(t=r)}if(!t){for(;e&&!e[Pr]&&e!==n;)jn(e)&&xv(e[U],e),e=e[nt];null===e&&(e=n),jn(e)&&xv(e[U],e),t=e&&e[Pr]}e=t}}(e)}}function xv(n,e){if(!(256&e[ce])){e[ce]&=-129,e[ce]|=256,function I9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Zl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ti(4,a,c);try{c.call(a)}finally{ti(5,a,c)}}else{ti(4,i,s);try{s.call(i)}finally{ti(5,i,s)}}}}}(n,e),function C9(n,e){const t=n.cleanup,r=e[Ma];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Ma]=null);const i=e[gs];if(null!==i){e[gs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[U].type&&e[se].destroy();const t=e[Hl];if(null!==t&&Sn(e[nt])){t!==e[nt]&&cO(t,e);const r=e[Jr];null!==r&&r.detachView(n)}!function a9(n){Cv.delete(n[zl])}(e)}}function Rv(n,e,t){return function lO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ut];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return $n(r,t)}}(n,e.parent,t)}function yo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function uO(n,e,t){n.appendChild(e,t)}function dO(n,e,t,r,i){null!==r?yo(n,e,t,r,i):uO(n,e,t)}function Hf(n,e){return n.parentNode(e)}let kv,Fv,Wf,pO=function fO(n,e,t){return 40&n.type?$n(n,t):null};function zf(n,e,t,r){const i=Rv(n,r,e),s=e[se],a=function hO(n,e,t){return pO(n,e,t)}(r.parent||e[pn],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)dO(s,i,t[c],a,!1);else dO(s,i,t,a,!1);void 0!==kv&&kv(s,r,e,t,i)}function au(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return Ov(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return au(n,r);{const i=n[e.index];return Sn(i)?Ov(-1,i):Ge(i)}}if(32&t)return Tv(e,n)()||Ge(n[e.index]);{const r=mO(n,e);return null!==r?Array.isArray(r)?r[0]:au(ou(n[_t]),r):au(n,e.next)}}return null}function mO(n,e){return null!==e?n[_t][pn].projection[e.projection]:null}function Ov(n,e){const t=Zt+n+1;if(t<e.length){const r=e[t],i=r[U].firstChild;if(null!==i)return au(r,i)}return e[ei]}function Pv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&gn(Ge(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Pv(n,e,t.child,r,i,s,!1),Ka(e,n,i,a,s);else if(32&c){const l=Tv(t,r);let u;for(;u=l();)Ka(e,n,i,u,s);Ka(e,n,i,a,s)}else 16&c?yO(n,e,r,t,i,s):Ka(e,n,i,a,s);t=o?t.projectionNext:t.next}}function cu(n,e,t,r,i,s){Pv(t,r,n.firstChild,e,i,s,!1)}function yO(n,e,t,r,i,s){const o=t[_t],c=o[pn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ka(e,n,i,c[l],s);else{let l=c;const u=o[nt];Vf(r)&&(l.flags|=128),Pv(n,e,l,u,i,s,!0)}}function vO(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function bO(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&qy(n,e,r),null!==i&&vO(n,e,i),null!==s&&function x9(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function CO(n){return function Lv(){if(void 0===Wf&&(Wf=null,ze.trustedTypes))try{Wf=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wf}()?.createScriptURL(n)||n}class IO{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pR})`}}function bs(n){return n instanceof IO?n.changingThisBreaksApplicationSecurity:n}function lu(n,e){const t=function U9(n){return n instanceof IO&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pR})`)}return t===e}const z9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Xa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Xa||{});function RO(n){const e=du();return e?e.sanitize(Xa.URL,n)||"":lu(n,"URL")?bs(n):function Vv(n){return(n=String(n)).match(z9)?n:"unsafe:"+n}(ie(n))}function kO(n){const e=du();if(e)return CO(e.sanitize(Xa.RESOURCE_URL,n)||"");if(lu(n,"ResourceURL"))return CO(bs(n));throw new E(904,!1)}function du(){const n=S();return n&&n[xa].sanitizer}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hu=new N("ENVIRONMENT_INITIALIZER"),PO=new N("INJECTOR",-1),NO=new N("INJECTOR_DEF_TYPES");class $v{get(e,t=Ll){if(t===Ll){const r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}}function r8(...n){return{\u0275providers:LO(0,n),\u0275fromNgModule:!0}}function LO(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return za(e,o=>{const a=o;Qf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&VO(i,s),t}function VO(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Hv(i,s=>{e(s,r)})}}function Qf(n,e,t,r){if(!(n=te(n)))return!1;let i=null,s=uf(n);const o=!s&&ve(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=uf(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Qf(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{za(s.imports,u=>{Qf(u,e,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&VO(l,e)}if(!a){const l=go(i)||(()=>new i);e({provide:i,useFactory:l,deps:Se},i),e({provide:NO,useValue:i,multi:!0},i),e({provide:hu,useValue:()=>C(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=n;Hv(c,u=>{e(u,l)})}}}return i!==n&&void 0!==n.providers}function Hv(n,e){for(let t of n)Py(t)&&(t=t.\u0275providers),Array.isArray(t)?Hv(t,e):e(t)}const i8=Oe({provide:String,useValue:Oe});function zv(n){return null!==n&&"object"==typeof n&&i8 in n}function vo(n){return"function"==typeof n}const Gv=new N("Set Injector scope."),Yf={},o8={};let qv;function Xf(){return void 0===qv&&(qv=new $v),qv}class Cr{}class Zf extends Cr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kv(e,o=>this.processProvider(o)),this.records.set(PO,Za(void 0,this)),i.has("environment")&&this.records.set(Cr,Za(void 0,this));const s=this.records.get(Gv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(NO.multi,Se,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=fs(this),r=Vn(void 0);try{return e()}finally{fs(t),Vn(r)}}get(e,t=Ll,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CR))return e[CR](this);r=ff(r);const s=fs(this),o=Vn(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function d8(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&lf(e);c=l&&this.injectableDefInScope(l)?Za(Wv(e),Yf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&pe.Self?Xf():this.parent).get(e,t=r&pe.Optional&&t===Ll?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[hf]=a[hf]||[]).unshift(Pt(e)),s)throw a;return function oW(n,e,t,r){const i=n[hf];throw e[bR]&&i.unshift(e[bR]),n.message=function aW(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(tW,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[hf]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Vn(o),fs(s)}}resolveInjectorInitializers(){const e=fs(this),t=Vn(void 0);try{const i=this.get(hu.multi,Se,pe.Self);for(const s of i)s()}finally{fs(e),Vn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let t=vo(e=te(e))?e:te(e&&e.provide);const r=function c8(n){return zv(n)?Za(void 0,n.useValue):Za(jO(n),Yf)}(e);if(vo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Za(void 0,Yf,!0),i.factory=()=>Hy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Yf&&(t.value=o8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function u8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Wv(n){const e=lf(n),t=null!==e?e.factory:go(n);if(null!==t)return t;if(n instanceof N)throw new E(204,!1);if(n instanceof Function)return function a8(n){const e=n.length;if(e>0)throw function ru(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new E(204,!1);const t=function X5(n){return n&&(n[df]||n[mR])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new E(204,!1)}function jO(n,e,t){let r;if(vo(n)){const i=te(n);return go(i)||Wv(i)}if(zv(n))r=()=>te(n.useValue);else if(function UO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Hy(n.deps||[]));else if(function BO(n){return!(!n||!n.useExisting)}(n))r=()=>C(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function l8(n){return!!n.deps}(n))return go(i)||Wv(i);r=()=>new i(...Hy(n.deps))}return r}function Za(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Kv(n,e){for(const t of n)Array.isArray(t)?Kv(t,e):t&&Py(t)?Kv(t.\u0275providers,e):e(t)}const Jf=new N("AppId",{providedIn:"root",factory:()=>h8}),h8="ng",$O=new N("Platform Initializer"),Fr=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qv=new N("AnimationModuleType"),Yv=new N("CSP nonce",{providedIn:"root",factory:()=>function Ya(){if(void 0!==Fv)return Fv;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HO=(n,e,t)=>null;function ib(n,e,t=!1){return HO(n,e,t)}class E8{}class qO{}class I8{resolveComponentFactory(e){throw function C8(n){const e=Error(`No component factory found for ${Pt(n)}.`);return e.ngComponent=n,e}(e)}}let ws=(()=>{class n{static#e=this.NULL=new I8}return n})();function D8(){return tc(en(),S())}function tc(n,e){return new Bt($n(n,e))}let Bt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=D8}return n})();function S8(n){return n instanceof Bt?n.nativeElement:n}class gu{}let Lr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function T8(){const n=S(),t=rr(en().index,n);return(jn(t)?t:n)[se]}()}return n})(),A8=(()=>{class n{static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();class nc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KO=new nc("16.2.7"),ab={};function ZO(n,e=null,t=null,r){const i=JO(n,e,t,r);return i.resolveInjectorInitializers(),i}function JO(n,e=null,t=null,r,i=new Set){const s=[t||Se,r8(n)];return r=r||("object"==typeof n?void 0:Pt(n)),new Zf(s,e||Xf(),r||null,i)}let Xe=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ll;static#t=this.NULL=new $v;static create(t,r){if(Array.isArray(t))return ZO({name:""},r,t,"");{const i=t.name??"";return ZO({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=V({token:n,providedIn:"any",factory:()=>C(PO)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function lb(n){return n.ngOriginalError}class Pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&lb(e);for(;t&&lb(t);)t=lb(t);return t||null}}function db(n){return e=>{setTimeout(n,void 0,e)}}const Re=class N8 extends He{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=db(s),i&&(i=db(i)),o&&(o=db(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Yt&&e.add(a),a}};function tP(...n){}class ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function F8(){const n="function"==typeof ze.requestAnimationFrame;let e=ze[n?"requestAnimationFrame":"setTimeout"],t=ze[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function B8(n){const e=()=>{!function V8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fb(n),n.isCheckStableRunning=!0,hb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function j8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return nP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),rP(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return nP(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),rP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fb(n),hb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ne.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(ne.isInAngularZone())throw new E(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,L8,tP,tP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const L8={};function hb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rP(n){n._nesting--,hb(n)}class U8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const iP=new N("",{providedIn:"root",factory:sP});function sP(){const n=j(ne);let e=!0;return dR(new Be(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ne.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(hR()))}function oP(n){return n.ownerDocument.defaultView}function Ni(n){return n instanceof Function?n():n}let pb=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})();function mu(n){for(;n;){n[ce]|=64;const e=ou(n);if(Qy(n)&&!e)return n;n=e}return null}const dP=new N("",{providedIn:"root",factory:()=>!1});let op=null;function gP(n,e){return n[e]??yP()}function mP(n,e){const t=yP();t.producerNode?.length&&(n[e]=op,t.lView=n,op=_P())}const Y8={...UR,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{mu(n.lView)},lView:null};function _P(){return Object.create(Y8)}function yP(){return op??=_P(),op}const ae={};function zn(n){vP(be(),S(),An()+n,!1)}function vP(n,e,t,r){if(!r)if(3==(3&e[ce])){const s=n.preOrderCheckHooks;null!==s&&If(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Df(e,s,0,t)}mo(t)}function D(n,e=pe.Default){const t=S();return null===t?C(n,e):Rk(en(),t,te(n),e)}function ap(n,e,t,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[ut]=i,d[ce]=140|r,(null!==l||n&&2048&n[ce])&&(d[ce]|=2048),ok(d),d[nt]=d[Ra]=n,d[mt]=t,d[xa]=o||n&&n[xa],d[se]=a||n&&n[se],d[ps]=c||n&&n[ps]||null,d[pn]=s,d[zl]=function s9(){return i9++}(),d[xi]=u,d[FR]=l,d[_t]=2==e.type?n[_t]:d,d}function sc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function gb(n,e,t,r,i){const s=hk(),o=rv(),c=n.data[e]=function i7(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Fa(){return null!==ee.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function i6(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Xl(){const n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ni(s,!0),s}function _u(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wP(n,e,t,r,i){const s=gP(e,Gl),o=An(),a=2&r;try{mo(-1),a&&e.length>ge&&vP(n,e,ge,!1),ti(a?2:0,i);const l=a?s:null,u=Xy(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{Zy(l,u)}}finally{a&&null===e[Gl]&&mP(e,Gl),mo(o),ti(a?3:1,i)}}function mb(n,e,t){if(Ky(e)){const r=br(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{br(r)}}}function _b(n,e,t){dk()&&(function d7(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;po(t)&&function y7(n,e,t){const r=$n(e,n),i=EP(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=cp(n,ap(n,i,null,o,r,e,null,n[xa].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tf(t,e),gn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=_o(e,n,a,t);gn(l,e),null!==o&&v7(0,a-i,l,c,0,o),Nr(c)&&(rr(t.index,e)[mt]=_o(e,n,a,t))}}(n,e,t,$n(t,e)),64==(64&t.flags)&&TP(n,e,t))}function yb(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function EP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=vb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function vb(n,e,t,r,i,s,o,a,c,l,u){const d=ge+r,h=d+i,f=function Z8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(d,h),p="function"==typeof l?l():l;return f[U]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let CP=n=>null;function IP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?DP(t,e,i,s):r.hasOwnProperty(i)&&DP(t,e,r[i],s)}return t}function DP(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function sr(n,e,t,r,i,s,o,a){const c=$n(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Ib(n,t,u,r,i),po(e)&&function a7(n,e){const t=rr(e,n);16&t[ce]||(t[ce]|=64)}(t,e.index)):3&e.type&&(r=function o7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function bb(n,e,t,r){if(dk()){const i=null===r?null:{"":-1},s=function f7(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(xR(e,o.selectors,!1))if(r||(r=[]),Nr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),wb(n,e,a.length)}else r.unshift(o),wb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&SP(n,e,t,o,i,a),i&&function p7(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new E(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Ul(t.mergedAttrs,t.attrs)}function SP(n,e,t,r,i,s){for(let l=0;l<r.length;l++)gv(Tf(t,e),n,r[l].type);!function m7(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=_u(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=Ul(t.mergedAttrs,u.hostAttrs),_7(n,t,e,c,u),g7(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function s7(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;c=IP(d.inputs,u,c,h?h.inputs:null),l=IP(d.outputs,u,l,p);const g=null===c||null===o||MR(e)?null:b7(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function TP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function o6(){return ee.lFrame.currentDirectiveIndex}();try{mo(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];sv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&h7(c,l)}}finally{mo(-1),sv(o)}}function h7(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function wb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function g7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nr(e)&&(t[""]=n)}}function _7(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=go(i.type)),o=new Zl(s,Nr(i),D);n.blueprint[r]=o,t[r]=o,function l7(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function u7(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,_u(n,t,i.hostVars,ae),i)}function ii(n,e,t,r,i,s){const o=$n(n,e);!function Eb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[se],o,s,n.value,t,r,i)}function v7(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)AP(r,t,o[a++],o[a++],o[a++])}function AP(n,e,t,r,i){const s=br(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{br(s)}}function b7(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function MP(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function xP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];av(t[r]),o.contentQueries(2,e[s],s)}}}function cp(n,e){return n[$l]?n[NR][Pr]=e:n[$l]=e,n[NR]=e,e}function Cb(n,e,t){av(0);const r=br(null);try{e(n,t)}finally{br(r)}}function RP(n){return n[Ma]||(n[Ma]=[])}function kP(n){return n.cleanup||(n.cleanup=[])}function PP(n,e){const t=n[ps],r=t?t.get(Pi,null):null;r&&r.handleError(e)}function Ib(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];AP(n.data[o],e[o],r,a,i)}}function w7(n,e){const t=rr(e,n),r=t[U];!function E7(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[ut];null!==i&&null===t[xi]&&(t[xi]=ib(i,t[ps])),Db(r,t,t[mt])}function Db(n,e,t){cv(e);try{const r=n.viewQuery;null!==r&&Cb(1,r,t);const i=n.template;null!==i&&wP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xP(n,e),n.staticViewQueries&&Cb(2,n.viewQuery,t);const s=n.components;null!==s&&function C7(n,e){for(let t=0;t<e.length;t++)w7(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,lv()}}let NP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function FW(n,e,t){const r=Object.create(LW);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>zR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!GR(r))return;r.hasRun=!0;const o=Xy(r);try{r.cleanupFn(),r.cleanupFn=JR,r.fn(i)}finally{Zy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})();function lp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ky(i,a):2==s&&(r=ky(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function yu(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Ge(s)),Sn(s)&&FP(s,r);const o=t.type;if(8&o)yu(n,e,t.child,r);else if(32&o){const a=Tv(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=mO(e,t);if(Array.isArray(a))r.push(...a);else{const c=ou(e[_t]);yu(c[U],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function FP(n,e){for(let t=Zt;t<n.length;t++){const r=n[t],i=r[U].firstChild;null!==i&&yu(r[U],r,i,e)}n[ei]!==n[ut]&&e.push(n[ei])}function up(n,e,t,r=!0){const i=e[xa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{LP(n,e,n.template,t)}catch(c){throw r&&PP(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function LP(n,e,t,r){const i=e[ce];if(256!=(256&i)){e[xa].effectManager?.flush(),cv(e);try{ok(e),function pk(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&wP(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&If(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Df(e,l,0,null),uv(e,0)}if(function S7(n){for(let e=iO(n);null!==e;e=sO(e)){if(!e[LR])continue;const t=e[Oa];for(let r=0;r<t.length;r++){WW(t[r])}}}(e),VP(e,2),null!==n.contentQueries&&xP(n,e),o){const l=n.contentCheckHooks;null!==l&&If(e,l)}else{const l=n.contentHooks;null!==l&&Df(e,l,1),uv(e,1)}!function X8(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=gP(e,ql);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)mo(~s);else{const o=s,a=t[++i],c=t[++i];s6(a,o),r.dirty=!1;const l=Xy(r);try{c(2,e[o])}finally{Zy(r,l)}}}}finally{null===e[ql]&&mP(e,ql),mo(-1)}}(n,e);const a=n.components;null!==a&&UP(e,a,0);const c=n.viewQuery;if(null!==c&&Cb(2,c,r),o){const l=n.viewCheckHooks;null!==l&&If(e,l)}else{const l=n.viewHooks;null!==l&&Df(e,l,2),uv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ce]&=-73,ak(e)}finally{lv()}}}function VP(n,e){for(let t=iO(n);null!==t;t=sO(t))for(let r=Zt;r<t.length;r++)BP(t[r],e)}function T7(n,e,t){BP(rr(e,n),t)}function BP(n,e){if(!function GW(n){return 128==(128&n[ce])}(n))return;const t=n[U],r=n[ce];if(80&r&&0===e||1024&r||2===e)LP(t,n,t.template,n[mt]);else if(n[jl]>0){VP(n,1);const i=t.components;null!==i&&UP(n,i,1)}}function UP(n,e,t){for(let r=0;r<e.length;r++)T7(n,e[r],t)}class vu{get rootNodes(){const e=this._lView,t=e[U];return yu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return 256==(256&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[nt];if(Sn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($f(e,r),Rf(t,r))}this._attachedToViewContainer=!1}Mv(this._lView[U],this._lView)}onDestroy(e){!function lk(n,e){if(256==(256&n[ce]))throw new E(911,!1);null===n[gs]&&(n[gs]=[]),n[gs].push(e)}(this._lView,e)}markForCheck(){mu(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-129}reattach(){this._lView[ce]|=128}detectChanges(){up(this._lView[U],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v9(n,e){cu(n,e,e[se],2,null,null)}(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class A7 extends vu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;up(e[U],e,e[mt],!1)}checkNoChanges(){}get context(){return null}}class jP extends ws{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ve(e);return new bu(t,this.ngModule)}}function $P(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class x7{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ff(r);const i=this.injector.get(e,ab,r);return i!==ab||t===ab?i:this.parentInjector.get(e,t,r)}}class bu extends qO{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=$P(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return $P(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _W(n){return n.map(mW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Cr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new x7(e,s):e,a=o.get(gu,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:o.get(A8,null),effectManager:o.get(NP,null),afterRenderEventManager:o.get(pb,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function J8(n,e,t,r){const s=r.get(dP,!1)||t===vr.ShadowDom,o=n.selectRootElement(e,s);return function e7(n){CP(n)}(o),o}(h,r,this.componentDef.encapsulation,o):jf(h,f,function M7(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=ib(p,o,!0));const I=vb(0,null,null,1,0,null,null,null,null,null,null),k=ap(null,I,null,v,null,null,d,h,o,null,y);let H,W;cv(k);try{const le=this.componentDef;let Qe,Rt=null;le.findHostDirectiveDefs?(Qe=[],Rt=new Map,le.findHostDirectiveDefs(le,Qe,Rt),Qe.push(le)):Qe=[le];const gr=function k7(n,e){const t=n[U],r=ge;return n[r]=e,sc(t,r,2,"#host",null)}(k,p),gy=function O7(n,e,t,r,i,s,o){const a=i[U];!function P7(n,e,t,r){for(const i of n)e.mergedAttrs=Ul(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(lp(e,e.mergedAttrs,!0),null!==t&&bO(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=ib(e,i[ps]));const l=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=ap(i,EP(t),null,u,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&wb(a,n,r.length-1),cp(i,d),i[n.index]=d}(gr,p,le,Qe,k,d,h);W=sk(I,ge),p&&function F7(n,e,t,r){if(r)qy(n,t,["ng-version",KO.full]);else{const{attrs:i,classes:s}=function yW(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Or(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&qy(n,t,i),s&&s.length>0&&vO(n,t,s.join(" "))}}(h,le,p,r),void 0!==t&&function L7(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,t),H=function N7(n,e,t,r,i,s){const o=en(),a=i[U],c=$n(o,i);SP(a,i,o,t,null,r);for(let u=0;u<t.length;u++)gn(_o(i,a,o.directiveStart+u,o),i);TP(a,i,o),c&&gn(c,i);const l=_o(i,a,o.directiveStart+o.componentOffset,o);if(n[mt]=i[mt]=l,null!==s)for(const u of s)u(l,e);return mb(a,o,n),l}(gy,le,Qe,Rt,k,[V7]),Db(I,k,null)}finally{lv()}return new R7(this.componentType,H,tc(W,k),k,W)}}class R7 extends E8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new A7(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Ib(s[U],s,i,e,t),this.previousInputValues.set(e,t),mu(rr(this._tNode.index,s))}}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function V7(){const n=en();Cf(S()[U],n)}function ke(n){let e=function HP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=dp(n.inputs),o.inputTransforms=dp(n.inputTransforms),o.declaredInputs=dp(n.declaredInputs),o.outputs=dp(n.outputs);const a=i.hostBindings;a&&$7(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&U7(n,c),l&&j7(n,l),af(n.inputs,i.inputs),af(n.declaredInputs,i.declaredInputs),af(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),af(o.inputTransforms,i.inputTransforms)),Nr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}!function B7(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ul(i.hostAttrs,t=Ul(t,i.hostAttrs))}}(r)}function dp(n){return n===Zr?{}:n===Se?[]:n}function U7(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function j7(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function $7(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function WP(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function hp(n){return!!Sb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Sb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function si(n,e,t){return n[e]=t}function mn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vr(n,e,t,r){const i=S();return mn(i,La(),e)&&(be(),ii(ot(),i,n,e,t,r)),Vr}function kb(n,e,t,r,i,s,o,a){const c=S(),l=be(),u=n+ge,d=l.firstCreatePass?function fK(n,e,t,r,i,s,o,a,c){const l=e.consts,u=sc(e,n,4,o||null,_s(l,a));bb(e,t,u,_s(l,c)),Cf(e,u);const d=u.tView=vb(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,s,o):l.data[u];ni(d,!1);const h=oN(l,c,d,n);Ef()&&zf(l,c,h,d),gn(h,c),cp(c,c[u]=MP(h,c,h,d)),yf(d)&&_b(l,c,d),null!=o&&yb(c,d,a)}let oN=function aN(n,e,t,r){return ys(!0),e[se].createComment("")};function wo(n){return function Na(n,e){return n[e]}(function r6(){return ee.lFrame.contextLView}(),ge+n)}function or(n,e,t){const r=S();return mn(r,La(),e)&&sr(be(),ot(),r,n,e,r[se],t,!1),or}function Ob(n,e,t,r,i){const o=i?"class":"style";Ib(n,t,e.inputs[o],o,r)}function M(n,e,t,r){const i=S(),s=be(),o=ge+n,a=i[se],c=s.firstCreatePass?function _K(n,e,t,r,i,s){const o=e.consts,c=sc(e,n,2,r,_s(o,i));return bb(e,t,c,_s(o,s)),null!==c.attrs&&lp(c,c.attrs,!1),null!==c.mergedAttrs&&lp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=cN(s,i,c,a,e,n);i[o]=l;const u=yf(c);return ni(c,!0),bO(a,l,c),32!=(32&c.flags)&&Ef()&&zf(s,i,l,c),0===function QW(){return ee.lFrame.elementDepthCount}()&&gn(l,i),function YW(){ee.lFrame.elementDepthCount++}(),u&&(_b(s,i,c),mb(s,c,i)),null!==r&&yb(i,c),M}function R(){let n=en();rv()?function iv(){ee.lFrame.isParent=!1}():(n=n.parent,ni(n,!1));const e=n;(function ZW(n){return ee.skipHydrationRootTNode===n})(e)&&function n6(){ee.skipHydrationRootTNode=null}(),function XW(){ee.lFrame.elementDepthCount--}();const t=be();return t.firstCreatePass&&(Cf(t,n),Ky(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function _6(n){return 0!=(8&n.flags)}(e)&&Ob(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function y6(n){return 0!=(16&n.flags)}(e)&&Ob(t,e,S(),e.stylesWithoutHost,!1),R}function we(n,e,t,r){return M(n,e,t,r),R(),we}let cN=(n,e,t,r,i,s)=>(ys(!0),jf(r,i,function Ek(){return ee.lFrame.currentNamespace}()));function Du(){return S()}function Su(n){return!!n&&"function"==typeof n.then}function dN(n){return!!n&&"function"==typeof n.subscribe}function It(n,e,t,r){const i=S(),s=be(),o=en();return function fN(n,e,t,r,i,s,o){const a=yf(r),l=n.firstCreatePass&&kP(n),u=e[mt],d=RP(e);let h=!0;if(3&r.type||o){const g=$n(r,e),_=o?o(g):g,v=d.length,y=o?k=>o(Ge(k[r.index])):r.index;let I=null;if(!o&&a&&(I=function CK(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ma],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=gN(r,e,u,s,!1);const k=t.listen(_,i,s);d.push(s,k),l&&l.push(i,y,v,v+1)}}else s=gN(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const H=e[p[_]][p[_+1]].subscribe(s),W=d.length;d.push(s,H),l&&l.push(i,r.index,W,-(W+1))}}}(s,i,i[se],o,n,e,r),It}function pN(n,e,t,r){try{return ti(6,e,t),!1!==t(r)}catch(i){return PP(n,i),!1}finally{ti(7,e,t)}}function gN(n,e,t,r,i){return function s(o){if(o===Function)return r;mu(n.componentOffset>-1?rr(n.index,e):e);let c=pN(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=pN(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Fb(n=1){return function c6(n){return(ee.lFrame.contextLView=function l6(n,e){for(;n>0;)e=e[Ra],n--;return e}(n,ee.lFrame.contextLView))[mt]}(n)}function _p(n,e){return n<<17|e<<2}function Es(n){return n>>17&32767}function Vb(n){return 2|n}function Eo(n){return(131068&n)>>2}function Bb(n,e){return-131069&n|e<<2}function Ub(n){return 1|n}function DN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Es(s):Eo(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];kK(n[a],e)&&(c=!0,n[a+1]=r?Ub(u):Vb(u)),a=r?Es(u):Eo(u)}c&&(n[t+1]=r?Vb(s):Ub(s))}function kK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ga(n,e)>=0}const Ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SN(n){return n.substring(Ft.key,Ft.keyEnd)}function TN(n,e){const t=Ft.textEnd;return t===e?-1:(e=Ft.keyEnd=function FK(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ft.key=e,t),gc(n,e,t))}function gc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function mc(n,e){return function Br(n,e,t,r){const i=S(),s=be(),o=ki(2);s.firstUpdatePass&&NN(s,n,o,r),e!==ae&&mn(i,o,e)&&LN(s,s.data[An()],i,i[se],n,i[o+1]=function WK(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Pt(bs(n)))),n}(e,t),r,o)}(n,e,null,!0),mc}function ON(n){!function Ur(n,e,t,r){const i=be(),s=ki(2);i.firstUpdatePass&&NN(i,null,s,r);const o=S();if(t!==ae&&mn(o,s,t)){const a=i.data[An()];if(BN(a,r)&&!PN(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ky(c,t||"")),Ob(i,a,o,t,r)}else!function qK(n,e,t,r,i,s,o,a){i===ae&&(i=Se);let c=0,l=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),null!==p&&LN(n,e,t,r,p,g,o,a),u=c<i.length?i[c]:null,d=l<s.length?s[l]:null}}(i,a,o,o[se],o[s+1],o[s+1]=function zK(n,e,t){if(null==t||""===t)return Se;const r=[],i=bs(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(GK,ai,n,!0)}function ai(n,e){for(let t=function PK(n){return function MN(n){Ft.key=0,Ft.keyEnd=0,Ft.value=0,Ft.valueEnd=0,Ft.textEnd=n.length}(n),TN(n,gc(n,0,Ft.textEnd))}(e);t>=0;t=TN(e,t))ir(n,SN(e),!0)}function PN(n,e){return e>=n.expandoStartIndex}function NN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[An()],o=PN(n,t);BN(s,r)&&null===e&&!o&&(e=!1),e=function UK(n,e,t,r){const i=function ov(n){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Tu(t=jb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=jb(i,n,e,t,r),null===s){let c=function jK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Eo(r))return n[Es(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=jb(null,n,e,c[1],r),c=Tu(c,e.attrs,r),function $K(n,e,t,r){n[Es(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function HK(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Tu(r,n[s].hostAttrs,t);return Tu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function xK(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),c=Eo(o);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ga(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const h=Es(n[a+1]);n[r+1]=_p(h,a),0!==h&&(n[h+1]=Bb(n[h+1],r)),n[a+1]=function AK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=_p(a,0),0!==a&&(n[a+1]=Bb(n[a+1],r)),a=r;else n[r+1]=_p(c,0),0===a?a=r:n[c+1]=Bb(n[c+1],r),c=r;l&&(n[r+1]=Vb(n[r+1])),DN(n,u,r,!0),DN(n,u,r,!1),function RK(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ga(s,e)>=0&&(t[r+1]=Ub(t[r+1]))}(e,u,n,r,s),o=_p(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function jb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Tu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Tu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ir(n,o,!!t||e[++s]))}return void 0===n?null:n}function GK(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ir(n,r,t)}function LN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function MK(n){return 1==(1&n)}(l)?VN(c,e,t,i,Eo(l),o):void 0;yp(u)||(yp(s)||function TK(n){return 2==(2&n)}(l)&&(s=VN(c,null,t,i,a,o)),function M9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:vs.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vs.Important),n.setStyle(t,r,i,s))}}(r,o,wf(An(),t),i,s))}function VN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===ae&&(h=d?Se:void 0);let f=d?yv(h,r):u===r?h:void 0;if(l&&!yp(f)&&(f=yv(c,r)),yp(f)&&(a=f,o))return a;const p=n[i+1];i=o?Es(p):Eo(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=yv(c,r))}return a}function yp(n){return void 0!==n}function BN(n,e){return 0!=(n.flags&(e?8:16))}function O(n,e=""){const t=S(),r=be(),i=n+ge,s=r.firstCreatePass?sc(r,i,1,e,null):r.data[i],o=UN(r,t,s,e,n);t[i]=o,Ef()&&zf(r,t,o,s),ni(s,!1)}let UN=(n,e,t,r,i)=>(ys(!0),function Uf(n,e){return n.createText(e)}(e[se],r));function vp(n){return bp("",n,""),vp}function bp(n,e,t){const r=S(),i=function ac(n,e,t,r){return mn(n,La(),t)?e+ie(t)+r:ae}(r,n,e,t);return i!==ae&&function Fi(n,e,t){const r=wf(e,n);!function aO(n,e,t){n.setValue(e,t)}(n[se],r,t)}(r,An(),i),bp}function wp(n,e,t){const r=S();return mn(r,La(),e)&&sr(be(),ot(),r,n,e,r[se],t,!0),wp}const yc="en-US";let c1=yc;function zb(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let s=0;s<n.length;s++)zb(n[s],e,t,r,i);else{const s=be(),o=S(),a=en();let c=vo(n)?n:te(n.provide);const l=jO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(vo(n)||!n.multi){const f=new Zl(l,i,D),p=qb(c,e,i?u:u+h,d);-1===p?(gv(Tf(a,o),s,c),Gb(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=qb(c,e,u+h,d),p=qb(c,e,u,u+h),_=p>=0&&t[p];if(i&&!_||!i&&!(f>=0&&t[f])){gv(Tf(a,o),s,c);const v=function pY(n,e,t,r,i){const s=new Zl(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,O1(s,i,r&&!t),s}(i?fY:hY,t.length,i,r,l);!i&&_&&(t[p].providerFactory=v),Gb(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),o.push(v)}else Gb(s,n,f>-1?f:p,O1(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function Gb(n,e,t,r){const i=vo(e),s=function s8(n){return!!n.useClass}(e);if(i||s){const c=(s?te(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function O1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function hY(n,e,t,r){return Wb(this.multi,[])}function fY(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=_o(t,t[U],this.providerFactory.index,r);s=a.slice(0,o),Wb(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Wb(i,s);return s}function Wb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function je(n,e=[]){return t=>{t.providersResolver=(r,i)=>function dY(n,e,t){const r=be();if(r.firstCreatePass){const i=Nr(n);zb(t,r.data,r.blueprint,i,!0),zb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Io{}class P1{}class Kb extends Io{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jP(this);const i=nr(e);this._bootstrapComponents=Ni(i.bootstrap),this._r3Injector=JO(e,t,[{provide:Io,useValue:this},{provide:ws,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qb extends P1{constructor(e){super(),this.moduleType=e}create(e){return new Kb(this.moduleType,e,[])}}class N1 extends Io{constructor(e){super(),this.componentFactoryResolver=new jP(this),this.instance=null;const t=new Zf([...e.providers,{provide:Io,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],e.parent||Xf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Yb(n,e,t=null){return new N1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let _Y=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=LO(0,t.type),i=r.length>0?Yb([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(C(Cr))})}return n})();function F1(n){n.getStandaloneInjector=e=>e.get(_Y).getOrCreateStandaloneInjector(n)}function Zb(n,e,t,r){return function z1(n,e,t,r,i,s){const o=e+t;return mn(n,o,i)?si(n,o+1,s?r.call(s,i):r(i)):function Ou(n,e){const t=n[e];return t===ae?void 0:t}(n,o+1)}(S(),Tn(),n,e,t,r)}function jY(){return this._results[Symbol.iterator]()}class Jb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Re)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Jb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jY)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Er(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function k6(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function HY(n,e,t,r=!0){const i=e[U];if(function w9(n,e,t,r){const i=Zt+r,s=t.length;r>0&&(t[i-1][Pr]=e),r<s-Zt?(e[Pr]=t[i],Lk(t,Zt+r,e)):(t.push(e),e[Pr]=null),e[nt]=t;const o=e[Hl];null!==o&&t!==o&&function E9(n,e){const t=n[Oa];e[_t]!==e[nt][nt][_t]&&(n[LR]=!0),null===t?n[Oa]=[e]:t.push(e)}(o,e);const a=e[Jr];null!==a&&a.insertView(n),e[ce]|=128}(i,e,n,t),r){const s=Ov(t,n),o=e[se],a=Hf(o,n[ei]);null!==a&&function y9(n,e,t,r,i,s){r[ut]=i,r[pn]=e,cu(n,r,t,1,i,s)}(i,n[pn],o,e,a,s)}}let ci=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=qY}return n})();const zY=ci,GY=class extends zY{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function $Y(n,e,t,r){const i=e.tView,a=ap(n,i,t,4096&n[ce]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Hl]=n[e.index];const l=n[Jr];return null!==l&&(a[Jr]=l.createEmbeddedView(i)),Db(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new vu(i)}};function qY(){return Sp(en(),S())}function Sp(n,e){return 4&n.type?new GY(e,n,tc(n,e)):null}let Dr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ZY}return n})();function ZY(){return tF(en(),S())}const JY=Dr,J1=class extends JY{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return tc(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Af(this._hostTNode,this._hostLView);if(hv(e)){const t=eu(e,this._hostLView),r=Jl(e);return new Mn(t[U].data[r+8],t)}return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function nu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new bu(ve(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?l:this.parentInjector).get(Cr,null);_&&(s=_)}ve(c.componentType??{});const f=c.create(l,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function qW(n){return Sn(n[nt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[nt],u=new J1(l,l[pn],l[nt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return HY(a,i,o,!r),e.attachToViewContainerRef(),Lk(ew(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$f(this._lContainer,t);r&&(Rf(ew(this._lContainer),t),Mv(r[U],r))}detach(e){const t=this._adjustIndex(e,-1),r=$f(this._lContainer,t);return r&&null!=Rf(ew(this._lContainer),t)?new vu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eF(n){return n[8]}function ew(n){return n[8]||(n[8]=[])}function tF(n,e){let t;const r=e[n.index];return Sn(r)?t=r:(t=MP(r,e,null,n),e[n.index]=t,cp(e,t)),nF(t,e,n,r),new J1(t,n,e)}let nF=function rF(n,e,t,r){if(n[ei])return;let i;i=8&t.type?Ge(r):function eX(n,e){const t=n[se],r=t.createComment(""),i=$n(e,n);return yo(t,Hf(t,i),r,function S9(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ei]=i};class tw{constructor(e){this.queryList=e,this.matches=null}clone(){return new tw(this.queryList)}setDirty(){this.queryList.setDirty()}}class nw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new nw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==cF(e,t).matches&&this.queries[t].setDirty()}}class iF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class rw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new rw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class iw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new iw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,rX(t,s)),this.matchTNodeWithReadOption(e,t,Mf(t,e,s,!1,!1))}else r===ci?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Mf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bt||i===Dr||i===ci&&4&t.type)this.addMatch(t.index,-2);else{const s=Mf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function rX(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function sX(n,e,t,r){return-1===t?function iX(n,e){return 11&n.type?tc(n,e):4&n.type?Sp(n,e):null}(e,n):-2===t?function oX(n,e,t){return t===Bt?tc(e,n):t===ci?Sp(e,n):t===Dr?tF(e,n):void 0}(n,e,r):_o(n,n[U],t,e)}function sF(n,e,t,r){const i=e[Jr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:sX(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function sw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=sF(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Zt;d<u.length;d++){const h=u[d];h[Hl]===h[nt]&&sw(h[U],h,l,r)}if(null!==u[Oa]){const d=u[Oa];for(let h=0;h<d.length;h++){const f=d[h];sw(f[U],f,l,r)}}}}}return r}function Li(n){const e=S(),t=be(),r=mk();av(r+1);const i=cF(t,r);if(n.dirty&&function zW(n){return 4==(4&n[ce])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?sw(t,e,r,[]):sF(t,e,i,r);n.reset(s,S8),n.notifyOnChanges()}return!0}return!1}function Do(n,e,t){const r=be();r.firstCreatePass&&(aF(r,new iF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),oF(r,S(),e)}function ow(n,e,t,r){const i=be();if(i.firstCreatePass){const s=en();aF(i,new iF(e,t,r),s.index),function cX(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}oF(i,S(),t)}function Vi(){return function aX(n,e){return n[Jr].queries[e].queryList}(S(),mk())}function oF(n,e,t){const r=new Jb(4==(4&t));(function r7(n,e,t,r){const i=RP(e);i.push(t),n.firstCreatePass&&kP(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Jr]&&(e[Jr]=new nw),e[Jr].queries.push(new tw(r))}function aF(n,e,t){null===n.queries&&(n.queries=new rw),n.queries.track(new iw(e,t))}function cF(n,e){return n.queries.getByIndex(e)}const Fu=new N("Application Initializer");let hw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=j(Fu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Su(s))t.push(s);else if(dN(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Bi=new N("LocaleId",{providedIn:"root",factory:()=>j(Bi,pe.Optional|pe.SkipSelf)||function xX(){return typeof $localize<"u"&&$localize.locale||yc}()});let SF=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _r(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class OX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TF=(()=>{class n{compileModuleSync(t){return new Qb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ni(nr(t).declarations).reduce((o,a)=>{const c=ve(a);return c&&o.push(new bu(c)),o},[]);return new OX(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const RF=new N(""),xp=new N("");let _w,gw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_w||(function JX(n){_w=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(C(ne),C(mw),C(xp))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return _w?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Cs=null;const kF=new N("AllowMultipleToken"),yw=new N("PlatformDestroyListeners"),vw=new N("appBootstrapListener");class PF{constructor(e,t){this.name=e,this.token=t}}function FF(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=bw();if(!o||o.injector.get(kF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function nZ(n){if(Cs&&!Cs.get(kF,!1))throw new E(400,!1);(function OF(){!function RW(n){QR=n}(()=>{throw new E(600,!1)})})(),Cs=n;const e=n.get(VF);(function NF(n){n.get($O,null)?.forEach(t=>t())})(n)}(function LF(n=[],e){return Xe.create({name:e,providers:[{provide:Gv,useValue:"platform"},{provide:yw,useValue:new Set([()=>Cs=null])},...n]})}(a,r))}return function iZ(n){const e=bw();if(!e)throw new E(401,!1);return e}()}}function bw(){return Cs?.get(VF)??null}let VF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function sZ(n="zone.js",e){return"noop"===n?new U8:"zone.js"===n?new ne(e):n}(r?.ngZone,function BF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function mY(n,e,t){return new Kb(n,e,t)}(t.moduleType,this.injector,function zF(n){return[{provide:ne,useFactory:n},{provide:hu,multi:!0,useFactory:()=>{const e=j(aZ,{optional:!0});return()=>e.initialize()}},{provide:HF,useFactory:oZ},{provide:iP,useFactory:sP}]}(()=>i)),o=s.injector.get(Pi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Rp(this._modules,s),a.unsubscribe()})}),function UF(n,e,t){try{const r=t();return Su(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(hw);return a.runInitializers(),a.donePromise.then(()=>(function l1(n){yr(n,"Expected localeId to be defined"),"string"==typeof n&&(c1=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Bi,yc)||yc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=jF({},r);return function eZ(n,e,t){const r=new Qb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Is);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(yw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(C(Xe))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function jF(n,e){return Array.isArray(e)?e.reduce(jF,n):{...n,...e}}let Is=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(HF),this.zoneIsStable=j(iP),this.componentTypes=[],this.components=[],this.isStable=j(SF).hasPendingTasks.pipe(er(t=>t?Y(!1):this.zoneIsStable),fR(),hR()),this._injector=j(Cr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof qO;if(!this._injector.get(hw).done)throw!i&&function Aa(n){const e=ve(n)||Xt(n)||Dn(n);return null!==e&&e.standalone}(t),new E(405,!1);let o;o=i?t:this._injector.get(ws).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function tZ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Io),l=o.create(Xe.NULL,[],r||o.selector,a),u=l.location.nativeElement,d=l.injector.get(RF,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Rp(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Rp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(vw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Rp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const HF=new N("",{providedIn:"root",factory:()=>j(Pi).handleError.bind(void 0)});function oZ(){const n=j(ne),e=j(Pi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let aZ=(()=>{class n{constructor(){this.zone=j(ne),this.applicationRef=j(Is)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Vu=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=lZ}return n})();function lZ(n){return function uZ(n,e,t){if(po(n)&&!t){const r=rr(n.index,e);return new vu(r,r)}return 47&n.type?new vu(e[_t],e):null}(en(),S(),16==(16&n))}class KF{constructor(){}supports(e){return hp(e)}create(e){return new mZ(e)}}const gZ=(n,e)=>e;class mZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<YF(r,i,s)?t:r,a=YF(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!hp(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Q7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new _Z(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new QF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _Z{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class QF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yZ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class XF{constructor(){}supports(e){return e instanceof Map||Sb(e)}create(){return new vZ}}class vZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Sb(e)))throw new E(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new bZ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class bZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZF(){return new Pp([new KF])}let Pp=(()=>{class n{static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:ZF});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ZF()),deps:[[n,new Of,new yt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return n})();function JF(){return new Bu([new XF])}let Bu=(()=>{class n{static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:JF});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||JF()),deps:[[n,new Of,new yt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new E(901,!1)}}return n})();const CZ=FF(null,"core",[]);let IZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(C(Is))};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})();function wc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Sw=null;function Ds(){return Sw}class VZ{}const Ue=new N("DocumentToken");let Tw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return j(UZ)},providedIn:"platform"})}return n})();const BZ=new N("Location Initialized");let UZ=(()=>{class n extends Tw{constructor(){super(),this._doc=j(Ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ds().getBaseHref(this._doc)}onPopState(t){const r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Aw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ui(n){return n&&"?"!==n[0]?"?"+n:n}let To=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return j(uL)},providedIn:"root"})}return n})();const lL=new N("appBaseHref");let uL=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Aw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Tw),C(lL,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jZ=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Aw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Tw),C(lL,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Fp=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function zZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cL(dL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ui(r))}normalize(t){return n.stripTrailingSlash(function HZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ui(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Ui;static#t=this.joinWithSlash=Aw;static#n=this.stripTrailingSlash=cL;static#r=this.\u0275fac=function(r){return new(r||n)(C(To))};static#i=this.\u0275prov=V({token:n,factory:function(){return function $Z(){return new Fp(C(To))}()},providedIn:"root"})}return n})();function dL(n){return n.replace(/\/index.html$/,"")}const Vw=/\s+/,bL=[];let Wp=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=bL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Vw):bL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Vw):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Vw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(D(Pp),D(Bu),D(Bt),D(Lr))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),CL=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){IL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){IL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(D(Dr),D(ci))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class kJ{constructor(){this.$implicit=null,this.ngIf=null}}function IL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pt(e)}'.`)}let SL=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:vs.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bt),D(Bu),D(Lr))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Wn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})();const AL="browser";function Hw(n){return n===AL}function ML(n){return"server"===n}let aee=(()=>{class n{static#e=this.\u0275prov=V({token:n,providedIn:"root",factory:()=>new cee(C(Ue),window)})}return n})();class cee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function lee(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oee extends VZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qw extends Oee{static makeCurrent(){!function LZ(n){Sw||(Sw=n)}(new qw)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pee(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}();return null==t?null:function Nee(n){Yp=Yp||document.createElement("a"),Yp.setAttribute("href",n);const e=Yp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function AJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Yp,Hu=null,Lee=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();const Ww=new N("EventManagerPlugins");let PL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ww),C(ne))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();class NL{constructor(e){this._doc=e}}const Kw="ng-app-id";let FL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ML(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Kw}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Kw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Kw,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue),C(Jf),C(Yv,8),C(Fr))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();const Qw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yw=/%COMP%/g,jee=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function VL(n,e){return e.map(t=>t.replace(Yw,n))}let Xw=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ML(a),this.defaultRenderer=new Zw(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vr.ShadowDom&&(r={...r,encapsulation:vr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof UL?i.applyToHost(t):i instanceof Jw&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case vr.Emulated:s=new UL(c,l,r,this.appId,u,o,a,d);break;case vr.ShadowDom:return new Gee(c,l,t,r,o,a,this.nonce,d);default:s=new Jw(c,l,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(C(PL),C(FL),C(Jf),C(jee),C(Ue),C(Fr),C(ne),C(Yv))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();class Zw{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Qw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(BL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(BL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Qw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vs.DashCase|vs.Important)?e.style.setProperty(t,r,i&vs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ds().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function BL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gee extends Zw{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=VL(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jw extends Zw{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?VL(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class UL extends Jw{constructor(e,t,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=function $ee(n){return"_ngcontent-%COMP%".replace(Yw,n)}(l),this.hostAttr=function Hee(n){return"_nghost-%COMP%".replace(Yw,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let qee=(()=>{class n extends NL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();const jL=["alt","control","meta","shift"],Wee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qee=(()=>{class n extends NL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ds().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jL.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Wee[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jL.forEach(o=>{o!==i&&(0,Kee[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();const HL=[{provide:Fr,useValue:AL},{provide:$O,useValue:function Yee(){qw.makeCurrent()},multi:!0},{provide:Ue,useFactory:function Zee(){return function P9(n){Fv=n}(document),document},deps:[]}],Jee=FF(CZ,"browser",HL),ete=new N(""),zL=[{provide:xp,useClass:class Fee{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new E(5103,!1);return s},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ds().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RF,useClass:gw,deps:[ne,mw,xp]},{provide:gw,useClass:gw,deps:[ne,mw,xp]}],GL=[{provide:Gv,useValue:"root"},{provide:Pi,useFactory:function Xee(){return new Pi},deps:[]},{provide:Ww,useClass:qee,multi:!0,deps:[Ue,ne,Fr]},{provide:Ww,useClass:Qee,multi:!0,deps:[Ue]},Xw,FL,PL,{provide:gu,useExisting:Xw},{provide:class uee{},useClass:Lee,deps:[]},[]];let qL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Jf,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(ete,12))};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({providers:[...GL,...zL],imports:[Wn,IZ]})}return n})(),eE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue))};static#t=this.\u0275prov=V({token:n,factory:function(r){let i=null;return i=r?new r:function nte(){return new eE(C(Ue))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:cte}=Array,{getPrototypeOf:lte,prototype:ute,keys:dte}=Object;const{isArray:fte}=Array;function nE(n){return Te(e=>function pte(n,e){return fte(e)?n(...e):n(e)}(n,e))}function Xp(...n){const e=Fl(n),t=function lR(n){return _e(xy(n))?n.pop():void 0}(n),{args:r,keys:i}=function YL(n){if(1===n.length){const e=n[0];if(cte(e))return{args:e,keys:null};if(function hte(n){return n&&"object"==typeof n&&lte(n)===ute}(e)){const t=dte(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Ot([],e);const s=new Be(function gte(n,e,t=ds){return r=>{ZL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)ZL(e,()=>{const l=Ot(n[c],e);let u=!1;l.subscribe(Ye(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function XL(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,o):ds));return t?s.pipe(nE(t)):s}function ZL(n,e,t){n?Ti(t,n,e):e()}const Zp=Pl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Jp(...n){return function mte(){return Sa(1)}()(Ot(n,Fl(n)))}function JL(n){return new Be(e=>{fn(n()).subscribe(e)})}function zu(n,e){const t=_e(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}function rE(){return st((n,e)=>{let t=null;n._refCount++;const r=Ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class e2 extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;const t=this.getSubject();e.add(this.source.subscribe(Ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return rE()(this)}}function Kn(n){return n<=0?()=>Xr:st((e,t)=>{let r=0;e.subscribe(Ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function eg(...n){const e=Fl(n);return st((t,r)=>{(e?Jp(n,t,e):Jp(n,t)).subscribe(r)})}function On(n,e){return st((t,r)=>{let i=0;t.subscribe(Ye(r,s=>n.call(e,s,i++)&&r.next(s)))})}function tg(n){return st((e,t)=>{let r=!1;e.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function t2(n=_te){return st((e,t)=>{let r=!1;e.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _te(){return new Zp}function Ao(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,s)=>n(i,s,r)):ds,Kn(1),t?tg(e):t2(()=>new Zp))}function Gu(n,e){return _e(e)?kt(n,e,1):kt(n,1)}function nn(n,e,t){const r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?st((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ye(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ds}function Mo(n){return st((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ye(t,void 0,void 0,o=>{s=fn(n(o,Mo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function iE(n){return n<=0?()=>Xr:st((e,t)=>{let r=[];e.subscribe(Ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sE(n){return st((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qu(n){return st((e,t)=>{fn(n).subscribe(Ye(t,()=>t.complete(),_y)),!t.closed&&e.subscribe(t)})}const ue="primary",Wu=Symbol("RouteTitle");class Ete{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cc(n){return new Ete(n)}function Cte(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!n2(n[i],e[i]))return!1;return!0}function n2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function r2(n){return n.length>0?n[n.length-1]:null}function Ts(n){return function ate(n){return!!n&&(n instanceof Be||_e(n.lift)&&_e(n.subscribe))}(n)?n:Su(n)?Ot(Promise.resolve(n)):Y(n)}const Dte={exact:function a2(n,e,t){if(!xo(n.segments,e.segments)||!ng(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!a2(n.children[r],e.children[r],t))return!1;return!0},subset:c2},s2={exact:function Ste(n,e){return li(n,e)},subset:function Tte(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>n2(n[t],e[t]))},ignored:()=>!0};function o2(n,e,t){return Dte[t.paths](n.root,e.root,t.matrixParams)&&s2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function c2(n,e,t){return l2(n,e,e.segments,t)}function l2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!xo(i,t)||e.hasChildren()||!ng(i,t,r))}if(n.segments.length===t.length){if(!xo(n.segments,t)||!ng(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!c2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(xo(n.segments,i)&&ng(n.segments,i,r)&&n.children[ue])&&l2(n.children[ue],e,s,r)}}function ng(n,e,t){return e.every((r,i)=>s2[t](n[i].parameters,r.parameters))}class Ic{constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return xte.serialize(this)}}class Ne{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rg(this)}}class Ku{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cc(this.parameters)),this._parameterMap}toString(){return h2(this)}}function xo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Qu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return new oE},providedIn:"root"})}return n})();class oE{parse(e){const t=new jte(e);return new Ic(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yu(e.root,!0)}`,r=function Ote(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ig(t)}=${ig(i)}`).join("&"):`${ig(t)}=${ig(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Rte(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xte=new oE;function rg(n){return n.segments.map(e=>h2(e)).join("/")}function Yu(n,e){if(!n.hasChildren())return rg(n);if(e){const t=n.children[ue]?Yu(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${Yu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mte(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===ue?[Yu(n.children[ue],!1)]:[`${i}:${Yu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${rg(n)}/${t[0]}`:`${rg(n)}/(${t.join("//")})`}}function u2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ig(n){return u2(n).replace(/%3B/gi,";")}function aE(n){return u2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sg(n){return decodeURIComponent(n)}function d2(n){return sg(n.replace(/\+/g,"%20"))}function h2(n){return`${aE(n.path)}${function kte(n){return Object.keys(n).map(e=>`;${aE(e)}=${aE(n[e])}`).join("")}(n.parameters)}`}const Pte=/^[^\/()?;#]+/;function cE(n){const e=n.match(Pte);return e?e[0]:""}const Nte=/^[^\/()?;=#]+/,Lte=/^[^=?&#]+/,Bte=/^[^&#]+/;class jte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Ne(e,t)),r}parseSegment(){const e=cE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Ku(sg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Fte(n){const e=n.match(Nte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=cE(this.remaining);i&&(r=i,this.capture(r))}e[sg(t)]=sg(r)}parseQueryParam(e){const t=function Vte(n){const e=n.match(Lte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Ute(n){const e=n.match(Bte);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=d2(t),s=d2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new Ne([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function f2(n){return n.segments.length>0?new Ne([],{[ue]:n}):n}function p2(n){const e={};for(const r of Object.keys(n.children)){const s=p2(n.children[r]);if(r===ue&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function $te(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new Ne(n.segments.concat(e.segments),e.children)}return n}(new Ne(n.segments,e))}function Ro(n){return n instanceof Ic}function g2(n){let e;const i=f2(function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new Ne(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function m2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return lE(i,i,i,t,r);const s=function zte(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new y2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new y2(t,e,r)}(e);if(s.toRoot())return lE(i,i,new Ne([],{}),t,r);const o=function Gte(n,e,t){if(n.isAbsolute)return new ag(e,!0,0);if(!t)return new ag(e,!1,NaN);if(null===t.parent)return new ag(t,!0,0);const r=og(n.commands[0])?0:1;return function qte(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new ag(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Zu(o.segmentGroup,o.index,s.commands):v2(o.segmentGroup,o.index,s.commands);return lE(i,o.segmentGroup,a,t,r)}function og(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xu(n){return"object"==typeof n&&null!=n&&n.outlets}function lE(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:_2(n,e,t);const a=f2(p2(o));return new Ic(a,s,i)}function _2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:_2(s,e,t)}),new Ne(n.segments,r)}class y2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&og(r[0]))throw new E(4003,!1);const i=r.find(Xu);if(i&&i!==r2(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ag{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function v2(n,e,t){if(n||(n=new Ne([],{})),0===n.segments.length&&n.hasChildren())return Zu(n,e,t);const r=function Kte(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Xu(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!w2(c,l,o))return s;r+=2}else{if(!w2(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ne(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new Ne(n.segments.slice(r.pathIndex),n.children),Zu(s,0,i)}return r.match&&0===i.length?new Ne(n.segments,{}):r.match&&!n.hasChildren()?uE(n,e,t):r.match?Zu(n,0,i):uE(n,e,t)}function Zu(n,e,t){if(0===t.length)return new Ne(n.segments,{});{const r=function Wte(n){return Xu(n[0])?n[0].outlets:{[ue]:n}}(t),i={};if(Object.keys(r).some(s=>s!==ue)&&n.children[ue]&&1===n.numberOfChildren&&0===n.children[ue].segments.length){const s=Zu(n.children[ue],e,t);return new Ne(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=v2(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(n.segments,i)}}function uE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Xu(s)){const c=Qte(s.outlets);return new Ne(r,c)}if(0===i&&og(t[0])){r.push(new Ku(n.segments[e].path,b2(t[0]))),i++;continue}const o=Xu(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&og(a)?(r.push(new Ku(o,b2(a))),i+=2):(r.push(new Ku(o,{})),i++)}return new Ne(r,{})}function Qte(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=uE(new Ne([],{}),0,r))}),e}function b2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function w2(n,e,t){return n==t.path&&li(e,t.parameters)}const Ju="imperative";class ui{constructor(e,t){this.id=e,this.url=t}}class cg extends ui{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class As extends ui{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ed extends ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends ui{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class lg extends ui{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class E2 extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yte extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xte extends ui{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zte extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends ui{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ine{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dE{}class hE{constructor(e){this.url=e}}class sne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new td,this.attachRef=null}}let td=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sne,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class D2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=fE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pE(e,this._root).map(t=>t.value)}}function fE(n,e){if(n===e.value)return e;for(const t of e.children){const r=fE(n,t);if(r)return r}return null}function pE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pE(n,t);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class S2 extends D2{constructor(e,t){super(e),this.snapshot=t,gE(this,e)}toString(){return this.snapshot.toString()}}function T2(n,e){const t=function one(n,e){const o=new ug([],{},{},"",{},ue,e,null,{});return new M2("",new Hi(o,[]))}(0,e),r=new _r([new Ku("",{})]),i=new _r({}),s=new _r({}),o=new _r({}),a=new _r(""),c=new Tc(r,i,o,a,s,ue,e,t.root);return c.snapshot=t.root,new S2(new Hi(c,[]),t)}class Tc{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Te(l=>l[Wu]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Cc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Cc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ane(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ug{get title(){return this.data?.[Wu]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M2 extends D2{constructor(e,t){super(t),this.url=e,gE(this,t)}toString(){return x2(this._root)}}function gE(n,e){e.value._routerState=n,e.children.forEach(t=>gE(n,t))}function x2(n){const e=n.children.length>0?` { ${n.children.map(x2).join(", ")} } `:"";return`${n.value}${e}`}function mE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,li(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),li(e.params,t.params)||n.paramsSubject.next(t.params),function Ite(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),li(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _E(n,e){const t=li(n.params,e.params)&&function Ate(n,e){return xo(n,e)&&n.every((t,r)=>li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_E(n.parent,e.parent))}let yE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=j(td),this.location=j(Dr),this.changeDetector=j(Vu),this.environmentInjector=j(Cr),this.inputBinder=j(dg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cne(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wr]})}return n})();class cne{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tc?this.route:e===td?this.childContexts:this.parent.get(e,t)}}const dg=new N("");let R2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Xp([r.queryParams,r.params,r.data]).pipe(er(([s,o,a],c)=>(a={...s,...o,...a},0===c?Y(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function FZ(n){const e=ve(n);if(!e)return null;const t=new bu(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function nd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function une(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nd(n,r,i);return nd(n,r)})}(n,e,t);return new Hi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nd(n,a)),o}}const r=function dne(n){return new Tc(new _r(n.url),new _r(n.params),new _r(n.queryParams),new _r(n.fragment),new _r(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>nd(n,s));return new Hi(r,i)}}const vE="ngNavigationCancelingError";function k2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=O2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function O2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vE]=!0,r.cancellationCode=e,t&&(r.url=t),r}function P2(n){return n&&n[vE]}let bE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[F1],decls:1,vars:0,template:function(r,i){1&r&&we(0,"router-outlet")},dependencies:[yE],encapsulation:2})}return n})();function wE(n){const e=n.children&&n.children.map(wE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=bE),t}function Hr(n){return n.outlet||ue}function rd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vne{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Sc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Sc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Sc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Sc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new C2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rne(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(mE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=rd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class N2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hg{constructor(e,t){this.component=e,this.route=t}}function bne(n,e,t){const r=n._root;return id(r,e?e._root:null,t,[r.value])}function Ac(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Y5(n){return null!==lf(n)}(n)?e.get(n):n:r}function id(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sc(e);return n.children.forEach(o=>{(function Ene(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Cne(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(n.url,e.url)||!li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_E(n,e)||!li(n.queryParams,e.queryParams);default:return!_E(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new N2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),id(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hg(a.outlet.component,o))}else o&&sd(e,a,i),i.canActivateChecks.push(new N2(r)),id(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sd(a,t.getContext(o),i)),i}function sd(n,e,t){const r=Sc(n),i=n.value;Object.entries(r).forEach(([s,o])=>{sd(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function od(n){return"function"==typeof n}function F2(n){return n instanceof Zp||"EmptyError"===n?.name}const fg=Symbol("INITIAL_VALUE");function Mc(){return er(n=>Xp(n.map(e=>e.pipe(Kn(1),eg(fg)))).pipe(Te(e=>{for(const t of e)if(!0!==t){if(t===fg)return fg;if(!1===t||t instanceof Ic)return t}return!0}),On(e=>e!==fg),Kn(1)))}function L2(n){return function n5(...n){return Gx(n)}(nn(e=>{if(Ro(e))throw k2(0,e)}),Te(e=>!0===e))}class pg{constructor(e){this.segmentGroup=e||null}}class V2{constructor(e){this.urlTree=e}}function xc(n){return zu(new pg(n))}function B2(n){return zu(new V2(n))}class Hne{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new E(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[ue])return zu(new E(4e3,!1));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ic(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const EE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zne(n,e,t,r,i){const s=CE(n,e,t);return s.matched?(r=function fne(n,e){return n.providers&&!n._injector&&(n._injector=Yb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Une(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=Ac(o,n);return Ts(function Mne(n){return n&&od(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Mc(),L2()):Y(!0)}(r,e,t).pipe(Te(o=>!0===o?s:{...EE}))):Y(s)}function CE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...EE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Cte)(t,n,e);if(!i)return{...EE};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function U2(n,e,t,r){return t.length>0&&function Wne(n,e,t){return t.some(r=>gg(n,e,r)&&Hr(r)!==ue)}(n,t,r)?{segmentGroup:new Ne(e,qne(r,new Ne(t,n.children))),slicedSegments:[]}:0===t.length&&function Kne(n,e,t){return t.some(r=>gg(n,e,r))}(n,t,r)?{segmentGroup:new Ne(n.segments,Gne(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function Gne(n,e,t,r,i){const s={};for(const o of r)if(gg(n,t,o)&&!i[Hr(o)]){const a=new Ne([],{});s[Hr(o)]=a}return{...i,...s}}function qne(n,e){const t={};t[ue]=e;for(const r of n)if(""===r.path&&Hr(r)!==ue){const i=new Ne([],{});t[Hr(r)]=i}return t}function gg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Zne{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Hne(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,!1)}recognize(){const e=U2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(Mo(t=>{if(t instanceof V2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof pg?this.noMatchError(t):t}),Te(t=>{const r=new ug([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new Hi(r,t),s=new M2("",i),o=function Hte(n,e,t=null,r=null){return m2(g2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ue).pipe(Mo(r=>{throw r instanceof pg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=A2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ot(i).pipe(Gu(s=>{const o=r.children[s],a=function _ne(n,e){const t=n.filter(r=>Hr(r)===e);return t.push(...n.filter(r=>Hr(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function vte(n,e){return st(function yte(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Ye(o,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),tg(null),function bte(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,s)=>n(i,s,r)):ds,iE(1),t?tg(e):t2(()=>new Zp))}(),kt(s=>{if(null===s)return xc(r);const o=j2(s);return function Jne(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Y(o)}))}processSegment(e,t,r,i,s,o){return Ot(t).pipe(Gu(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Mo(c=>{if(c instanceof pg)return Y(null);throw c}))),Ao(a=>!!a),Mo(a=>{if(F2(a))return function Yne(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Y([]):xc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Qne(n,e,t,r){return!!(Hr(n)===r||r!==ue&&gg(e,t,n))&&("**"===n.path||CE(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):xc(i):xc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?B2(s):this.applyRedirects.lineralizeSegments(r,s).pipe(kt(o=>{const a=new Ne(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=CE(t,i,s);if(!a)return xc(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?B2(d):this.applyRedirects.lineralizeSegments(i,d).pipe(kt(h=>this.processSegment(e,r,t,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?r2(i).parameters:{};a=Y({snapshot:new ug(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$2(r),Hr(r),r.component??r._loadedComponent??null,r,H2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=zne(t,r,i,e).pipe(Te(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new ug(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$2(r),Hr(r),r.component??r._loadedComponent??null,r,H2(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(er(c=>null===c?xc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(er(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=U2(t,h,f,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Te(v=>null===v?null:[new Hi(d,v)]));if(0===l.length&&0===g.length)return Y([new Hi(d,[])]);const _=Hr(r)===s;return this.processSegment(u,l,p,g,_?ue:s,!0).pipe(Te(v=>[new Hi(d,v)]))}))))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):function Bne(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=Ac(o,n);return Ts(function Dne(n){return n&&od(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Mc(),L2())}(e,t,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,t).pipe(nn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function $ne(n){return zu(O2(!1,3))}())):Y({routes:[],injector:e})}}function ere(n){const e=n.value.routeConfig;return e&&""===e.path}function j2(n){const e=[],t=new Set;for(const r of n){if(!ere(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=j2(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!t.has(r))}function $2(n){return n.data||{}}function H2(n){return n.resolve||{}}function z2(n){return"string"==typeof n.title||null===n.title}function IE(n){return er(e=>{const t=n(e);return t?Ot(t).pipe(Te(()=>e)):Y(e)})}const Rc=new N("ROUTES");let DE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(TF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ts(t.loadComponent()).pipe(Te(G2),nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),sE(()=>{this.componentLoaders.delete(t)})),i=new e2(r,()=>new He).pipe(rE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function are(n,e,t,r){return Ts(n.loadChildren()).pipe(Te(G2),kt(i=>i instanceof P1||Array.isArray(i)?Y(i):Ot(e.compileModuleAsync(i))),Te(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:o.map(wE),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(sE(()=>{this.childrenLoaders.delete(r)})),o=new e2(s,()=>new He).pipe(rE());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G2(n){return function cre(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=j(DE),this.environmentInjector=j(Cr),this.urlSerializer=j(Qu),this.rootContexts=j(td),this.inputBindingEnabled=null!==j(dg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new tne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ene(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new _r({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ju,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(On(s=>0!==s.id),Te(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),er(s=>{this.currentTransition=s;let o=!1,a=!1;return Y(s).pipe(nn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),er(c=>{const l=c.currentBrowserUrl.toString(),u=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Dc(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Xr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Y(c).pipe(er(h=>{const f=this.transitions?.getValue();return this.events.next(new cg(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xr:Promise.resolve(h)}),function tre(n,e,t,r,i,s){return kt(o=>function Xne(n,e,t,r,i,s,o="emptyOnly"){return new Zne(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),nn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new E2(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=c,v=new cg(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const y=T2(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},Y(s)}{const h="";return this.events.next(new Dc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Xr}}),nn(c=>{const l=new Yte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Te(c=>(this.currentTransition=s={...c,guards:bne(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Rne(n,e){return kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Y({...t,guardsResult:!0}):function kne(n,e,t,r){return Ot(n).pipe(kt(i=>function Vne(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const c=rd(e)??i,l=Ac(a,c);return Ts(function Ane(n){return n&&od(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Ao())})).pipe(Mc()):Y(!0)}(i.component,i.route,t,e,r)),Ao(i=>!0!==i,!0))}(o,r,i,n).pipe(kt(a=>a&&function Ine(n){return"boolean"==typeof n}(a)?function One(n,e,t,r){return Ot(e).pipe(Gu(i=>Jp(function Nne(n,e){return null!==n&&e&&e(new nne(n)),Y(!0)}(i.route.parent,r),function Pne(n,e){return null!==n&&e&&e(new ine(n)),Y(!0)}(i.route,r),function Lne(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function wne(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>JL(()=>Y(o.guards.map(c=>{const l=rd(o.node)??t,u=Ac(c,l);return Ts(function Tne(n){return n&&od(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Ao())})).pipe(Mc())));return Y(s).pipe(Mc())}(n,i.path,t),function Fne(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>JL(()=>{const o=rd(e)??t,a=Ac(s,o);return Ts(function Sne(n){return n&&od(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ao())}));return Y(i).pipe(Mc())}(n,i.route,t))),Ao(i=>!0!==i,!0))}(r,s,n,e):Y(a)),Te(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),nn(c=>{if(s.guardsResult=c.guardsResult,Ro(c.guardsResult))throw k2(0,c.guardsResult);const l=new Xte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),On(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),IE(c=>{if(c.guards.canActivateChecks.length)return Y(c).pipe(nn(l=>{const u=new Zte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),er(l=>{let u=!1;return Y(l).pipe(function nre(n,e){return kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let s=0;return Ot(i).pipe(Gu(o=>function rre(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!z2(i)&&(s[Wu]=i.title),function ire(n,e,t,r){const i=function sre(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Y({});const s={};return Ot(i).pipe(kt(o=>function ore(n,e,t,r){const i=rd(e)??r,s=Ac(n,i);return Ts(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ao(),nn(a=>{s[o]=a}))),iE(1),function wte(n){return Te(()=>n)}(s),Mo(o=>F2(o)?Xr:zu(o)))}(s,n,e,r).pipe(Te(o=>(n._resolvedData=o,n.data=A2(n,t).resolve,i&&z2(i)&&(n.data[Wu]=i.title),null)))}(o.route,r,n,e)),nn(()=>s++),iE(1),kt(o=>s===i.length?Y(t):Xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),nn(l=>{const u=new Jte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),IE(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(nn(h=>{u.component=h}),Te(()=>{})));for(const h of u.children)d.push(...l(h));return d};return Xp(l(c.targetSnapshot.root)).pipe(tg(),Kn(1))}),IE(()=>this.afterPreactivation()),Te(c=>{const l=function lne(n,e,t){const r=nd(n,e._root,t?t._root:void 0);return new S2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),nn(()=>{this.events.next(new dE)}),((n,e,t,r)=>Te(i=>(new vne(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Kn(1),nn({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new As(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),qu(this.transitionAbortSubject.pipe(nn(c=>{throw c}))),sE(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Mo(c=>{if(a=!0,P2(c))this.events.next(new ed(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function hne(n){return P2(n)&&Ro(n.url)}(c)?this.events.next(new hE(c.url)):s.resolve(!1);else{this.events.next(new lg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(l){s.reject(l)}}return Xr}))}))}cancelNavigationTransition(t,r,i){const s=new ed(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q2(n){return n!==Ju}let W2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Wu]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return j(lre)},providedIn:"root"})}return n})(),lre=(()=>{class n extends W2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(C(eE))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ure=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return j(hre)},providedIn:"root"})}return n})();class dre{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let hre=(()=>{class n extends dre{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=function tn(n){return Ai(()=>{const e=n.prototype.constructor,t=e[Mi]||mv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Mi]||mv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(i||n)}}();static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _g=new N("",{providedIn:"root",factory:()=>({})});let fre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:function(){return j(pre)},providedIn:"root"})}return n})(),pre=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ad=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ad||{});function K2(n,e){n.events.pipe(On(t=>t instanceof As||t instanceof ed||t instanceof lg||t instanceof Dc),Te(t=>t instanceof As||t instanceof Dc?ad.COMPLETE:t instanceof ed&&(0===t.code||1===t.code)?ad.REDIRECTING:ad.FAILED),On(t=>t!==ad.REDIRECTING),Kn(1)).subscribe(()=>{e()})}function gre(n){throw n}function mre(n,e,t){return e.parse("/")}const _re={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=j(DF),this.isNgZoneEnabled=!1,this._events=new He,this.options=j(_g,{optional:!0})||{},this.pendingTasks=j(SF),this.errorHandler=this.options.errorHandler||gre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=j(fre),this.routeReuseStrategy=j(ure),this.titleStrategy=j(W2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=j(Rc,{optional:!0})?.flat()??[],this.navigationTransitions=j(mg),this.urlSerializer=j(Qu),this.location=j(Fp),this.componentInputBindingEnabled=!!j(dg,{optional:!0}),this.eventsSubscription=new Yt,this.isNgZoneEnabled=j(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ic,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=T2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Q2(r)&&this._events.next(r));if(r instanceof cg)q2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Dc)this.rawUrlTree=i.rawUrl;else if(r instanceof E2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof dE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ed)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof hE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||q2(i.source)};this.scheduleNavigation(s,Ju,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof lg&&this.restoreHistory(i,!0),r instanceof As&&(this.navigated=!0),Q2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ju,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=g2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return m2(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ro(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ju,null,r)}navigate(t,r={skipLocationChange:!1}){return function vre(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._re}:!1===r?{...yre}:r,Ro(t))return o2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return o2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return K2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q2(n){return!(n instanceof dE||n instanceof hE)}let Ms=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof As&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function OO(n,e,t){return function n8(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?kO:RO}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(D(Qn),D(Tc),function xf(n){return function E6(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(DR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(en(),n)}("tabindex"),D(Lr),D(Bt),D(To))};static#t=this.\u0275dir=Q({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&It("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Vr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",wc],skipLocationChange:["skipLocationChange","skipLocationChange",wc],replaceUrl:["replaceUrl","replaceUrl",wc],routerLink:"routerLink"},standalone:!0,features:[WP,wr]})}return n})(),Y2=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof As&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Sa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ot(t).pipe(Sa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function bre(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(D(Qn),D(Bt),D(Lr),D(Vu),D(Ms,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&ow(s,Ms,5),2&r){let o;Li(o=Vi())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[wr]})}return n})();class X2{}let wre=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof As),Gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Yb(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ot(i).pipe(Sa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Y(null);const s=i.pipe(kt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ot([s,this.loader.loadComponent(r)]).pipe(Sa()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(C(Qn),C(TF),C(Cr),C(X2),C(DE))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SE=new N("");let Z2=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof As?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new I2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function bP(){throw new Error("invalid")}()};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function zi(n,e){return{\u0275kind:n,\u0275providers:e}}function eV(){const n=j(Xe);return e=>{const t=n.get(Is);if(e!==t.components[0])return;const r=n.get(Qn),i=n.get(tV);1===n.get(TE)&&r.initialNavigation(),n.get(nV,null,pe.Optional)?.setUpPreloading(),n.get(SE,null,pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const tV=new N("",{factory:()=>new He}),TE=new N("",{providedIn:"root",factory:()=>1}),nV=new N("");function Dre(n){return zi(0,[{provide:nV,useExisting:wre},{provide:X2,useExisting:n}])}const rV=new N("ROUTER_FORROOT_GUARD"),Tre=[Fp,{provide:Qu,useClass:oE},Qn,td,{provide:Tc,useFactory:function J2(n){return n.routerState.root},deps:[Qn]},DE,[]];function Are(){return new PF("Router",Qn)}let AE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Tre,[],{provide:Rc,multi:!0,useValue:t},{provide:rV,useFactory:kre,deps:[[Qn,new yt,new Of]]},{provide:_g,useValue:r||{}},r?.useHash?{provide:To,useClass:jZ}:{provide:To,useClass:uL},{provide:SE,useFactory:()=>{const n=j(aee),e=j(ne),t=j(_g),r=j(mg),i=j(Qu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Z2(i,r,n,e,t)}},r?.preloadingStrategy?Dre(r.preloadingStrategy).\u0275providers:[],{provide:PF,multi:!0,useFactory:Are},r?.initialNavigation?Ore(r):[],r?.bindToComponentInputs?zi(8,[R2,{provide:dg,useExisting:R2}]).\u0275providers:[],[{provide:iV,useFactory:eV},{provide:vw,multi:!0,useExisting:iV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Rc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(C(rV,8))};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})();function kre(n){return"guarded"}function Ore(n){return["disabled"===n.initialNavigation?zi(3,[{provide:Fu,multi:!0,useFactory:()=>{const e=j(Qn);return()=>{e.setUpLocationChangeListener()}}},{provide:TE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zi(2,[{provide:TE,useValue:0},{provide:Fu,multi:!0,deps:[Xe],useFactory:e=>{const t=e.get(BZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Qn),s=e.get(tV);K2(i,()=>{r(!0)}),e.get(mg).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const iV=new N(""),Nre=["addListener","removeListener"],Fre=["addEventListener","removeEventListener"],Lre=["on","off"];function xs(n,e,t,r){if(_e(t)&&(r=t,t=void 0),r)return xs(n,e,t).pipe(nE(r));const[i,s]=function Ure(n){return _e(n.addEventListener)&&_e(n.removeEventListener)}(n)?Fre.map(o=>a=>n[o](e,a,t)):function Vre(n){return _e(n.addListener)&&_e(n.removeListener)}(n)?Nre.map(sV(n,e)):function Bre(n){return _e(n.on)&&_e(n.off)}(n)?Lre.map(sV(n,e)):[];if(!i&&My(n))return kt(o=>xs(o,e,t))(fn(n));if(!i)throw new TypeError("Invalid event target");return new Be(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function sV(n,e){return t=>r=>n[t](e,r)}let jre=(()=>{class n{_elementRef;_renderer;constructor(t,r){this._elementRef=t,this._renderer=r}collapseClass=!0;collapseShow=new Re;collapseShown=new Re;collapseHide=new Re;collapseHidden=new Re;set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const t=this.host.scrollHeight;xs(this.host,"transitionend").pipe(Kn(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,xs(this.host,"transitionend").pipe(Kn(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,r){let i=!1;const o=r+5;xs(t,"transitionend").pipe(Kn(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||t.dispatchEvent(new Event("transitionend"))},o)}static \u0275fac=function(r){return new(r||n)(D(Bt),D(Lr))};static \u0275dir=Q({type:n,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&mc("collapse",i.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]})}return n})(),aV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({})}return n})(),kc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-header"]],decls:34,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-white","shadow-0"],[1,"container"],["routerLink","/home",1,"navbar-brand","me-2"],["src","/live/assets/images/try-on-logo-big-icon.png","alt","TryOn Logo","loading","lazy"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],["id","navbarButtonsExample","mdbCollapse","",1,"collapse","navbar-collapse"],["buttonsNav","mdbCollapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/about-us","routerLinkActive","active",1,"nav-link"],["routerLink","/features","routerLinkActive","active",1,"nav-link"],["routerLink","/fitting-room","routerLinkActive","active",1,"nav-link"],["routerLink","/shop","routerLinkActive","active",1,"nav-link"],["href","#",1,"nav-link"],["routerLink","/login",1,"nav-link"]],template:function(r,i){if(1&r){const s=Du();M(0,"nav",0)(1,"div",1)(2,"a",2),we(3,"img",3),R(),M(4,"button",4),It("click",function(){return Ql(s),Yl(wo(7).toggle())}),we(5,"i",5),R(),M(6,"div",6,7)(8,"ul",8)(9,"li",9)(10,"a",10),O(11,"HOME"),R()(),M(12,"li",9)(13,"a",11),O(14,"ABOUT US"),R()(),M(15,"li",9)(16,"a",12),O(17,"FEATURES"),R()(),M(18,"li",9)(19,"a",13),O(20,"FITTING ROOM"),R()(),M(21,"li",9)(22,"a",14),O(23,"SHOP"),R()(),M(24,"li",9)(25,"a",15),O(26,"PARTNERS"),R()(),M(27,"li",9)(28,"a",16)(29,"u"),O(30,"LOG IN"),R()()(),M(31,"li",9)(32,"a",15),O(33,"CONTACT"),R()()()()()()}},dependencies:[Ms,Y2,jre],styles:["ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,serif}button[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{color:#190101}@media only screen and (min-width: 0px){nav.navbar[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:32px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:2px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 375px){nav.navbar[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:40px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 414px){nav.navbar[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:48px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 820px){ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:56px;margin-top:-1px}button[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{font-size:1.5rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 992px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:medium;margin-right:0rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1200px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:medium;margin-right:1rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1300px){nav.navbar[_ngcontent-%COMP%]{padding-top:2.2rem;padding-bottom:2.2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:large;margin-right:.25rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1400px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1.2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:large;margin-right:1.25rem}img[_ngcontent-%COMP%]{height:72px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}"]})}return n})();function cd(n){return null!=n&&"false"!=`${n}`}function yg(n){return Array.isArray(n)?n:[n]}function St(n){return null==n?"":"string"==typeof n?n:`${n}px`}class Gre extends Yt{constructor(e,t){super()}schedule(e,t=0){return this}}const vg={setInterval(n,e,...t){const{delegate:r}=vg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=vg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class bg extends Gre{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return vg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&vg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Da(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const cV={now:()=>(cV.delegate||Date).now(),delegate:void 0};class ld{constructor(e,t=ld.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ld.now=cV.now;class wg extends ld{constructor(e,t=ld.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Eg=new wg(bg),qre=Eg;let ME;try{ME=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ME=!1}let Oo,ko=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Hw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ME)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(C(Fr))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qre(){if(null==Oo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Oo=!1,Oo;if("scrollBehavior"in document.documentElement.style)Oo=!0;else{const n=Element.prototype.scrollTo;Oo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Oo}function dV(n){return n.composedPath?n.composedPath()[0]:n.target}function hV(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let Xre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})();const fV=new Set;let Po,Zre=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jre(n,e){if(!fV.has(n))try{Po||(Po=document.createElement("style"),e&&(Po.nonce=e),Po.setAttribute("type","text/css"),document.head.appendChild(Po)),Po.sheet&&(Po.sheet.insertRule(`@media ${n} {body{ }}`,0),fV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ko),C(Yv,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tie=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new He}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return pV(yg(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Xp(pV(yg(t)).map(o=>this._registerQuery(o).observable));return s=Jp(s.pipe(Kn(1)),s.pipe(function zre(n){return On((e,t)=>n<=t)}(1),function Wre(n,e=Eg){return st((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(Ye(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(Te(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Be(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(eg(r),Te(({matches:o})=>({query:t,matches:o})),qu(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(C(Zre),C(ne))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const nie=function(){return{3:"d-padding",2:"m-padding",1:"l-padding",0:"xl-padding"}};let gV=(()=>{class n{constructor(t){this.breakPointObserver=t,this.showNav=!0,this.topPadding=!0,this.breakpoints=["(min-width: 992px)","(min-width: 831px)","(min-width: 768px)","(min-width: 0px)"],this.useBreakpoint=3}ngOnInit(){this.topPadding&&this.breakPointObserver.observe(this.breakpoints).subscribe(t=>{for(let r=0;r<this.breakpoints.length;r++)if(t.breakpoints[this.breakpoints[r]]){this.useBreakpoint=r;break}})}static#e=this.\u0275fac=function(r){return new(r||n)(D(tie))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-about-us"]],inputs:{showNav:"showNav",topPadding:"topPadding"},decls:29,vars:3,consts:[[1,"container-fluid"],[1,"fixed-top",3,"hidden"],[1,"row"],[1,"col-md","text-white",3,"ngClass"],[1,"about-title"],["routerLink","/features","type","button"],[1,"col-md"],[1,"about-picture"]],template:function(r,i){1&r&&(M(0,"div",0),we(1,"app-header",1),M(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),O(6,"About Us"),R(),M(7,"p"),O(8,'We understand that e-commerce businesses have unique challenges compared to brick-and-mortar businesses. The most prominent challenge for online retailers has always been high product returns and refunds. For shoppers it is the "feel factor", the inability to touch, see, and fit a product as you would in a store. While returns and refunds are a standard part of the business model, they can considerably impact the brands\' profitability and reputation. That is why we created Try-On. '),R(),M(9,"p"),O(10,"An innovative-based solution that eliminates the need for "),M(11,"b"),O(12,"trail"),R(),O(13," and "),M(14,"b"),O(15,"error"),R(),O(16," and helps "),M(17,"b"),O(18,"bridge the gap between online and in-store shopping experiences"),R(),O(19," - improving customer satisfaction, reducing returns, and driving sales for online stores. "),R(),M(20,"p"),O(21,"Our innovation works for you, your business, and your customers."),R(),M(22,"p")(23,"u")(24,"b")(25,"a",5),O(26,"READ MORE"),R()()()()()(),M(27,"div",6),we(28,"div",7),R()()()),2&r&&(zn(1),or("hidden",!i.showNav),zn(2),or("ngClass",function H1(n,e,t){const r=Tn()+n,i=S();return i[r]===ae?si(i,r,t?e.call(t):e()):function wu(n,e){return n[e]}(i,r)}(2,nie)[i.useBreakpoint]))},dependencies:[Wp,kc,Ms],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-family:Montserrat,serif}.about-title[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:2rem}.about-title[_ngcontent-%COMP%], .about-subtitle[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]{color:#fff}div.col-md.text-white[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:justify;word-break:keep-all}.d-padding[_ngcontent-%COMP%]{padding-top:5rem}.m-padding[_ngcontent-%COMP%]{padding-top:6rem}.l-padding[_ngcontent-%COMP%]{padding-top:7rem}.xl-padding[_ngcontent-%COMP%]{padding-top:10rem}@media only screen and (min-width: 0px){div.row[_ngcontent-%COMP%]{background-color:#cf0a2c;height:100%;width:100%;margin:0}div.text-white[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-right:1rem}.about-title[_ngcontent-%COMP%]{font-size:40px}.about-subtitle[_ngcontent-%COMP%]{font-size:16px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;height:50vh}}@media only screen and (min-width: 320px){.about-title[_ngcontent-%COMP%]{font-size:48px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 450px){.about-title[_ngcontent-%COMP%]{font-size:64px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 700px){.about-title[_ngcontent-%COMP%]{font-size:72px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 768px){div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}.about-title[_ngcontent-%COMP%]{font-size:72px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 831px){div.row[_ngcontent-%COMP%]{background-color:#cf0a2c;height:100%;width:100%;margin:0}div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}}@media only screen and (min-width: 992px){div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}}@media only screen and (min-width: 1242px){.about-title[_ngcontent-%COMP%]{font-size:80px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 1400px){p[_ngcontent-%COMP%]{font-size:20px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}"]})}return n})(),mV=(()=>{class n{constructor(){this.showNav=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-features"]],inputs:{showNav:"showNav"},decls:102,vars:1,consts:[[1,"container"],[1,"fixed-top",3,"hidden"],[1,"row","first-section"],[1,"col-md","feature-video"],["autoplay","","loop",""],["src","/live/assets/videos/features.mp4","type","video/mp4"],[1,"col-md"],[1,"feature-title","text-center"],[1,"future-list"],[1,"row"],[1,"col-1"],[1,"fas","fa-fingerprint","list-icon"],[1,"col-11"],[1,"fas","fa-gift","list-icon"],[1,"fas","fa-atom","list-icon"],[1,"row","second-section"],[1,"mb-4"],[1,"feature-title"],[1,"feature-list"],[1,"col-6"],[1,"avatar-picture"],[1,"row","create-heading"],[1,"text-center"],[1,"row","create"],[1,"col-md","create-avatar"],["type","button","mdbRipple","",1,"btn","btn-lg"],[1,"col-md","become-partner"],[1,"text-white"],["type","button",1,"btn","btn-lg"]],template:function(r,i){1&r&&(M(0,"div",0),we(1,"app-header",1),M(2,"div",2)(3,"div",3)(4,"video",4),we(5,"source",5),O(6," Your browser does not support the video tag. "),R()(),M(7,"div",6)(8,"h1",7),O(9," Welcome to the "),M(10,"span"),O(11,"Future"),R(),O(12," of"),we(13,"br"),M(14,"span"),O(15,"Online Shopping"),R(),O(16," with Try-On "),R(),M(17,"p"),O(18," Are you ready to revolutionise your online store and enhance the shopping experience for your customers? Look no further! Try-On is a game-changing solution that empowers e-commerce businesses to seamlessly integrate virtual try-on technology into their websites. Say goodbye to traditional shopping limitations and embrace the future of interactive online shopping! "),R(),M(19,"div",8)(20,"div",9)(21,"div",10),we(22,"i",11),R(),M(23,"div",12)(24,"h5"),O(25,"SEAMLESS INTEGRATION"),R(),M(26,"p"),O(27,"Easily integrate Try-On Plugin into your e-commerce website."),R()()(),M(28,"div",9)(29,"div",10),we(30,"i",13),R(),M(31,"div",12)(32,"h5"),O(33,"CUSTOMER ENGAGEMENT"),R(),M(34,"p"),O(35,"Shoppers can now enjoy a photo-realistic virtual try-on experience, helping them make confident buying decisions. "),R()()(),M(36,"div",9)(37,"div",10),we(38,"i",14),R(),M(39,"div",12)(40,"h5"),O(41,"DATA ANALYTICS & INSIGHTS"),R(),M(42,"p"),O(43,"Leverage the data collected to improve your offerings and tailor marketing"),R()()()()()(),M(44,"div",15)(45,"div",6)(46,"h6",16),O(47,"FEATURES"),R(),M(48,"h1",17),O(49," Easily create a 3D photo-realistic avatar "),R(),M(50,"p"),O(51,"The app provides shoppers with accurate size recommendations & fit based on their precise body measurements. "),R(),M(52,"div",18)(53,"div",9)(54,"div",19)(55,"div"),O(56,"SEAMLESS INTEGRATION"),R()(),M(57,"div",19)(58,"div"),O(59,"VIRTUAL FITTING ROOM"),R()()(),M(60,"div",9)(61,"div",19)(62,"div"),O(63,"2D - 3D CONVERSION"),R()(),M(64,"div",19)(65,"div"),O(66,"3D AVATARS & MANNEQUINS"),R()()(),M(67,"div",9)(68,"div",19)(69,"div"),O(70,"SIZE RECOMMENDATION"),R()(),M(71,"div",19)(72,"div"),O(73,"MIX AND MATCH"),R()()(),M(74,"div",9)(75,"div",19)(76,"div"),O(77,"DATA ANALYTICS"),R()(),M(78,"div",19)(79,"div"),O(80,"MOBILE FRIENDLY"),R()()()()(),M(81,"div",6),we(82,"div",20),R()(),M(83,"div",21)(84,"h1",22),O(85,'"we take the '),M(86,"span"),O(87,"guesswork"),R(),O(88,' out of online shopping"'),R()(),M(89,"div",23)(90,"div",24)(91,"div")(92,"p"),O(93,"Create your own personalised virtual twin"),R(),M(94,"button",25),O(95,"CREATE AVATAR"),R()()(),M(96,"div",26)(97,"div")(98,"p",27),O(99,"With just a click of a button, join the revolution today!"),R(),M(100,"button",28),O(101,"BECOME PARTNER"),R()()()()()),2&r&&(zn(1),or("hidden",!i.showNav))},dependencies:[kc],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]{padding:0;margin:0}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Montserrat,serif;color:#190101}div.row[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:400;color:#190101}h6[_ngcontent-%COMP%]{color:#cf0a2c}h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#cf0a2c}p[_ngcontent-%COMP%], div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%]{font-family:Garet,serif;color:#190101}div.first-section[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:justify;word-break:keep-all}@media only screen and (min-width: 0px){video[_ngcontent-%COMP%]{height:100%;width:100%;display:block;padding-left:2.5rem;margin:0 auto 1.5rem 0}.feature-title[_ngcontent-%COMP%]{padding-left:.5rem}.first-section[_ngcontent-%COMP%]{padding-top:5rem}.first-section[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:0 2rem}.future-list[_ngcontent-%COMP%]{padding-top:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-left:1rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-left:2.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:2.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-bottom:.5rem}.second-section[_ngcontent-%COMP%]{padding-top:9rem;padding-left:2rem;height:100%;width:100%}.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.5rem;border-radius:4px;font-size:10px;text-align:center;padding-top:1rem;padding-bottom:1rem}.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-position:center;height:50vh}}@media only screen and (min-width: 414px){.first-section[_ngcontent-%COMP%]{padding-top:6rem}}@media only screen and (min-width: 450px){.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.5rem;font-size:1em;border-radius:4px;text-align:center;padding-top:1rem;padding-bottom:1rem}}@media only screen and (min-width: 530px){.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-position:center;height:75vh}}@media only screen and (min-width: 768px){.first-section[_ngcontent-%COMP%]{padding-top:10rem;height:100%;width:100%}video[_ngcontent-%COMP%]{height:100%;width:100%}.future-list[_ngcontent-%COMP%]{padding-top:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-left:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-left:1.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:1.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-bottom:.5rem}.second-section[_ngcontent-%COMP%]{padding-top:9rem;padding-left:5rem;height:100%;width:100%}.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.8rem;border-radius:4px;text-align:center;padding:1rem}.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 2156px){.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100vh}}.feature-title[_ngcontent-%COMP%]{padding-bottom:2rem}.list-icon[_ngcontent-%COMP%]{color:#cf0a2c;font-size:32px;padding:.5rem;border-style:solid;border-radius:100%;border-color:#cf0a2c;border-width:2px}.feature-list[_ngcontent-%COMP%]{padding-top:2rem}div.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-family:Montserrat,serif;font-weight:500;color:#fff;background-color:#cf0a2c}@media only screen and (min-width: 0px){div.row.create-heading[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{padding-top:7rem;padding-bottom:1rem}div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:2rem;position:absolute;bottom:0}.create-avatar[_ngcontent-%COMP%]{background-image:url(/live/assets/images/create-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:50vh;width:100%;margin:0 0 8px;position:relative}.become-partner[_ngcontent-%COMP%]{background-image:url(/live/assets/images/become-partner.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:50vh;width:100%;margin:0 0 8px;position:relative}}@media only screen and (min-width: 768px){.create-avatar[_ngcontent-%COMP%]{background-image:url(/live/assets/images/create-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:75vh;width:100%;margin:0 8px 8px 0;position:relative}.become-partner[_ngcontent-%COMP%]{background-image:url(/live/assets/images/become-partner.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:75vh;width:100%;margin:0 0 8px 8px}}@media only screen and (min-width: 838px){div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:.5rem;position:absolute;bottom:0}}@media only screen and (min-width: 1000px){div.row.create-heading[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{padding-top:9rem;padding-bottom:3rem}div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:3rem;padding-bottom:1rem;position:absolute;bottom:0}}"]})}return n})(),rie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-welcome"]],decls:17,vars:3,consts:[[1,"container-fluid"],[1,"fixed-top"],[1,"p-5","hero-background","bg-image",2,"height","100vh"],[1,"mask",2,"background-color","rgba(255, 255, 255, 0.0)"],[1,"d-flex","justify-content-start","align-items-end","h-100"],[1,"landing-title","landing-text","mb-3"],[1,"landing-subtitle","landing-text","mb-3"],["routerLink","/about-us","role","button",1,"btn","btn-primary","btn-lg"],[3,"showNav","topPadding"],[3,"showNav"]],template:function(r,i){1&r&&(M(0,"div",0),we(1,"app-header",1),M(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"h1",5),O(8,"SIMPLIFYING ONLINE"),we(9,"br"),O(10,"SHOPPING!"),R(),M(11,"h4",6),O(12,"Welcome to the Future of Online Shopping with Try-On"),R(),M(13,"a",7),O(14,"LEARN MORE"),R()()()()()(),we(15,"app-about-us",8)(16,"app-features",9),R()),2&r&&(zn(15),or("showNav",!1)("topPadding",!1),zn(1),or("showNav",!1))},dependencies:[kc,Ms,gV,mV],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}.container-fluid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#E5E8EF,#F3F4F6)}@media only screen and (min-width: 0px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:cover;background-position:center;height:100vh}}@media only screen and (min-width: 1000px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:100% 100%;-moz-background-size:100% 100%;-webkit-background-size:100% 100%;background-position:center center;background-origin:padding-box;height:100vh}}@media only screen and (min-width: 1400px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:contain;background-repeat:no-repeat;background-position:center;background-origin:padding-box;height:100vh}}.landing-text[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,serif}@media only screen and (min-width: 0px){.landing-title[_ngcontent-%COMP%]{font-size:32px;font-weight:300}.landing-subtitle[_ngcontent-%COMP%]{font-size:16px}div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:1.5rem;margin-bottom:2rem}}@media only screen and (min-width: 320px){.landing-title[_ngcontent-%COMP%]{font-size:40px;font-weight:300}.landing-subtitle[_ngcontent-%COMP%]{font-size:16px}div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:2rem;margin-bottom:2rem}a.btn[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (min-width: 700px){a.btn[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem}}@media only screen and (min-width: 1000px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3rem;margin-bottom:6rem}}@media only screen and (min-width: 1242px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:6rem;margin-bottom:6rem}}@media only screen and (min-width: 1336px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8rem;margin-bottom:7.5rem}}.landing-subtitle[_ngcontent-%COMP%]{font-weight:400}a.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}"]})}return n})(),iie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-coming-soon"]],decls:2,vars:0,template:function(r,i){1&r&&(M(0,"p"),O(1,"coming-soon works!"),R())}})}return n})(),sie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-shop"]],decls:53,vars:0,consts:[[1,"fixed-top"],[1,"container","mb-5"],[1,"text-center","pb-5"],[1,"row"],[1,"col-md-3"],["src","/live/assets/images/reebok-x-cardi-b-body-suit-models.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],[1,"text-center"],[1,"btn"],["src","/live/assets/images/satin-tracksuit-top.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/saint-laurent-sneakers.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/reebok-x-cardi-b-jacket.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"]],template:function(r,i){1&r&&(we(0,"app-header",0),M(1,"div",1)(2,"h1",2),O(3,"Shop Collection"),R(),M(4,"div",3)(5,"div",4),we(6,"img",5),M(7,"div",6)(8,"h6"),O(9,"REEBOK X CARDI B BODY SUIT"),R(),M(10,"p"),O(11,"Reebok"),R(),M(12,"p")(13,"b"),O(14,"R599"),R()(),M(15,"button",7),O(16,"SHOP"),R()()(),M(17,"div",4),we(18,"img",8),M(19,"div",6)(20,"h6"),O(21,"TRUWORTHS ST TRACKSUIT TOP"),R(),M(22,"p"),O(23,"Truworths"),R(),M(24,"p")(25,"b"),O(26,"R899"),R()(),M(27,"button",7),O(28,"SHOP"),R()()(),M(29,"div",4),we(30,"img",9),M(31,"div",6)(32,"h6"),O(33,"SAINT LAURENT SNEAKERS"),R(),M(34,"p"),O(35,"Saint Laurent"),R(),M(36,"p")(37,"b"),O(38,"R2 599"),R()(),M(39,"button",7),O(40,"SHOP"),R()()(),M(41,"div",4),we(42,"img",10),M(43,"div",6)(44,"h6"),O(45,"REEBOK X CARDI B ST JACKET"),R(),M(46,"p"),O(47,"Reebok"),R(),M(48,"p")(49,"b"),O(50,"R899"),R()(),M(51,"button",7),O(52,"SHOP"),R()()()()())},dependencies:[kc],styles:["h1[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-family:Montserrat,serif;color:#190101}h1[_ngcontent-%COMP%]{font-size:48px}p[_ngcontent-%COMP%]{font-family:Garet,serif;color:#190101;margin:0}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:1rem;font-family:Montserrat,serif;font-weight:600;color:#fff;background-color:#cf0a2c}@media only screen and (min-width: 0px){h1[_ngcontent-%COMP%]{padding-top:5rem;font-size:32px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2rem}}@media only screen and (min-width: 414px){h1[_ngcontent-%COMP%]{padding-top:8rem;font-size:40px}}@media only screen and (min-width: 768px){h1[_ngcontent-%COMP%]{padding-top:10rem;font-size:48px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:0}}"]})}return n})();function _V(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){_V(s,r,i,o,a,"next",c)}function a(c){_V(s,r,i,o,a,"throw",c)}o(void 0)})}}const yV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new lie;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ig=function(n){return function(n){const e=yV(n);return kE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Dg=function(n){try{return kE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sg=()=>{try{return function hie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},bV=n=>{var e,t;return null===(t=null===(e=Sg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},wV=()=>{var n;return null===(n=Sg())||void 0===n?void 0:n.config},EV=n=>{var e;return null===(e=Sg())||void 0===e?void 0:e[`_${n}`]};class Tg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function OE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Rs(){try{return"object"==typeof indexedDB}catch{return!1}}function Pc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Ag(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ar extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Cie(n,e){return n.replace(Iie,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ar(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Iie=/\{\$([^}]+)}/g;function dd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(IV(s)&&IV(o)){if(!dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function IV(n){return null!==n&&"object"==typeof n}function xg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Tie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Aie(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=PE),void 0===i.error&&(i.error=PE),void 0===i.complete&&(i.complete=PE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PE(){}const Mie=1e3,xie=2,Rie=144e5,kie=.5;function FE(n,e=Mie,t=xie){const r=e*Math.pow(t,n),i=Math.round(kie*r*(Math.random()-.5)*2);return Math.min(Rie,r+i)}function rt(n){return n&&n._delegate?n._delegate:n}class rn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const No="[DEFAULT]";class Pie{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Tg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Fie(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===No?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pie(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const LE=[];var Ee=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ee||{});const DV={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Vie=Ee.INFO,Bie={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Uie=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Bie[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Fo{constructor(e){this.name=e,this._logLevel=Vie,this._logHandler=Uie,this._userLogHandler=null,LE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const jie=(n,e)=>e.some(t=>n instanceof t);let SV,TV;const AV=new WeakMap,VE=new WeakMap,MV=new WeakMap,BE=new WeakMap,UE=new WeakMap;let jE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return VE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||MV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Kie(n){return"function"==typeof n?function Wie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hie(){return TV||(TV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply($E(this),e),ks(AV.get(this))}:function(...e){return ks(n.apply($E(this),e))}:function(e,...t){const r=n.call($E(this),e,...t);return MV.set(r,e.sort?e.sort():[e]),ks(r)}}(n):(n instanceof IDBTransaction&&function Gie(n){if(VE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});VE.set(n,e)}(n),jie(n,function $ie(){return SV||(SV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,jE):n)}function ks(n){if(n instanceof IDBRequest)return function zie(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ks(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&AV.set(t,n)}).catch(()=>{}),UE.set(e,n),e}(n);if(BE.has(n))return BE.get(n);const e=Kie(n);return e!==n&&(BE.set(n,e),UE.set(e,n)),e}const $E=n=>UE.get(n),Yie=["get","getKey","getAll","getAllKeys","count"],Xie=["put","add","delete","clear"],HE=new Map;function xV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(HE.get(e))return HE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xie.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yie.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return HE.set(e,s),s}!function qie(n){jE=n(jE)}(n=>({...n,get:(e,t,r)=>xV(e,t)||n.get(e,t,r),has:(e,t)=>!!xV(e,t)||n.has(e,t)}));class Zie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Jie(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const zE="@firebase/app",Lo=new Fo("@firebase/app"),Rg="[DEFAULT]",Dse={[zE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vo=new Map,kg=new Map;function Sse(n,e){try{n.container.addComponent(e)}catch(t){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _n(n){const e=n.name;if(kg.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,n);for(const t of Vo.values())Sse(t,n);return!0}function di(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Gi=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ase{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const Bo="9.23.0";function kV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(t||(t=wV()),!t)throw Gi.create("no-options");const s=Vo.get(i);if(s){if(dd(t,s.options)&&dd(r,s.config))return s;throw Gi.create("duplicate-app",{appName:i})}const o=new Lie(i);for(const c of kg.values())o.addComponent(c);const a=new Ase(t,r,o);return Vo.set(i,a),a}function Nc(n=Rg){const e=Vo.get(n);if(!e&&n===Rg&&wV())return kV();if(!e)throw Gi.create("no-app",{appName:n});return e}function OV(){return Array.from(Vo.values())}function Fe(n,e,t){var r;let i=null!==(r=Dse[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Lo.warn(a.join(" "))}_n(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Mse="firebase-heartbeat-database",xse=1,pd="firebase-heartbeat-store";let qE=null;function PV(){return qE||(qE=function Qie(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ks(o.result),c.oldVersion,c.newVersion,ks(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Mse,xse,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pd)}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),qE}function WE(){return(WE=m(function*(n){try{return yield(yield PV()).transaction(pd).objectStore(pd).get(FV(n))}catch(e){if(e instanceof Ar)Lo.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e?.message});Lo.warn(t.message)}}})).apply(this,arguments)}function NV(n,e){return KE.apply(this,arguments)}function KE(){return(KE=m(function*(n,e){try{const r=(yield PV()).transaction(pd,"readwrite");yield r.objectStore(pd).put(e,FV(n)),yield r.done}catch(t){if(t instanceof Ar)Lo.warn(t.message);else{const r=Gi.create("idb-set",{originalErrorMessage:t?.message});Lo.warn(r.message)}}})).apply(this,arguments)}function FV(n){return`${n.name}!${n.options.appId}`}class Pse{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fse(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=LV(),{heartbeatsToSend:r,unsentEntries:i}=function Nse(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VV(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ig(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function LV(){return(new Date).toISOString().substring(0,10)}class Fse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Rs()&&Pc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Rse(n){return WE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function VV(n){return Ig(JSON.stringify({version:2,heartbeats:n})).length}!function Lse(n){_n(new rn("platform-logger",e=>new Zie(e),"PRIVATE")),_n(new rn("heartbeat",e=>new Pse(e),"PRIVATE")),Fe(zE,"0.9.13",n),Fe(zE,"0.9.13","esm2017"),Fe("fire-js","")}(""),Fe("firebase","9.23.0","app");const Use=(n,e)=>e.some(t=>n instanceof t);let BV,UV;const jV=new WeakMap,QE=new WeakMap,$V=new WeakMap,YE=new WeakMap,XE=new WeakMap;let ZE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return QE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||$V.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Wse(n){return"function"==typeof n?function qse(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $se(){return UV||(UV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(JE(this),e),Os(jV.get(this))}:function(...e){return Os(n.apply(JE(this),e))}:function(e,...t){const r=n.call(JE(this),e,...t);return $V.set(r,e.sort?e.sort():[e]),Os(r)}}(n):(n instanceof IDBTransaction&&function zse(n){if(QE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});QE.set(n,e)}(n),Use(n,function jse(){return BV||(BV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ZE):n)}function Os(n){if(n instanceof IDBRequest)return function Hse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Os(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&jV.set(t,n)}).catch(()=>{}),XE.set(e,n),e}(n);if(YE.has(n))return YE.get(n);const e=Wse(n);return e!==n&&(YE.set(n,e),XE.set(e,n)),e}const JE=n=>XE.get(n),Qse=["get","getKey","getAll","getAllKeys","count"],Yse=["put","add","delete","clear"],eC=new Map;function HV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(eC.get(e))return eC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Yse.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qse.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return eC.set(e,s),s}!function Gse(n){ZE=n(ZE)}(n=>({...n,get:(e,t,r)=>HV(e,t)||n.get(e,t,r),has:(e,t)=>!!HV(e,t)||n.has(e,t)}));const zV="@firebase/installations",tC="0.6.4",GV=1e4,qV=`w:${tC}`,WV="FIS_v2",Xse="https://firebaseinstallations.googleapis.com/v1",Zse=36e5,qi=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function KV(n){return n instanceof Ar&&n.code.includes("request-failed")}function nC({projectId:n}){return`${Xse}/projects/${n}/installations`}function QV(n){return{token:n.token,requestStatus:2,expiresIn:noe(n.expiresIn),creationTime:Date.now()}}function rC(n,e){return iC.apply(this,arguments)}function iC(){return(iC=m(function*(n,e){const r=(yield e.json()).error;return qi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function YV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sC(n){return oC.apply(this,arguments)}function oC(){return(oC=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function noe(n){return Number(n.replace("s","000"))}function aC(){return(aC=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=nC(n),i=YV(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:WV,appId:n.appId,sdkVersion:qV})},c=yield sC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:QV(l.authToken)}}throw yield rC("Create Installation",c)})).apply(this,arguments)}function ZV(n){return new Promise(e=>{setTimeout(e,n)})}const ooe=/^[cdef][\w-]{21}$/,cC="";function aoe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function coe(n){return function soe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ooe.test(t)?t:cC}catch{return cC}}function Fc(n){return`${n.appName}!${n.appId}`}const Lc=new Map;function JV(n,e){const t=Fc(n);eB(t,e),function doe(n,e){const t=function tB(){return!Uo&&"BroadcastChannel"in self&&(Uo=new BroadcastChannel("[Firebase] FID Change"),Uo.onmessage=n=>{eB(n.data.key,n.data.fid)}),Uo}();t&&t.postMessage({key:n,fid:e}),function nB(){0===Lc.size&&Uo&&(Uo.close(),Uo=null)}()}(t,e)}function eB(n,e){const t=Lc.get(n);if(t)for(const r of t)r(e)}let Uo=null;const hoe="firebase-installations-database",foe=1,jo="firebase-installations-store";let lC=null;function uC(){return lC||(lC=function Kse(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Os(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Os(o.result),c.oldVersion,c.newVersion,Os(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(hoe,foe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(jo)}})),lC}function Og(n,e){return dC.apply(this,arguments)}function dC(){return(dC=m(function*(n,e){const t=Fc(n),i=(yield uC()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&JV(n,e.fid),e})).apply(this,arguments)}function hC(n){return fC.apply(this,arguments)}function fC(){return(fC=m(function*(n){const e=Fc(n),r=(yield uC()).transaction(jo,"readwrite");yield r.objectStore(jo).delete(e),yield r.done})).apply(this,arguments)}function gd(n,e){return pC.apply(this,arguments)}function pC(){return(pC=m(function*(n,e){const t=Fc(n),i=(yield uC()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&JV(n,a.fid),a})).apply(this,arguments)}function gC(n){return mC.apply(this,arguments)}function mC(){return mC=m(function*(n){let e;const t=yield gd(n.appConfig,r=>{const i=function poe(n){return iB(n||{fid:aoe(),registrationStatus:0})}(r),s=function goe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function moe(n,e){return _C.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_oe(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===cC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),mC.apply(this,arguments)}function _C(){return _C=m(function*(n,e){try{const t=yield function ioe(n,e){return aC.apply(this,arguments)}(n,e);return Og(n.appConfig,t)}catch(t){throw KV(t)&&409===t.customData.serverCode?yield hC(n.appConfig):yield Og(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),_C.apply(this,arguments)}function _oe(n){return yC.apply(this,arguments)}function yC(){return(yC=m(function*(n){let e=yield rB(n.appConfig);for(;1===e.registrationStatus;)yield ZV(100),e=yield rB(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield gC(n);return r||t}return e})).apply(this,arguments)}function rB(n){return gd(n,e=>{if(!e)throw qi.create("installation-not-found");return iB(e)})}function iB(n){return function yoe(n){return 1===n.registrationStatus&&n.registrationTime+GV<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vC(){return(vC=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function boe(n,{fid:e}){return`${nC(n)}/${e}/authTokens:generate`}(n,t),i=function XV(n,{refreshToken:e}){const t=YV(n);return t.append("Authorization",function roe(n){return`${WV} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:qV,appId:n.appId}})},c=yield sC(()=>fetch(r,a));if(c.ok)return QV(yield c.json());throw yield rC("Generate Auth Token",c)})).apply(this,arguments)}function bC(n){return wC.apply(this,arguments)}function wC(){return wC=m(function*(n,e=!1){let t;const r=yield gd(n.appConfig,s=>{if(!oB(s))throw qi.create("not-registered");const o=s.authToken;if(!e&&function Coe(n){return 2===n.requestStatus&&!function Ioe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Zse}(n)}(o))return s;if(1===o.requestStatus)return t=function woe(n,e){return EC.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw qi.create("app-offline");const a=function Doe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Eoe(n,e){return CC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),wC.apply(this,arguments)}function EC(){return(EC=m(function*(n,e){let t=yield sB(n.appConfig);for(;1===t.authToken.requestStatus;)yield ZV(100),t=yield sB(n.appConfig);const r=t.authToken;return 0===r.requestStatus?bC(n,e):r})).apply(this,arguments)}function sB(n){return gd(n,e=>{if(!oB(e))throw qi.create("not-registered");return function Soe(n){return 1===n.requestStatus&&n.requestTime+GV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function CC(){return CC=m(function*(n,e){try{const t=yield function voe(n,e){return vC.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Og(n.appConfig,r),t}catch(t){if(!KV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Og(n.appConfig,r)}else yield hC(n.appConfig);throw t}}),CC.apply(this,arguments)}function oB(n){return void 0!==n&&2===n.registrationStatus}function IC(){return(IC=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield gC(e);return r?r.catch(console.error):bC(e).catch(console.error),t.fid})).apply(this,arguments)}function DC(){return DC=m(function*(n,e=!1){const t=n;return yield function Moe(n){return SC.apply(this,arguments)}(t),(yield bC(t,e)).token}),DC.apply(this,arguments)}function SC(){return(SC=m(function*(n){const{registrationPromise:e}=yield gC(n);e&&(yield e)})).apply(this,arguments)}function MC(n){return qi.create("missing-app-config-values",{valueName:n})}const aB="installations",Poe=n=>{const e=n.getProvider("app").getImmediate(),t=function koe(n){if(!n||!n.options)throw MC("App Configuration");if(!n.name)throw MC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw MC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:di(e,"heartbeat"),_delete:()=>Promise.resolve()}},Noe=n=>{const t=di(n.getProvider("app").getImmediate(),aB).getImmediate();return{getId:()=>function Toe(n){return IC.apply(this,arguments)}(t),getToken:i=>function Aoe(n){return DC.apply(this,arguments)}(t,i)}};(function Foe(){_n(new rn(aB,Poe,"PUBLIC")),_n(new rn("installations-internal",Noe,"PRIVATE"))})(),Fe(zV,tC),Fe(zV,tC,"esm2017");const xC="@firebase/remote-config",Yn=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Woe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Koe(n=navigator){return n.languages&&n.languages[0]||n.language}class Qoe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Koe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",y(I)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),Yn.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw Yn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Yn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Zoe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function Yoe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Xoe(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+FE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class tae{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ng(n,e){const t=n.target.error||void 0;return Yn.create(e,{originalErrorMessage:t&&t?.message})}const $o="app_namespace_store";class sae{constructor(e,t,r,i=function iae(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Ng(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($o,{keyPath:"compositeKey"})}}catch(t){e(Yn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readonly").objectStore($o),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(Ng(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){s(Yn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([$o],"readwrite").objectStore($o),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{o(Ng(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Yn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readwrite").objectStore($o),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(Ng(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Yn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class oae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cae(){return NC.apply(this,arguments)}function NC(){return(NC=m(function*(){if(!Rs())return!1;try{return yield Pc()}catch{return!1}})).apply(this,arguments)}!function aae(){_n(new rn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yn.create("registration-window");if(!Rs())throw Yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Yn.create("registration-project-id");if(!o)throw Yn.create("registration-api-key");if(!a)throw Yn.create("registration-app-id");const c=new sae(a,r.name,t=t||"firebase"),l=new oae(c),u=new Fo(xC);u.logLevel=Ee.ERROR;const d=new Qoe(i,Bo,t,s,o,a),h=new Zoe(d,c),f=new Woe(h,c,l,u),p=new tae(r,f,l,c,u);return function zoe(n){const e=rt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Fe(xC,"0.4.4"),Fe(xC,"0.4.4","esm2017")}();const lae=(n,e)=>e.some(t=>n instanceof t);let dB,hB;const fB=new WeakMap,FC=new WeakMap,pB=new WeakMap,LC=new WeakMap,VC=new WeakMap;let BC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return FC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pB.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mae(n){return"function"==typeof n?function gae(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dae(){return hB||(hB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(UC(this),e),Wi(fB.get(this))}:function(...e){return Wi(n.apply(UC(this),e))}:function(e,...t){const r=n.call(UC(this),e,...t);return pB.set(r,e.sort?e.sort():[e]),Wi(r)}}(n):(n instanceof IDBTransaction&&function fae(n){if(FC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});FC.set(n,e)}(n),lae(n,function uae(){return dB||(dB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,BC):n)}function Wi(n){if(n instanceof IDBRequest)return function hae(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Wi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&fB.set(t,n)}).catch(()=>{}),VC.set(e,n),e}(n);if(LC.has(n))return LC.get(n);const e=mae(n);return e!==n&&(LC.set(n,e),VC.set(e,n)),e}const UC=n=>VC.get(n);function gB(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Wi(o.result),c.oldVersion,c.newVersion,Wi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function jC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Wi(t).then(()=>{})}const _ae=["get","getKey","getAll","getAllKeys","count"],yae=["put","add","delete","clear"],$C=new Map;function mB(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if($C.get(e))return $C.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=yae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_ae.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return $C.set(e,s),s}!function pae(n){BC=n(BC)}(n=>({...n,get:(e,t,r)=>mB(e,t)||n.get(e,t,r),has:(e,t)=>!!mB(e,t)||n.has(e,t)}));const vae="/firebase-messaging-sw.js",bae="/firebase-cloud-messaging-push-scope",_B="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wae="https://fcmregistrations.googleapis.com/v1",yB="google.c.a.c_id",Eae="google.c.a.c_l",Cae="google.c.a.ts";var Fg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Fg||{});function Ki(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sae(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const HC="fcm_token_details_db",Tae=5,vB="fcm_token_object_Store";function zC(){return zC=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(HC))return null;let e=null;return(yield gB(HC,Tae,{upgrade:(r=m(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(vB))return;const l=a.objectStore(vB),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ki(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ki(d.auth),p256dh:Ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ki(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ki(d.auth),p256dh:Ki(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ki(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield jC(HC),yield jC("fcm_vapid_details_db"),yield jC("undefined"),function Mae(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),zC.apply(this,arguments)}const xae="firebase-messaging-database",Rae=1,Ho="firebase-messaging-store";let GC=null;function qC(){return GC||(GC=gB(xae,Rae,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ho)}})),GC}function bB(n){return WC.apply(this,arguments)}function WC(){return WC=m(function*(n){const e=XC(n),r=yield(yield qC()).transaction(Ho).objectStore(Ho).get(e);if(r)return r;{const i=yield function Aae(n){return zC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield KC(n,i),i}}),WC.apply(this,arguments)}function KC(n,e){return QC.apply(this,arguments)}function QC(){return(QC=m(function*(n,e){const t=XC(n),i=(yield qC()).transaction(Ho,"readwrite");return yield i.objectStore(Ho).put(e,t),yield i.done,e})).apply(this,arguments)}function YC(){return(YC=m(function*(n){const e=XC(n),r=(yield qC()).transaction(Ho,"readwrite");yield r.objectStore(Ho).delete(e),yield r.done})).apply(this,arguments)}function XC({appConfig:n}){return n.appId}const sn=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pae(n,e){return ZC.apply(this,arguments)}function ZC(){return(ZC=m(function*(n,e){const t=yield nI(n),r=EB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(tI(n.appConfig),i)).json()}catch(o){throw sn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw sn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function JC(){return(JC=m(function*(n,e){const t=yield nI(n),r=EB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${tI(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw sn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw sn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-update-no-token");return s.token})).apply(this,arguments)}function wB(n,e){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(n,e){const r={method:"DELETE",headers:yield nI(n)};try{const s=yield(yield fetch(`${tI(n.appConfig)}/${e}`,r)).json();if(s.error)throw sn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw sn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function tI({projectId:n}){return`${wae}/projects/${n}/registrations`}function nI(n){return rI.apply(this,arguments)}function rI(){return(rI=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function EB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==_B&&(i.web.applicationPubKey=r),i}const Fae=6048e5;function iI(){return iI=m(function*(n){const e=yield function Bae(n,e){return cI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ki(e.getKey("auth")),p256dh:Ki(e.getKey("p256dh"))},r=yield bB(n.firebaseDependencies);if(r){if(function Uae(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Fae?function Vae(n,e){return oI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield wB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return IB(n.firebaseDependencies,t)}return IB(n.firebaseDependencies,t)}),iI.apply(this,arguments)}function sI(){return sI=m(function*(n){const e=yield bB(n.firebaseDependencies);e&&(yield wB(n.firebaseDependencies,e.token),yield function kae(n){return YC.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),sI.apply(this,arguments)}function oI(){return oI=m(function*(n,e){try{const t=yield function Nae(n,e){return JC.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield KC(n.firebaseDependencies,r),t}catch(t){throw yield function CB(n){return sI.apply(this,arguments)}(n),t}}),oI.apply(this,arguments)}function IB(n,e){return aI.apply(this,arguments)}function aI(){return(aI=m(function*(n,e){const r={token:yield Pae(n,e),createTime:Date.now(),subscriptionOptions:e};return yield KC(n,r),r.token})).apply(this,arguments)}function cI(){return(cI=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sae(e)})})).apply(this,arguments)}function DB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function jae(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function $ae(n,e){e.data&&(n.data=e.data)}(e,n),function Hae(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function SB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function lI(n){return sn.create("missing-app-config-values",{valueName:n})}SB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),SB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qae{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Gae(n){if(!n||!n.options)throw lI("App Configuration Object");if(!n.name)throw lI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw lI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uI(){return(uI=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(vae,{scope:bae}),n.swRegistration.update().catch(()=>{})}catch(e){throw sn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function dI(){return(dI=m(function*(n,e){if(!e&&!n.swRegistration&&(yield function TB(n){return uI.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function hI(){return(hI=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=_B)})).apply(this,arguments)}function fI(){return fI=m(function*(n,e){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield function Kae(n,e){return hI.apply(this,arguments)}(n,e?.vapidKey),yield function Wae(n,e){return dI.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Lae(n){return iI.apply(this,arguments)}(n)}),fI.apply(this,arguments)}function pI(){return(pI=m(function*(n,e,t){const r=function Yae(n){switch(n){case Fg.NOTIFICATION_CLICKED:return"notification_open";case Fg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[yB],message_name:t[Eae],message_time:t[Cae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gI(){return gI=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Fg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(DB(t)):n.onMessageHandler.next(DB(t)));const r=t.data;(function zae(n){return"object"==typeof n&&!!n&&yB in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Qae(n,e,t){return pI.apply(this,arguments)}(n,t.messageType,r))}),gI.apply(this,arguments)}const MB="@firebase/messaging",Zae=n=>{const e=new qae(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Xae(n,e){return gI.apply(this,arguments)}(e,t)),e},Jae=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function AB(n,e){return fI.apply(this,arguments)}(e,r)}};function RB(){return mI.apply(this,arguments)}function mI(){return(mI=m(function*(){try{yield Pc()}catch{return!1}return typeof window<"u"&&Rs()&&Ag()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function rce(n=Nc()){return RB().then(e=>{if(!e)throw sn.create("unsupported-browser")},e=>{throw sn.create("indexed-db-unsupported")}),di(rt(n),"messaging").getImmediate()}!function ece(){_n(new rn("messaging",Zae,"PUBLIC")),_n(new rn("messaging-internal",Jae,"PRIVATE")),Fe(MB,"0.12.4"),Fe(MB,"0.12.4","esm2017")}();const Lg="analytics",ice="firebase_id",sce="origin",oce=6e4,ace="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vI="https://www.googletagmanager.com/gtag/js",jt=new Fo("@firebase/analytics"),Pn=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lce(n){if(!n.startsWith(vI)){const e=Pn.create("invalid-gtag-resource",{gtagURL:n});return jt.warn(e.message),""}return n}function kB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function bI(){return(bI=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield kB(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){jt.error(a)}n("config",i,s)})).apply(this,arguments)}function wI(){return(wI=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kB(t);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){jt.error(s)}})).apply(this,arguments)}const yce=30,OB=new class bce{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wce(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function EI(){return(EI=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:wce(r)},s=ace.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function CI(){return(CI=m(function*(n,e=OB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Sce;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:oce),PB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function PB(n,e,t){return II.apply(this,arguments)}function II(){return II=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=OB){var s;const{appId:o,measurementId:a}=n;try{yield function Ice(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Ece(n){return EI.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function Dce(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?FE(t,i.intervalMillis,yce):FE(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),jt.debug(`Calling attemptFetch again in ${u} millis`),PB(n,d,r,i)}}),II.apply(this,arguments)}class Sce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let DI,kI;function SI(){return(SI=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function AI(){return(AI=m(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function OI(){return(OI=m(function*(){if(!Rs())return jt.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Pc()}catch(n){return jt.warn(Pn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function PI(){return PI=m(function*(n,e,t,r,i,s,o){var a;const c=function Cce(n){return CI.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>jt.error(f)),e.push(c);const l=function Oce(){return OI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function _ce(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vI)&&t.src.includes(n))return t;return null})(s)||function dce(n,e){const t=function uce(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:lce}),r=document.createElement("script"),i=`${vI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),kI&&(i("consent","default",kI),function NB(n){kI=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[sce]="firebase",h.update=!0,null!=d&&(h[ice]=d),i("config",u.measurementId,h),DI&&(i("set",DI),function FB(n){DI=n}(void 0)),u.measurementId}),PI.apply(this,arguments)}class Nce{constructor(e){this.app=e}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},LB=[];const VB={};let UB,fi,Vg="dataLayer",NI=!1;function Lce(n,e,t){!function Fce(){const n=[];if(OE()&&n.push("This is a browser extension environment."),Ag()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});jt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Pn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Pn.create("no-api-key");jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[r])throw Pn.create("already-exists",{id:r});if(!NI){!function hce(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Vg);const{wrappedGtag:s,gtagCore:o}=function mce(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function gce(n,e,t,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function pce(n,e,t,r,i){return wI.apply(this,arguments)}(n,e,t,c,l)}else if("config"===o){const[c,l]=a;yield function fce(n,e,t,r,i,s){return bI.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,l,u]=a;n("get",c,l,u)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){jt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(hi,LB,VB,Vg,"gtag");fi=s,UB=o,NI=!0}return hi[r]=function Pce(n,e,t,r,i,s,o){return PI.apply(this,arguments)}(n,LB,VB,e,UB,Vg,t),new Nce(n)}function Vce(n=Nc()){const e=di(n=rt(n),Lg);return e.isInitialized()?e.getImmediate():function Bce(n,e={}){const t=di(n,Lg);if(t.isInitialized()){const i=t.getImmediate();if(dd(e,t.getOptions()))return i;throw Pn.create("already-initialized")}return t.initialize({options:e})}(n)}function Uce(){return FI.apply(this,arguments)}function FI(){return(FI=m(function*(){if(OE()||!Ag()||!Rs())return!1;try{return yield Pc()}catch{return!1}})).apply(this,arguments)}function jce(n,e,t){n=rt(n),function Mce(n,e,t,r){return AI.apply(this,arguments)}(fi,hi[n.app.options.appId],e,t).catch(r=>jt.error(r))}function jB(n,e,t,r){n=rt(n),function Tce(n,e,t,r,i){return SI.apply(this,arguments)}(fi,hi[n.app.options.appId],e,t,r).catch(i=>jt.error(i))}const $B="@firebase/analytics";!function $ce(){_n(new rn(Lg,(e,{options:t})=>Lce(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_n(new rn("analytics-internal",function n(e){try{const t=e.getProvider(Lg).getImmediate();return{logEvent:(r,i,s)=>jB(t,r,i,s)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Fe($B,"0.10.0"),Fe($B,"0.10.0","esm2017")}();const Gce=new class zce extends wg{}(class Hce extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Qi=new nc("7.6.1"),VI="__angularfire_symbol__analyticsIsSupportedValue",BI="__angularfire_symbol__analyticsIsSupported",UI="__angularfire_symbol__remoteConfigIsSupportedValue",jI="__angularfire_symbol__remoteConfigIsSupported",$I="__angularfire_symbol__messagingIsSupportedValue",HI="__angularfire_symbol__messagingIsSupported";globalThis[BI]||(globalThis[BI]=Uce().then(n=>globalThis[VI]=n).catch(()=>globalThis[VI]=!1)),globalThis[HI]||(globalThis[HI]=RB().then(n=>globalThis[$I]=n).catch(()=>globalThis[$I]=!1)),globalThis[jI]||(globalThis[jI]=cae().then(n=>globalThis[UI]=n).catch(()=>globalThis[UI]=!1));const zI=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,Bg={async:()=>globalThis[HI],sync:()=>{const n=globalThis[$I];if(void 0===n)throw new Error(zI("Messaging"));return n}},Ug={async:()=>globalThis[BI],sync:()=>{const n=globalThis[VI];if(void 0===n)throw new Error(zI("Analytics"));return n}};function Vc(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Bc=(n,e)=>{const t=e?[e]:OV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Uc(){}class zB{constructor(e,t=Gce){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class qce{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uc,{},Uc,Uc)),t.pipe(nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jc=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zB(Zone.current)),this.insideAngular=t.run(()=>new zB(Zone.current,Eg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ne))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Go(n){return zo().ngZone.run(()=>n())}function Kce(n){return zo(),function Qce(n){return function(t){return(t=t.lift(new qce(n.ngZone))).pipe(sf(n.outsideAngular),rf(n.insideAngular))}}(zo())(n)}const Yce=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Go(()=>n.apply(void 0,r))},Tt=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uc,{},Uc,Uc)))),r[s]=Yce(r[s],t));const i=function Wce(n){return zo().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Be){const s=zo();return i.pipe(sf(s.outsideAngular),rf(s.insideAngular))}return Go(()=>i)}return i instanceof Be?i.pipe(Kce):i instanceof Promise?Go(()=>new Promise((s,o)=>i.then(a=>Go(()=>s(a)),a=>Go(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Go(()=>i)};class Yi{constructor(e){return e}}class $c{constructor(){return OV()}}const GI=new N("angularfire2._apps"),Zce={provide:Yi,useFactory:function Xce(n){return n&&1===n.length?n[0]:new Yi(Nc())},deps:[[new yt,GI]]},Jce={provide:$c,deps:[[new yt,GI]]};function ele(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yi(r)}}let tle=(()=>{class n{constructor(t){Fe("angularfire",Qi.full,"core"),Fe("angularfire",Qi.full,"app"),Fe("angular",KO.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Fr))},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[Zce,Jce]}),n})();function nle(n,...e){return{ngModule:tle,providers:[{provide:GI,useFactory:ele(n),multi:!0,deps:[ne,Xe,jc,...e]}]}}const rle=Tt(kV,!0),qI=new Map,GB={activated:!1,tokenObservers:[]},ile={initialized:!1,enabled:!1};function ht(n){return qI.get(n)||Object.assign({},GB)}function jg(){return ile}const WI="https://content-firebaseappcheck.googleapis.com/v1",cle="exchangeDebugToken",qB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ule{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new Tg,yield function dle(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Tg,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KI(n){if(!ht(n).activated)throw on.create("use-before-activation",{appName:n.name})}function zg(n,e){return YI.apply(this,arguments)}function YI(){return(YI=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw on.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw on.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw on.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function WB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${WI}/projects/${t}/apps/${r}:${cle}?key=${i}`,body:{debug_token:e}}}const gle="firebase-app-check-database",mle=1,md="firebase-app-check-store";let Gg=null;function XI(){return(XI=m(function*(n,e){const r=(yield function QB(){return Gg||(Gg=new Promise((n,e)=>{try{const t=indexedDB.open(gle,mle);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(md,{keyPath:"compositeKey"})}}catch(t){e(on.create("storage-open",{originalErrorMessage:t?.message}))}}),Gg)}()).transaction(md,"readwrite"),s=r.objectStore(md).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(on.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const _d=new Fo("@firebase/app-check");function e0(n,e){return Rs()?function yle(n,e){return function YB(n,e){return XI.apply(this,arguments)}(function ZB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_d.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function n0(){return jg().enabled}function r0(){return s0.apply(this,arguments)}function s0(){return(s0=m(function*(){const n=jg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ile={error:"UNKNOWN_ERROR"};function Dle(n){return kE.encodeString(JSON.stringify(n),!1)}function qg(n){return o0.apply(this,arguments)}function o0(){return(o0=m(function*(n,e=!1){const t=n.app;KI(t);const r=ht(t);let s,i=r.token;if(i&&!Hc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Hc(c)?i=c:yield e0(t,void 0))}if(!e&&i&&Hc(i))return{token:i.token};let a,o=!1;if(n0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zg(WB(t,yield r0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield e0(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ht(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?_d.warn(c.message):_d.error(c),s=c}return i?s?a=Hc(i)?{token:i.token,internalError:s}:nU(s):(a={token:i.token},r.token=i,yield e0(t,i)):a=nU(s),o&&function tU(n,e){const t=ht(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function JB(n){return a0.apply(this,arguments)}function a0(){return(a0=m(function*(n){const e=n.app;KI(e);const{provider:t}=ht(e);if(n0()){const r=yield r0(),{token:i}=yield zg(WB(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function l0(n,e){const t=ht(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function eU(n){const{app:e}=n,t=ht(e);let r=t.tokenRefresher;r||(r=function Sle(n){const{app:e}=n;return new ule(m(function*(){let r;if(r=ht(e).token?yield qg(n,!0):yield qg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ht(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},qB.RETRIAL_MIN_WAIT,qB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Hc(n){return n.expireTimeMillis-Date.now()>0}function nU(n){return{token:Dle(Ile),error:n}}class Tle{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ht(this.app);for(const t of e)l0(this.app,t.next);return Promise.resolve()}}const uU="app-check-internal";!function jle(){_n(new rn("app-check",n=>function Ale(n,e){return new Tle(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uU).initialize()})),_n(new rn(uU,n=>function Mle(n){return{getToken:e=>qg(n,e),getLimitedUseToken:()=>JB(n),addTokenListener:e=>function c0(n,e,t,r){const{app:i}=n,s=ht(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Hc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),eU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>eU(n))}(n,"INTERNAL",e),removeTokenListener:e=>l0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Fe("@firebase/app-check","0.8.0")}();class f0{constructor(){return Bc("app-check")}}typeof window<"u"&&window;const qle=function hU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fU=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kg=new Fo("@firebase/auth");function Qg(n,...e){Kg.logLevel<=Ee.ERROR&&Kg.error(`Auth (${Bo}): ${n}`,...e)}function Xn(n,...e){throw g0(n,...e)}function pi(n,...e){return g0(n,...e)}function g0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fU.create(n,...e)}function P(n,e,...t){if(!n)throw g0(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qg(e),new Error(e)}function Ps(n,e){n||gi(e)}function yd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function gU(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ps(t>e,"Short delay should be less than long delay!"),this.isMobile=function yie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}()||function bie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Kle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function m0(){return"http:"===gU()||"https:"===gU()}()||OE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _0(n,e){Ps(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class mU{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xle=new vd(3e4,6e4);function at(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ft(n,e,t,r){return y0.apply(this,arguments)}function y0(){return(y0=m(function*(n,e,t,r,i={}){return _U(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xg(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),mU.fetch()(yU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function _U(n,e,t){return v0.apply(this,arguments)}function v0(){return(v0=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yle),e);try{const i=new Zle(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw bd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw bd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw bd(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw bd(n,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function pU(n,e,t){const r=Object.assign(Object.assign({},qle()),{[e]:t});return new zr("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);Xn(n,u)}}catch(i){if(i instanceof Ar)throw i;Xn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Xi(n,e,t,r){return b0.apply(this,arguments)}function b0(){return(b0=m(function*(n,e,t,r,i={}){const s=yield ft(n,e,t,r,i);return"mfaPendingCredential"in s&&Xn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function yU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?_0(n.config,i):`${n.config.apiScheme}://${i}`}class Zle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),Xle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pi(n,e,r);return i.customData._tokenResponse=t,i}function w0(){return(w0=m(function*(n,e){return ft(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function C0(){return(C0=m(function*(n,e){return ft(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function I0(){return(I0=m(function*(n,e=!1){const t=rt(n),r=yield t.getIdToken(e),i=Yg(r);P(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wd(D0(i.auth_time)),issuedAtTime:wd(D0(i.iat)),expirationTime:wd(D0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function D0(n){return 1e3*Number(n)}function Yg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Qg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dg(t);return i?JSON.parse(i):(Qg("Failed to decode base64 JWT payload"),null)}catch(i){return Qg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zi(n,e){return S0.apply(this,arguments)}function S0(){return(S0=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ar&&function iue({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class sue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class vU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ed(n){return T0.apply(this,arguments)}function T0(){return T0=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Zi(n,function tue(n,e){return C0.apply(this,arguments)}(t,{idToken:r}));P(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function cue(n){return n.map(e=>{var{providerId:t}=e,r=Dy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function aue(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vU(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),T0.apply(this,arguments)}function A0(){return(A0=m(function*(n){const e=rt(n);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function M0(){return(M0=m(function*(n,e){const t=yield _U(n,{},m(function*(){const r=xg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yU(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function rue(n){const e=Yg(n);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function lue(n,e){return M0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Cd;return r&&(P("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return gi("not implemented")}}function Ns(n,e){P("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class qo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Zi(t,t.stsTokenManager.getToken(t.auth,e));return P(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function nue(n){return I0.apply(this,arguments)}(this,e)}reload(){return function oue(n){return A0.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ed(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Zi(e,function Jle(n,e){return w0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:k,isAnonymous:H,providerData:W,stsTokenManager:le}=t;P(I&&le,e,"internal-error");const Qe=Cd.fromJSON(this.name,le);P("string"==typeof I,e,"internal-error"),Ns(d,e.name),Ns(h,e.name),P("boolean"==typeof k,e,"internal-error"),P("boolean"==typeof H,e,"internal-error"),Ns(f,e.name),Ns(p,e.name),Ns(g,e.name),Ns(_,e.name),Ns(v,e.name),Ns(y,e.name);const Rt=new qo({uid:I,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Qe,createdAt:v,lastLoginAt:y});return W&&Array.isArray(W)&&(Rt.providerData=W.map(gr=>Object.assign({},gr))),_&&(Rt._redirectEventId=_),Rt}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new Cd;i.updateFromServerResponse(t);const s=new qo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(s),s})()}}const bU=new Map;function Ji(n){Ps(n instanceof Function,"Expected a class definition");let e=bU.get(n);return e?(Ps(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bU.set(n,e),e)}const wU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Xg(n,e,t){return`firebase:${n}:${e}:${t}`}class Gc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?qo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new Gc(Ji(wU),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ji(wU);const o=Xg(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(o);if(u){const d=qo._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Gc(s,e,r)):new Gc(s,e,r)})()}}function EU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TU(e))return"Blackberry";if(AU(e))return"Webos";if(x0(e))return"Safari";if((e.includes("chrome/")||IU(e))&&!e.includes("edge/"))return"Chrome";if(SU(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function CU(n=Ut()){return/firefox\//i.test(n)}function x0(n=Ut()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IU(n=Ut()){return/crios\//i.test(n)}function DU(n=Ut()){return/iemobile/i.test(n)}function SU(n=Ut()){return/android/i.test(n)}function TU(n=Ut()){return/blackberry/i.test(n)}function AU(n=Ut()){return/webos/i.test(n)}function Zg(n=Ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function MU(n=Ut()){return Zg(n)||SU(n)||AU(n)||TU(n)||/windows phone/i.test(n)||DU(n)}function xU(n,e=[]){let t;switch(n){case"Browser":t=EU(Ut());break;case"Worker":t=`${EU(Ut())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${r}`}function RU(n,e){return k0.apply(this,arguments)}function k0(){return(k0=m(function*(n,e){return ft(n,"GET","/v2/recaptchaConfig",at(n,e))})).apply(this,arguments)}function OU(n){return void 0!==n&&void 0!==n.enterprise}class PU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function O0(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function pue(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function NU(n){return`__${n}${Math.floor(1e6*Math.random())}`}class FU{constructor(e){this.type="recaptcha-enterprise",this.auth=$t(e)}verify(e="verify",t=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){RU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new PU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;OU(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&OU(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));O0("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Fs(n,e,t){return P0.apply(this,arguments)}function P0(){return(P0=m(function*(n,e,t,r=!1){const i=new FU(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class yue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class vue{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LU(this),this.idTokenSubscription=new LU(this),this.beforeStateQueue=new yue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Gc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return P(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Ed(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Qle(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?rt(e):null;return r&&P(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Ji(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield RU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new PU(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new FU(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Ji(e)||t._popupRedirectResolver;P(r,t,"argument-error"),t.redirectPersistenceManager=yield Gc.create(t,[Ji(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Wle(n,...e){Kg.logLevel<=Ee.WARN&&Kg.warn(`Auth (${Bo}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function $t(n){return rt(n)}class LU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Sie(n,e){const t=new Tie(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VU(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BU(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class UU{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}function $U(n,e){return F0.apply(this,arguments)}function F0(){return(F0=m(function*(n,e){return ft(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function V0(n,e){return B0.apply(this,arguments)}function B0(){return(B0=m(function*(n,e){return Xi(n,"POST","/v1/accounts:signInWithPassword",at(n,e))})).apply(this,arguments)}function Jg(n,e){return U0.apply(this,arguments)}function U0(){return(U0=m(function*(n,e){return ft(n,"POST","/v1/accounts:sendOobCode",at(n,e))})).apply(this,arguments)}function j0(){return(j0=m(function*(n,e){return Jg(n,e)})).apply(this,arguments)}function $0(n,e){return H0.apply(this,arguments)}function H0(){return(H0=m(function*(n,e){return Jg(n,e)})).apply(this,arguments)}function W0(){return(W0=m(function*(n,e){return Xi(n,"POST","/v1/accounts:signInWithEmailLink",at(n,e))})).apply(this,arguments)}function K0(){return(K0=m(function*(n,e){return Xi(n,"POST","/v1/accounts:signInWithEmailLink",at(n,e))})).apply(this,arguments)}class Id extends UU{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Id(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Id(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Fs(e,i,"signInWithPassword");return V0(e,s)}return V0(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Fs(e,i,"signInWithPassword");return V0(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Aue(n,e){return W0.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Xn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return $U(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Mue(n,e){return K0.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Xn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function es(n,e){return Q0.apply(this,arguments)}function Q0(){return(Q0=m(function*(n,e){return Xi(n,"POST","/v1/accounts:signInWithIdp",at(n,e))})).apply(this,arguments)}class Td{constructor(e){var t,r,i,s,o,a;const c=hd(fd(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Fue(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);P(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Lue(n){const e=hd(fd(n)).link,t=e?hd(fd(e)).deep_link_id:null,r=hd(fd(n)).deep_link_id;return(r?hd(fd(r)).link:null)||r||t||e||n}(e);try{return new Td(t)}catch{return null}}}let HU=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Id._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Td.parseLink(r);return P(i,"argument-error"),Id._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vue extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function tm(n,e){return tD.apply(this,arguments)}function tD(){return(tD=m(function*(n,e){return Xi(n,"POST","/v1/accounts:signUp",at(n,e))})).apply(this,arguments)}class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield qo._fromIdTokenResponse(e,r,i),o=zU(r);return new Mr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=zU(r);return new Mr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function zU(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class nm extends Ar{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new nm(e,t,r,i)}}function GU(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?nm._fromErrorAndOperation(n,s,e,r):s})}function sD(){return(sD=m(function*(n,e,t=!1){const r=yield Zi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Mr._forOperation(n,"link",r)})).apply(this,arguments)}function aD(){return(aD=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Zi(n,GU(r,i,e,n),t);P(s.idToken,r,"internal-error");const o=Yg(s.idToken);P(o,r,"internal-error");const{sub:a}=o;return P(n.uid===a,r,"user-mismatch"),Mr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Xn(r,"user-mismatch"),s}})).apply(this,arguments)}function KU(n,e){return cD.apply(this,arguments)}function cD(){return(cD=m(function*(n,e,t=!1){const r="signIn",i=yield GU(n,r,e),s=yield Mr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function uD(){return(uD=m(function*(n,e){return KU($t(n),e)})).apply(this,arguments)}function qc(n,e,t){var r;P((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),P(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(P(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(P(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function zue(n,e,t){return yD.apply(this,arguments)}function yD(){return yD=m(function*(n,e,t){var r;const i=$t(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Fs(i,s,"getOobCode",!0);t&&qc(i,o,t),yield $0(i,o)}else t&&qc(i,s,t),yield $0(i,s).catch(function(){var o=m(function*(a){if("auth/missing-recaptcha-token"!==a.code)return Promise.reject(a);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const c=yield Fs(i,s,"getOobCode",!0);t&&qc(i,c,t),yield $0(i,c)}});return function(a){return o.apply(this,arguments)}}())}),yD.apply(this,arguments)}function que(n,e,t){return CD.apply(this,arguments)}function CD(){return CD=m(function*(n,e,t){var r;const i=$t(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Fs(i,s,"signUpPassword");o=tm(i,l)}else o=tm(i,s).catch(function(){var l=m(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Fs(i,s,"signUpPassword");return tm(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield o.catch(l=>Promise.reject(l)),c=yield Mr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),CD.apply(this,arguments)}function Wue(n,e,t){return function lD(n,e){return uD.apply(this,arguments)}(rt(n),HU.credential(e,t))}function Que(n,e){return AD.apply(this,arguments)}function AD(){return AD=m(function*(n,e){const t=rt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&qc(t.auth,i,e);const{email:s}=yield function Sue(n,e){return j0.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),AD.apply(this,arguments)}const im="__sak";class YU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hde=(()=>{class n extends YU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lde(){const n=Ut();return x0(n)||Zg(n)}()&&function hue(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=MU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function due(){return function wie(){const n=Ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),XU=(()=>{class n extends YU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let pde=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function fde(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function VD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class gde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=VD("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function At(){return window}function BD(){return typeof At().WorkerGlobalScope<"u"&&"function"==typeof At().importScripts}function UD(){return(UD=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ZU="firebaseLocalStorageDb",sm="firebaseLocalStorage",JU="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function om(n,e){return n.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function jD(){const n=indexedDB.open(ZU,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sm,{keyPath:JU})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),yield function wde(){const n=indexedDB.deleteDatabase(ZU);return new Md(n).toPromise()}(),e(yield jD()))}))})}function ej(n,e,t){return $D.apply(this,arguments)}function $D(){return($D=m(function*(n,e,t){const r=om(n,!0).put({[JU]:e,value:t});return new Md(r).toPromise()})).apply(this,arguments)}function HD(){return(HD=m(function*(n,e){const t=om(n,!1).get(e),r=yield new Md(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function tj(n,e){const t=om(n,!0).delete(e);return new Md(t).toPromise()}const Dde=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield jD()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return BD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=pde._getInstance(function vde(){return BD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function _de(){return UD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new gde(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function yde(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield jD();return yield ej(t,im,"1"),yield tj(t,im),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>ej(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Ede(n,e){return HD.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>tj(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=om(o,!1).getAll();return new Md(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();NU("rcb"),new vd(3e4,6e4);class ZD extends UU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return es(e,this._buildIdpRequest())}_linkToIdToken(e,t){return es(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return es(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jde(n){return KU(n.auth,new ZD(n),n.bypassAuthState)}function $de(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function WU(n,e){return aD.apply(this,arguments)}(t,new ZD(n),n.bypassAuthState)}function Hde(n){return JD.apply(this,arguments)}function JD(){return(JD=m(function*(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function iD(n,e){return sD.apply(this,arguments)}(t,new ZD(n),n.bypassAuthState)})).apply(this,arguments)}class zde{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jde;case"linkViaPopup":case"linkViaRedirect":return Hde;case"reauthViaPopup":case"reauthViaRedirect":return $de;default:Xn(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new vd(2e3,1e4);const Gde="pendingRedirect",xd=new Map;class qde extends zde{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=xd.get(t.auth._key());if(!r){try{const s=(yield function Wde(n,e){return iS.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xd.set(t.auth._key(),r)}return t.bypassAuthState||xd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function iS(){return(iS=m(function*(n,e){const t=function ij(n){return Xg(Gde,n.config.apiKey,n.name)}(e),r=function rj(n){return Ji(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Kde(n,e){xd.set(n._key(),e)}function sj(n,e){return dS.apply(this,arguments)}function dS(){return(dS=m(function*(n,e,t=!1){const r=$t(n),i=function Ko(n,e){return e?Ji(e):(P(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new qde(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Jde{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ehe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cj(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aj(e))}saveEventToCache(e){this.cachedEventUids.add(aj(e)),this.lastProcessedEventTime=Date.now()}}function aj(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cj({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function fS(){return(fS=m(function*(n,e={}){return ft(n,"GET","/v1/projects",e)})).apply(this,arguments)}const nhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rhe=/^https?/;function pS(){return pS=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function the(n){return fS.apply(this,arguments)}(n);for(const t of e)try{if(she(t))return}catch{}Xn(n,"unauthorized-domain")}),pS.apply(this,arguments)}function she(n){const e=yd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!rhe.test(t))return!1;if(nhe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ohe=new vd(3e4,6e4);function lj(){const n=At().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let cm=null;const lhe=new vd(5e3,15e3),uhe="__/auth/iframe",dhe="emulator/auth/iframe",hhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function phe(n){const e=n.config;P(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_0(e,dhe):`https://${n.config.authDomain}/${uhe}`,r={apiKey:e.apiKey,appName:n.name,v:Bo},i=fhe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${xg(r).slice(1)}`}function gS(){return gS=m(function*(n){const e=yield function che(n){return cm=cm||function ahe(n){return new Promise((e,t)=>{var r,i,s;function o(){lj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lj(),t(pi(n,"network-request-failed"))},timeout:ohe.get()})}if(null!==(i=null===(r=At().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=At().gapi)||void 0===s||!s.load){const a=NU("iframefcb");return At()[a]=()=>{gapi.load?o():t(pi(n,"network-request-failed"))},O0(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw cm=null,e})}(n),cm}(n),t=At().gapi;return P(t,n,"internal-error"),e.open({where:document.body,url:phe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hhe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=pi(n,"network-request-failed"),c=At().setTimeout(()=>{o(a)},lhe.get());function l(){At().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),gS.apply(this,arguments)}const mhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Che="__/auth/handler",Ihe="emulator/auth/handler",Dhe=encodeURIComponent("fac");function dj(n,e,t,r,i,s){return mS.apply(this,arguments)}function mS(){return(mS=m(function*(n,e,t,r,i,s){P(n.config.authDomain,n,"auth-domain-config-required"),P(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Bo,eventId:i};if(e instanceof Ls){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function Die(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Vue){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${Dhe}=${encodeURIComponent(c)}`:"";return`${function She({config:n}){return n.emulator?_0(n,Ihe):`https://${n.authDomain}/${Che}`}(n)}?${xg(a).slice(1)}${l}`})).apply(this,arguments)}const _S="webStorageSupport",Ahe=class The{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XU,this._completeRedirectFn=sj,this._overrideRedirectResult=Kde}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Ps(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield dj(e,t,r,yd(),i);return function whe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},mhe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ut().toLowerCase();t&&(a=IU(l)?"_blank":t),CU(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function uue(n=Ut()){var e;return Zg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Ehe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new uj(null);const d=window.open(e||"",a,u);P(d,n,"popup-blocked");try{d.focus()}catch{}return new uj(d)}(e,a,VD())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function mde(n){At().location.href=n}(yield dj(e,t,r,yd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function ghe(n){return gS.apply(this,arguments)}(e),i=new Jde(e);return r.register("authEvent",s=>(P(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_S,{type:_S},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[_S];void 0!==o&&t(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function ihe(n){return pS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MU()||x0()||Zg()}};var pj="@firebase/auth";class Mhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ohe=EV("authIdTokenMaxAge")||300;let mj=null;const Phe=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ohe)return;const s=r?.token;mj!==s&&(mj=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Nhe(n=Nc()){const e=di(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function bue(n,e){const t=di(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(dd(t.getOptions(),e??{}))return i;Xn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Ahe,persistence:[Dde,hde,XU]}),r=EV("authTokenSyncURL");if(r){const s=Phe(r);(function rde(n,e,t){rt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function nde(n,e,t,r){rt(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=bV("auth");return i&&function Eue(n,e,t){const r=$t(n);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=VU(e),{host:o,port:a}=function Cue(n){const e=VU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BU(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:BU(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Iue(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function Fhe(n){return new Be(function(e){var t=function ide(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function Rhe(n){_n(new rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;P(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xU(n)},l=new vue(r,i,s,c);return function wue(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_n(new rn("auth-internal",e=>{const t=$t(e.getProvider("auth").getImmediate());return new Mhe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(pj,"0.23.2",function xhe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Fe(pj,"0.23.2","esm2017")}("Browser");class Rd{constructor(e){return e}}class yj{constructor(){return Bc("auth")}}const vS=new N("angularfire2.auth-instances");function Bhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rd(r)}}const Uhe={provide:yj,deps:[[new yt,vS]]},jhe={provide:Rd,useFactory:function Vhe(n,e){const t=Vc("auth",n,e);return t&&new Rd(t)},deps:[[new yt,vS],Yi]};let $he=(()=>{class n{constructor(){Fe("angularfire",Qi.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[jhe,Uhe]}),n})();function Hhe(n,...e){return{ngModule:$he,providers:[{provide:vS,useFactory:Bhe(n),multi:!0,deps:[ne,Xe,jc,$c,[new yt,f0],...e]}]}}const vj=Tt(Fhe,!0),bj=Tt(que,!0),zhe=Tt(Nhe,!0),Ghe=Tt(Que,!0),qhe=Tt(zue,!0),Whe=Tt(Wue,!0);var B,Khe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gr={},bS=bS||{},oe=Khe||self;function um(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wS="closure_uid_"+(1e9*Math.random()>>>0),Yhe=0;function Xhe(n,e,t){return n.call.apply(n.bind,arguments)}function Zhe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yn(n,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xhe:Zhe).apply(null,arguments)}function dm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ht(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qhe(n){Object.prototype.hasOwnProperty.call(n,wS)&&n[wS]||(n[wS]=++Yhe)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ES(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ej(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(um(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function vn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var efe=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return n}();function Od(n){return/^[\s\xa0]*$/.test(n)}function hm(){var n=oe.navigator;return n&&(n=n.userAgent)?n:""}function mi(n){return-1!=hm().indexOf(n)}function CS(n){return CS[" "](n),n}CS[" "]=function(){};var DS,n,nfe=mi("Opera"),Wc=mi("Trident")||mi("MSIE"),Cj=mi("Edge"),IS=Cj||Wc,Ij=mi("Gecko")&&!(-1!=hm().toLowerCase().indexOf("webkit")&&!mi("Edge"))&&!(mi("Trident")||mi("MSIE"))&&!mi("Edge"),rfe=-1!=hm().toLowerCase().indexOf("webkit")&&!mi("Edge");function Dj(){var n=oe.document;return n?n.documentMode:void 0}e:{var SS="",TS=(n=hm(),Ij?/rv:([^\);]+)(\)|;)/.exec(n):Cj?/Edge\/([\d\.]+)/.exec(n):Wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rfe?/WebKit\/(\S+)/.exec(n):nfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TS&&(SS=TS?TS[1]:""),Wc){var AS=Dj();if(null!=AS&&AS>parseFloat(SS)){DS=String(AS);break e}}DS=SS}var ife=oe.document&&Wc&&(Dj()||parseInt(DS,10))||void 0;function Pd(n,e){if(vn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ij){e:{try{CS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sfe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pd.$.h.call(this)}}Ht(Pd,vn);var sfe={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),ofe=0;function afe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ofe,this.fa=this.ia=!1}function fm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function xS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Tj(n){const e={};for(const t in n)e[t]=n[t];return e}const Aj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Aj.length;s++)t=Aj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function pm(n){this.src=n,this.g={},this.h=0}function RS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=wj(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function kS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}pm.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=kS(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new afe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var OS="closure_lm_"+(1e6*Math.random()|0),PS={};function xj(n,e,t,r,i){if(r&&r.once)return kj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xj(n,e[s],t,r,i);return null}return t=VS(t),n&&n[Nd]?n.O(e,t,kd(r)?!!r.capture:!!r,i):Rj(n,e,t,!1,r,i)}function Rj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=kd(i)?!!i.capture:!!i,a=FS(n);if(a||(n[OS]=a=new pm(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function lfe(){const e=ufe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)efe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Pj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kj(n,e[s],t,r,i);return null}return t=VS(t),n&&n[Nd]?n.P(e,t,kd(r)?!!r.capture:!!r,i):Rj(n,e,t,!0,r,i)}function Oj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Oj(n,e[s],t,r,i);else r=kd(r)?!!r.capture:!!r,t=VS(t),n&&n[Nd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=kS(s=n.g[e],t,r,i))&&(fm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=FS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=kS(e,t,r,i)),(t=-1<n?e[n]:null)&&NS(t))}function NS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Nd])RS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Pj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=FS(e))?(RS(t,n),0==t.h&&(t.src=null,e[OS]=null)):fm(n)}}}function Pj(n){return n in PS?PS[n]:PS[n]="on"+n}function ufe(n,e){if(n.fa)n=!0;else{e=new Pd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&NS(n),n=t.call(r,e)}return n}function FS(n){return(n=n[OS])instanceof pm?n:null}var LS="__closure_events_fn_"+(1e9*Math.random()>>>0);function VS(n){return"function"==typeof n?n:(n[LS]||(n[LS]=function(e){return n.handleEvent(e)}),n[LS])}function zt(){Vs.call(this),this.i=new pm(this),this.S=this,this.J=null}function an(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new vn(e,n);else if(e instanceof vn)e.target=e.target||n;else{var i=e;Mj(e=new vn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=gm(o,r,!0,e)&&i}if(i=gm(o=e.g=n,r,!0,e)&&i,i=gm(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=gm(o=e.g=t[s],r,!1,e)&&i}function gm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&RS(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Ht(zt,Vs),zt.prototype[Nd]=!0,zt.prototype.removeEventListener=function(n,e,t,r){Oj(this,n,e,t,r)},zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)fm(t[r]);delete n.g[e],n.h--}}this.J=null},zt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var BS=oe.JSON.stringify;function hfe(){var n=US;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Nj=new class dfe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pfe,n=>n.reset());class pfe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gfe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function mfe(n){oe.setTimeout(()=>{throw n},0)}let Fd,Ld=!1,US=new class ffe{constructor(){this.h=this.g=null}add(e,t){const r=Nj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Fj=()=>{const n=oe.Promise.resolve(void 0);Fd=()=>{n.then(_fe)}};var _fe=()=>{for(var n;n=hfe();){try{n.h.call(n.g)}catch(t){mfe(t)}var e=Nj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ld=!1};function mm(n,e){zt.call(this),this.h=n||1,this.g=e||oe,this.j=yn(this.qb,this),this.l=Date.now()}function jS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $S(n,e,t){if("function"==typeof n)t&&(n=yn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yn(n.handleEvent,n)}return 2147483647<Number(e)?-1:oe.setTimeout(n,e||0)}function Lj(n){n.g=$S(()=>{n.g=null,n.i&&(n.i=!1,Lj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ht(mm,zt),(B=mm.prototype).ga=!1,B.T=null,B.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),an(this,"tick"),this.ga&&(jS(this),this.start()))}},B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.N=function(){mm.$.N.call(this),jS(this),delete this.g};class yfe extends Vs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lj(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vd(n){Vs.call(this),this.h=n,this.g={}}Ht(Vd,Vs);var Vj=[];function Bj(n,e,t,r){Array.isArray(t)||(t&&(Vj[0]=t.toString()),t=Vj);for(var i=0;i<t.length;i++){var s=xj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Uj(n){xS(n.g,function(e,t){this.g.hasOwnProperty(t)&&NS(e)},n),n.g={}}function _m(){this.g=!0}function Kc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Efe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return BS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Vd.prototype.N=function(){Vd.$.N.call(this),Uj(this)},Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_m.prototype.Ea=function(){this.g=!1},_m.prototype.info=function(){};var Qo={},jj=null;function ym(){return jj=jj||new zt}function $j(n){vn.call(this,Qo.Ta,n)}function Bd(n){const e=ym();an(e,new $j(e))}function Hj(n,e){vn.call(this,Qo.STAT_EVENT,n),this.stat=e}function Nn(n){const e=ym();an(e,new Hj(e,n))}function zj(n,e){vn.call(this,Qo.Ua,n),this.size=e}function Ud(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){n()},e)}Qo.Ta="serverreachability",Ht($j,vn),Qo.STAT_EVENT="statevent",Ht(Hj,vn),Qo.Ua="timingevent",Ht(zj,vn);var vm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HS(){}function Wj(){}HS.prototype.h=null;var qS,jd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zS(){vn.call(this,"d")}function GS(){vn.call(this,"c")}function bm(){}function $d(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Vd(this),this.P=Cfe,this.V=new mm(n=IS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kj}function Kj(){this.i=null,this.g="",this.h=!1}Ht(zS,vn),Ht(GS,vn),Ht(bm,HS),bm.prototype.g=function(){return new XMLHttpRequest},bm.prototype.i=function(){return{}},qS=new bm;var Cfe=45e3,WS={},wm={};function KS(n,e,t){n.L=1,n.v=Dm(ts(e)),n.s=t,n.S=!0,Qj(n,null)}function Qj(n,e){n.G=Date.now(),Hd(n),n.A=ts(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),s$(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Kj,n.g=M$(n.l,t?e:null,!n.s),0<n.O&&(n.M=new yfe(yn(n.Pa,n,n.g),n.O)),Bj(n.U,n.g,"readystatechange",n.nb),e=n.I?Tj(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Bd(),function vfe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Yj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Xj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Ife(n,t),i==wm){4==e&&(n.o=4,Nn(14),r=!1),Kc(n.j,n.m,null,"[Incomplete Response]");break}if(i==WS){n.o=4,Nn(15),Kc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kc(n.j,n.m,i,null),QS(n,i)}Yj(n)&&i!=wm&&i!=WS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nT(e),e.M=!0,Nn(11))):(Kc(n.j,n.m,t,"[Invalid Chunked Response]"),Yo(n),zd(n))}function Ife(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?wm:(t=Number(e.substring(t,r)),isNaN(t)?WS:(r+=1)+t>e.length?wm:(e=e.slice(r,r+t),n.C=r+t,e))}function Hd(n){n.Y=Date.now()+n.P,Zj(n,n.P)}function Zj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ud(yn(n.lb,n),e)}function Em(n){n.B&&(oe.clearTimeout(n.B),n.B=null)}function zd(n){0==n.l.H||n.J||D$(n.l,n)}function Yo(n){Em(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jS(n.V),Uj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function QS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||YS(t.i,n)))if(!n.K&&YS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rm(t),Mm(t)}tT(t),Nn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ud(yn(t.ib,t),6e3));if(1>=c$(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zo(t,11)}else if((n.K||t.g==n)&&Rm(t),!Od(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(XS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ze(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=A$(r,r.J?r.pa:null,r.Y),o.K){l$(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Em(a),Hd(a)),r.g=o}else C$(r);0<t.j.length&&xm(t)}else"stop"!=l[0]&&"close"!=l[0]||Zo(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Zo(t,7):eT(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Bd()}catch{}}function Jj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(um(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Sfe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(um(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Dfe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(um(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(B=$d.prototype).setTimeout=function(n){this.P=n},B.nb=function(n){n=n.target;const e=this.M;e&&3==_i(n)?e.l():this.Pa(n)},B.Pa=function(n){try{if(n==this.g)e:{const u=_i(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||IS||this.g&&(this.h.h||this.g.ja()||_$(this.g)))){this.J||4!=u||7==e||Bd(),Em(this);var t=this.g.da();this.ca=t;t:if(Yj(this)){var r=_$(this.g);n="";var i=r.length,s=4==_i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),zd(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function bfe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Nn(12),Yo(this),zd(this);break e}Kc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QS(this,t)}this.S?(Xj(this,u,o),IS&&this.i&&3==u&&(Bj(this.U,this.V,"tick",this.mb),this.V.start())):(Kc(this.j,this.m,o,null),QS(this,o)),4==u&&Yo(this),this.i&&!this.J&&(4==u?D$(this.l,this):(this.i=!1,Hd(this)))}else(function zfe(n){const e={};n=(n.g&&2<=_i(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Od(n[r]))continue;var t=gfe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function cfe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Yo(this),zd(this)}}}catch{}},B.mb=function(){if(this.g){var n=_i(this.g),e=this.g.ja();this.C<e.length&&(Em(this),Xj(this,n,e),this.i&&4!=n&&Hd(this))}},B.cancel=function(){this.J=!0,Yo(this)},B.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function wfe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bd(),Nn(17)),Yo(this),this.o=2,zd(this)):Zj(this,this.Y-n)};var e$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xo){this.h=n.h,Cm(this,n.j),this.s=n.s,this.g=n.g,Im(this,n.m),this.l=n.l;var e=n.i,t=new Wd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t$(this,t),this.o=n.o}else n&&(e=String(n).match(e$))?(this.h=!1,Cm(this,e[1]||"",!0),this.s=Gd(e[2]||""),this.g=Gd(e[3]||"",!0),Im(this,e[4]),this.l=Gd(e[5]||"",!0),t$(this,e[6]||"",!0),this.o=Gd(e[7]||"")):(this.h=!1,this.i=new Wd(null,this.h))}function ts(n){return new Xo(n)}function Cm(n,e,t){n.j=t?Gd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Im(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function t$(n,e,t){e instanceof Wd?(n.i=e,function Ofe(n,e){e&&!n.j&&(Bs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(r$(this,r),s$(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qd(e,Rfe)),n.i=new Wd(e,n.h))}function Ze(n,e,t){n.i.set(e,t)}function Dm(n){return Ze(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Afe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Afe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qd(e,n$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qd(e,n$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qd(t,"/"==t.charAt(0)?xfe:Mfe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qd(t,kfe)),n.join("")};var n$=/[#\/\?@]/g,Mfe=/[#\?:]/g,xfe=/[#\?]/g,Rfe=/[#\?@]/g,kfe=/#/g;function Wd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Tfe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function r$(n,e){Bs(n),e=Qc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function i$(n,e){return Bs(n),e=Qc(n,e),n.g.has(e)}function s$(n,e,t){r$(n,e),0<t.length&&(n.i=null,n.g.set(Qc(n,e),ES(t)),n.h+=t.length)}function Qc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function o$(n){this.l=n||Nfe,n=oe.PerformanceNavigationTiming?0<(n=oe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Wd.prototype).add=function(n,e){Bs(this),this.i=null,n=Qc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){Bs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},B.ta=function(){Bs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},B.Z=function(n){Bs(this);let e=[];if("string"==typeof n)i$(this,n)&&(e=e.concat(this.g.get(Qc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},B.set=function(n,e){return Bs(this),this.i=null,i$(this,n=Qc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Nfe=10;function a$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function c$(n){return n.h?1:n.g?n.g.size:0}function YS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XS(n,e){n.g?n.g.add(e):n.h=e}function l$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function u$(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ES(n.i)}o$.prototype.cancel=function(){if(this.i=u$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ffe=class{stringify(n){return oe.JSON.stringify(n,void 0)}parse(n){return oe.JSON.parse(n,void 0)}};function Lfe(){this.g=new Ffe}function Vfe(n,e,t){const r=t||"";try{Jj(n,function(i,s){let o=i;kd(i)&&(o=BS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kd(n){this.l=n.fc||null,this.j=n.ob||!1}function Tm(n,e){zt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ZS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Kd,HS),Kd.prototype.g=function(){return new Tm(this.l,this.j)},Kd.prototype.i=function(n){return function(){return n}}({}),Ht(Tm,zt);var ZS=0;function d$(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yd(n)}function Yd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=Tm.prototype).open=function(n,e){if(this.readyState!=ZS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yd(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qd(this)),this.readyState=ZS},B.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;d$(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},B.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qd(this):Yd(this),3==this.readyState&&d$(this)}},B.Za=function(n){this.g&&(this.response=this.responseText=n,Qd(this))},B.Ya=function(n){this.g&&(this.response=n,Qd(this))},B.ka=function(){this.g&&Qd(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ufe=oe.JSON.parse;function pt(n){zt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=h$,this.L=this.M=!1}Ht(pt,zt);var h$="",jfe=/^https?$/i,$fe=["POST","PUT"];function f$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,p$(n),Am(n)}function p$(n){n.F||(n.F=!0,an(n,"complete"),an(n,"error"))}function g$(n){if(n.h&&typeof bS<"u"&&(!n.C[1]||4!=_i(n)||2!=n.da()))if(n.v&&4==_i(n))$S(n.La,0,n);else if(an(n,"readystatechange"),4==_i(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(e$)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!jfe.test(i?i.toLowerCase():"")}t=r}if(t)an(n,"complete"),an(n,"success");else{n.m=6;try{var s=2<_i(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",p$(n)}}finally{Am(n)}}}function Am(n,e){if(n.g){m$(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||an(n,"ready");try{t.onreadystatechange=r}catch{}}}function m$(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(oe.clearTimeout(n.A),n.A=null)}function _i(n){return n.g?n.g.readyState:0}function _$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case h$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function y$(n){let e="";return xS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=y$(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ze(n,e,t))}function Xd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function v$(n){this.Ga=0,this.j=[],this.l=new _m,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xd("baseRetryDelayMs",5e3,n),this.hb=Xd("retryDelaySeedMs",1e4,n),this.eb=Xd("forwardChannelMaxRetries",2,n),this.xa=Xd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new o$(n&&n.concurrentRequestLimit),this.Ja=new Lfe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eT(n){if(b$(n),3==n.H){var e=n.W++,t=ts(n.I);if(Ze(t,"SID",n.K),Ze(t,"RID",e),Ze(t,"TYPE","terminate"),Zd(n,t),(e=new $d(n,n.l,e)).L=2,e.v=Dm(ts(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon)try{t=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&oe.Image&&((new Image).src=e.v,t=!0),t||(e.g=M$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hd(e)}T$(n)}function Mm(n){n.g&&(nT(n),n.g.cancel(),n.g=null)}function b$(n){Mm(n),n.u&&(oe.clearTimeout(n.u),n.u=null),Rm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&oe.clearTimeout(n.m),n.m=null)}function xm(n){if(!a$(n.i)&&!n.m){n.m=!0;var e=n.Na;Fd||Fj(),Ld||(Fd(),Ld=!0),US.add(e,n),n.C=0}}function w$(n,e){var t;t=e?e.m:n.W++;const r=ts(n.I);Ze(r,"SID",n.K),Ze(r,"RID",t),Ze(r,"AID",n.V),Zd(n,r),n.o&&n.s&&JS(r,n.o,n.s),t=new $d(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=E$(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),XS(n.i,t),KS(t,r,e)}function Zd(n,e){n.na&&xS(n.na,function(t,r){Ze(e,r,t)}),n.h&&Jj({},function(t,r){Ze(e,r,t)})}function E$(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Vfe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function C$(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Fd||Fj(),Ld||(Fd(),Ld=!0),US.add(e,n),n.A=0}}function tT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ud(yn(n.Ma,n),S$(n,n.A)),n.A++,0))}function nT(n){null!=n.B&&(oe.clearTimeout(n.B),n.B=null)}function I$(n){n.g=new $d(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ts(n.wa);Ze(e,"RID","rpc"),Ze(e,"SID",n.K),Ze(e,"AID",n.V),Ze(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ze(e,"TO",n.qa),Ze(e,"TYPE","xmlhttp"),Zd(n,e),n.o&&n.s&&JS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Dm(ts(e)),t.s=null,t.S=!0,Qj(t,n)}function Rm(n){null!=n.v&&(oe.clearTimeout(n.v),n.v=null)}function D$(n,e){var t=null;if(n.g==e){Rm(n),nT(n),n.g=null;var r=2}else{if(!YS(n.i,e))return;t=e.F,l$(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;an(r=ym(),new zj(r,t)),xm(n)}else C$(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Gfe(n,e){return!(c$(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ud(yn(n.Na,n,e),S$(n,n.C)),n.C++,0)))}(n,e)||2==r&&tT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Zo(n,5);break;case 4:Zo(n,10);break;case 3:Zo(n,6);break;default:Zo(n,2)}}function S$(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Zo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yn(n.pb,n);t||(t=new Xo("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Cm(t,"https"),Dm(t)),function Bfe(n,e){const t=new _m;if(oe.Image){const r=new Image;r.onload=dm(Sm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dm(Sm,t,r,"TestLoadImage: error",!1,e),r.onabort=dm(Sm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dm(Sm,t,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Nn(2);n.H=0,n.h&&n.h.za(e),T$(n),b$(n)}function T$(n){if(n.H=0,n.ma=[],n.h){const e=u$(n.i);(0!=e.length||0!=n.j.length)&&(Ej(n.ma,e),Ej(n.ma,n.j),n.i.i.length=0,ES(n.j),n.j.length=0),n.h.ya()}}function A$(n,e,t){var r=t instanceof Xo?ts(t):new Xo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Im(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xo(null);r&&Cm(s,r),e&&(s.g=e),i&&Im(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ze(r,t,e),Ze(r,"VER",n.ra),Zd(n,r),r}function M$(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pt(t&&n.Ha&&!n.va?new Kd({ob:!0}):n.va)).Oa(n.J),e}function x$(){}function km(){if(Wc&&!(10<=Number(ife)))throw Error("Environmental error: no available transport.")}function cr(n,e){zt.call(this),this.g=new v$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Od(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Od(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yc(this)}function R$(n){zS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function k$(){GS.call(this),this.status=1}function Yc(n){this.g=n}function qr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rT(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Le(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(B=pt.prototype).Oa=function(n){this.M=n},B.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qS.g(),this.C=function qj(n){return n.h||(n.h=n.i())}(this.u?this.u:qS),this.g.onreadystatechange=yn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void f$(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=oe.FormData&&n instanceof oe.FormData,!(0<=wj($fe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{m$(this),0<this.B&&((this.L=function Hfe(n){return Wc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.ua,this)):this.A=$S(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){f$(this,s)}},B.ua=function(){typeof bS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,an(this,"complete"),an(this,"abort"),Am(this))},B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Am(this,!0)),pt.$.N.call(this)},B.La=function(){this.s||(this.G||this.v||this.l?g$(this):this.kb())},B.kb=function(){g$(this)},B.isActive=function(){return!!this.g},B.da=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ufe(e)}},B.Ia=function(){return this.m},B.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=v$.prototype).ra=8,B.H=1,B.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new $d(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Tj(s),Mj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=E$(this,i,e),Ze(t=ts(this.I),"RID",n),Ze(t,"CVER",22),this.F&&Ze(t,"X-HTTP-Session-Id",this.F),Zd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(y$(s)))+"&"+e:this.o&&JS(t,this.o,s)),XS(this.i,i),this.bb&&Ze(t,"TYPE","init"),this.P?(Ze(t,"$req",e),Ze(t,"SID","null"),i.aa=!0,KS(i,t,null)):KS(i,t,e),this.H=2}}else 3==this.H&&(n?w$(this,n):0==this.j.length||a$(this.i)||w$(this))},B.Ma=function(){if(this.u=null,I$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ud(yn(this.jb,this),n)}},B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),Mm(this),I$(this))},B.ib=function(){null!=this.v&&(this.v=null,Mm(this),tT(this),Nn(19))},B.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))},B.isActive=function(){return!!this.h&&this.h.isActive(this)},(B=x$.prototype).Ba=function(){},B.Aa=function(){},B.za=function(){},B.ya=function(){},B.isActive=function(){return!0},B.Va=function(){},km.prototype.g=function(n,e){return new cr(n,e)},Ht(cr,zt),cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Nn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=A$(n,null,n.Y),xm(n)},cr.prototype.close=function(){eT(this.g)},cr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=BS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&xm(e)},cr.prototype.N=function(){this.g.h=null,delete this.j,eT(this.g),delete this.g,cr.$.N.call(this)},Ht(R$,zS),Ht(k$,GS),Ht(Yc,x$),Yc.prototype.Ba=function(){an(this.g,"a")},Yc.prototype.Aa=function(n){an(this.g,new R$(n))},Yc.prototype.za=function(n){an(this.g,new k$)},Yc.prototype.ya=function(){an(this.g,"b")},Ht(qr,function qfe(){this.blockSize=-1}),qr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)rT(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){rT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){rT(this,r),i=0;break}}this.h=i,this.i+=e},qr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Wfe={};function iT(n){return-128<=n&&128>n?function tfe(n,e){var t=Wfe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Le([0|e],0>e?-1:0)}):new Le([0|n],0>n?-1:0)}function yi(n){if(isNaN(n)||!isFinite(n))return Xc;if(0>n)return cn(yi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=sT;return new Le(e,0)}var sT=4294967296,Xc=iT(0),oT=iT(1),P$=iT(16777216);function ns(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xr(n){return-1==n.h}function cn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Le(t,~n.h).add(oT)}function Om(n,e){return n.add(cn(e))}function Pm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Jd(n,e){this.g=n,this.h=e}function Nm(n,e){if(ns(e))throw Error("division by zero");if(ns(n))return new Jd(Xc,Xc);if(xr(n))return e=Nm(cn(n),e),new Jd(cn(e.g),cn(e.h));if(xr(e))return e=Nm(n,cn(e)),new Jd(cn(e.g),e.h);if(30<n.g.length){if(xr(n)||xr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=oT,r=e;0>=r.X(n);)t=N$(t),r=N$(r);var i=Zc(t,1),s=Zc(r,1);for(r=Zc(r,2),t=Zc(t,2);!ns(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Zc(r,1),t=Zc(t,1)}return e=Om(n,i.R(e)),new Jd(i,e)}for(i=Xc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yi(t)).R(e);xr(o)||0<o.X(n);)o=(s=yi(t-=r)).R(e);ns(s)&&(s=oT),i=i.add(s),n=Om(n,o)}return new Jd(i,n)}function N$(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Le(t,n.h)}function Zc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Le(i,n.h)}(B=Le.prototype).ea=function(){if(xr(this))return-cn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:sT+r)*e,e*=sT}return n},B.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ns(this))return"0";if(xr(this))return"-"+cn(this).toString(n);for(var e=yi(Math.pow(n,6)),t=this,r="";;){var i=Nm(t,e).g,s=((0<(t=Om(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ns(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},B.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},B.X=function(n){return xr(n=Om(this,n))?-1:ns(n)?0:1},B.abs=function(){return xr(this)?cn(this):this},B.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Le(t,-2147483648&t[t.length-1]?-1:0)},B.R=function(n){if(ns(this)||ns(n))return Xc;if(xr(this))return xr(n)?cn(this).R(cn(n)):cn(cn(this).R(n));if(xr(n))return cn(this.R(cn(n)));if(0>this.X(P$)&&0>n.X(P$))return yi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,Pm(t,2*r+2*i),t[2*r+2*i+1]+=s*c,Pm(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Pm(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Pm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Le(t,0)},B.gb=function(n){return Nm(this,n).h},B.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Le(t,this.h&n.h)},B.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Le(t,this.h|n.h)},B.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Le(t,this.h^n.h)},km.prototype.createWebChannel=km.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,vm.NO_ERROR=0,vm.TIMEOUT=8,vm.HTTP_ERROR=6,Gj.COMPLETE="complete",Wj.EventType=jd,jd.OPEN="a",jd.CLOSE="b",jd.ERROR="c",jd.MESSAGE="d",zt.prototype.listen=zt.prototype.O,pt.prototype.listenOnce=pt.prototype.P,pt.prototype.getLastError=pt.prototype.Sa,pt.prototype.getLastErrorCode=pt.prototype.Ia,pt.prototype.getStatus=pt.prototype.da,pt.prototype.getResponseJson=pt.prototype.Wa,pt.prototype.getResponseText=pt.prototype.ja,pt.prototype.send=pt.prototype.ha,pt.prototype.setWithCredentials=pt.prototype.Oa,qr.prototype.digest=qr.prototype.l,qr.prototype.reset=qr.prototype.reset,qr.prototype.update=qr.prototype.j,Le.prototype.add=Le.prototype.add,Le.prototype.multiply=Le.prototype.R,Le.prototype.modulo=Le.prototype.gb,Le.prototype.compare=Le.prototype.X,Le.prototype.toNumber=Le.prototype.ea,Le.prototype.toString=Le.prototype.toString,Le.prototype.getBits=Le.prototype.D,Le.fromNumber=yi,Le.fromString=function O$(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return cn(O$(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yi(Math.pow(e,8)),r=Xc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=yi(Math.pow(e,s)),r=r.R(s).add(yi(o))):r=(r=r.R(t)).add(yi(o))}return r};var Kfe=Gr.createWebChannelTransport=function(){return new km},Qfe=Gr.getStatEventTarget=function(){return ym()},aT=Gr.ErrorCode=vm,Yfe=Gr.EventType=Gj,Xfe=Gr.Event=Qo,F$=Gr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zfe=Gr.FetchXmlHttpFactory=Kd,Fm=Gr.WebChannel=Wj,Jfe=Gr.XhrIo=pt,epe=Gr.Md5=qr,Jc=Gr.Integer=Le;const L$="@firebase/firestore";class Gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let el="9.23.0";const Us=new Fo("@firebase/firestore");function cT(){return Us.logLevel}function x(n,...e){if(Us.logLevel<=Ee.DEBUG){const t=e.map(lT);Us.debug(`Firestore (${el}): ${n}`,...t)}}function bt(n,...e){if(Us.logLevel<=Ee.ERROR){const t=e.map(lT);Us.error(`Firestore (${el}): ${n}`,...t)}}function Wr(n,...e){if(Us.logLevel<=Ee.WARN){const t=e.map(lT);Us.warn(`Firestore (${el}): ${n}`,...t)}}function lT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+n;throw bt(e),new Error(e)}function G(n,e){n||$()}function L(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class npe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rpe{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new V$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Gt(e)}}class ipe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class spe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ipe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ope{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.T=t.token,new B$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ape(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class U${static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=ape(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function tl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ct(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new ct(0,0))}static max(){return new q(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eh{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends eh{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const cpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends eh{construct(e,t,r){return new wt(e,t,r)}static isValidIdentifier(e){return cpe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(t)}static emptyPath(){return new wt([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(Ce.fromString(e))}static fromName(e){return new F(Ce.fromString(e).popFirst(5))}static empty(){return new F(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Ce(e.slice()))}}function H$(n){return new lr(n.readTime,n.key,-1)}class lr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new lr(q.min(),F.empty(),-1)}static max(){return new lr(q.max(),F.empty(),-1)}}function dT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(n){return hT.apply(this,arguments)}function hT(){return hT=m(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==z$)throw n;x("LocalStore","Unexpectedly lost primary lease")}),hT.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new b((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function $s(n){return"IndexedDbTransactionError"===n.name}let ur=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function rh(n){return null==n}function ih(n){return 0===n&&1/n==-1/0}function J$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ke{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new Ke(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jm(this.root,e,this.comparator,!0)}}class jm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ln.RED,this.left=i??ln.EMPTY,this.right=s??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ln(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1,ln.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ln(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Je{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tH(this.data.getIterator())}getIteratorFrom(e){return new tH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Je(this.comparator);return t.data=e,t}}class tH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Je(wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nH("Invalid base64 string: "+i):i}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Ppe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(G(!!n),"string"==typeof n){let e=0;const t=Ppe.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rs(n){return"string"==typeof n?Vt.fromBase64String(n):Vt.fromUint8Array(n)}function $m(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hm(n){const e=n.mapValue.fields.__previous_value__;return $m(e)?Hm(e):e}function sh(n){const e=zs(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}class Npe{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}const Gs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$m(n)?4:oH(n)?9007199254740991:10:$()}function bi(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sh(n).isEqual(sh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zs(r.timestampValue),o=zs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,rs(n.bytesValue).isEqual(rs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gt(r.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gt(r.integerValue)===gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=gt(r.doubleValue),o=gt(i.doubleValue);return s===o?ih(s)===ih(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(J$(s)!==J$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!bi(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function oh(n,e){return void 0!==(n.values||[]).find(t=>bi(t,e))}function Ws(n,e){if(n===e)return 0;const t=qs(n),r=qs(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=gt(i.integerValue||i.doubleValue),a=gt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return rH(n.timestampValue,e.timestampValue);case 4:return rH(sh(n),sh(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(i,s){const o=rs(i),a=rs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=re(o[c],a[c]);if(0!==l)return l}return re(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(gt(i.latitude),gt(s.latitude));return 0!==o?o:re(gt(i.longitude),gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Ws(o[c],a[c]);if(l)return l}return re(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Gs.mapValue&&s===Gs.mapValue)return 0;if(i===Gs.mapValue)return 1;if(s===Gs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=re(a[u],l[u]);if(0!==d)return d;const h=Ws(o[a[u]],c[l[u]]);if(0!==h)return h}return re(a.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function rH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=zs(n),r=zs(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function rl(n){return gT(n)}function gT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=zs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rs(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gT(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function na(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mT(n){return!!n&&"integerValue"in n}function ah(n){return!!n&&"arrayValue"in n}function iH(n){return!!n&&"nullValue"in n}function sH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qm(n){return!!n&&"mapValue"in n}function ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ch(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ch(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(ch(this.value))}}function lH(n){const e=[];return Hs(n.fields,(t,r)=>{const i=new wt([t]);if(qm(r)){const s=lH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}class et{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new et(e,0,q.min(),q.min(),q.min(),un.empty(),0)}static newFoundDocument(e,t,r,i){return new et(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new et(e,2,t,q.min(),q.min(),un.empty(),0)}static newUnknownDocument(e,t){return new et(e,3,t,q.min(),q.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ks{constructor(e,t){this.position=e,this.inclusive=t}}function uH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),t.key):Ws(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function dH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bi(n.position[t],e.position[t]))return!1;return!0}class il{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vpe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hH{}class me extends hH{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Bpe(e,t,r):"array-contains"===t?new $pe(e,r):"in"===t?new yH(e,r):"not-in"===t?new Hpe(e,r):"array-contains-any"===t?new zpe(e,r):new me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Upe(e,r):new jpe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ws(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.matchesComparison(Ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends hH{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ve(e,t)}matches(e){return sl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sl(n){return"and"===n.op}function yT(n){return function fH(n){for(const e of n.filters)if(e instanceof Ve)return!1;return!0}(n)&&sl(n)}function vT(n){if(n instanceof me)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(yT(n))return n.filters.map(e=>vT(e)).join(",");{const e=n.filters.map(t=>vT(t)).join(",");return`${n.op}(${e})`}}function pH(n,e){return n instanceof me?(t=n,(r=e)instanceof me&&t.op===r.op&&t.field.isEqual(r.field)&&bi(t.value,r.value)):n instanceof Ve?function(t,r){return r instanceof Ve&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&pH(s,r.filters[o]),!0)}(n,e):void $();var t,r}function mH(n){return n instanceof me?`${(e=n).field.canonicalString()} ${e.op} ${rl(e.value)}`:n instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(mH).join(" ,")+"}"}(n):"Filter";var e}class Bpe extends me{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Upe extends me{constructor(e,t){super(e,"in",t),this.keys=_H(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jpe extends me{constructor(e,t){super(e,"not-in",t),this.keys=_H(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _H(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class $pe extends me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ah(t)&&oh(t.arrayValue,this.value)}}class yH extends me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oh(this.value.arrayValue,t)}}class Hpe extends me{constructor(e,t){super(e,"not-in",t)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oh(this.value.arrayValue,t)}}class zpe extends me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>oh(this.value.arrayValue,r))}}class Gpe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function bT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Gpe(n,e,t,r,i,s,o)}function ra(n){const e=L(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rl(r)).join(",")),e.dt=t}return e.dt}function lh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vpe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dH(n.startAt,e.startAt)&&dH(n.endAt,e.endAt)}function Wm(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class is{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ol(n){return new is(n)}function EH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ET(n){return null!==n.collectionGroup}function ia(n){const e=L(n);if(null===e.wt){e.wt=[];const t=Qm(e),r=wT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new il(t)),e.wt.push(new il(wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new il(wt.keyField(),s))}}}return e.wt}function Fn(n){const e=L(n);if(!e._t)if("F"===e.limitType)e._t=bT(e.path,e.collectionGroup,ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ia(e))t.push(new il(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;e._t=bT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function CT(n,e){e.getFirstInequalityField(),Qm(n);const t=n.filters.concat([e]);return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ym(n,e,t){return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return lh(Fn(n),Fn(e))&&n.limitType===e.limitType}function CH(n){return`${ra(Fn(n))}|lt:${n.limitType}`}function IT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>mH(r)).join(", ")}]`),rh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rl(r)).join(",")),`Target(${t})`}(Fn(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):F.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ia(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=uH(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ia(t),r)||t.endAt&&!function(i,s,o){const a=uH(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ia(t),r)));var t,r}function DH(n){return(e,t)=>{let r=!1;for(const i of ia(n)){const s=qpe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function qpe(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Ws(a,c):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eH(this.inner)}size(){return this.innerSize}}const Wpe=new Ke(F.comparator);function Jn(){return Wpe}const SH=new Ke(F.comparator);function hh(...n){let e=SH;for(const t of n)e=e.insert(t.key,t);return e}function TH(n){let e=SH;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wi(){return fh()}function AH(){return fh()}function fh(){return new ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const Kpe=new Ke(F.comparator),Qpe=new Je(F.comparator);function de(...n){let e=Qpe;for(const t of n)e=e.add(t);return e}const Ype=new Je(re);function MH(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function xH(n){return{integerValue:""+n}}function RH(n,e){return function q$(n){return"number"==typeof n&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?xH(e):MH(n,e)}class Xm{constructor(){this._=void 0}}function Xpe(n,e,t){return n instanceof al?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&$m(i)&&(i=Hm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof sa?OH(n,e):n instanceof oa?PH(n,e):function(r,i){const s=kH(r,i),o=NH(s)+NH(r.gt);return mT(s)&&mT(r.gt)?xH(o):MH(r.serializer,o)}(n,e)}function Zpe(n,e,t){return n instanceof sa?OH(n,e):n instanceof oa?PH(n,e):t}function kH(n,e){return n instanceof cl?mT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class al extends Xm{}class sa extends Xm{constructor(e){super(),this.elements=e}}function OH(n,e){const t=FH(e);for(const r of n.elements)t.some(i=>bi(i,r))||t.push(r);return{arrayValue:{values:t}}}class oa extends Xm{constructor(e){super(),this.elements=e}}function PH(n,e){let t=FH(e);for(const r of n.elements)t=t.filter(i=>!bi(i,r));return{arrayValue:{values:t}}}class cl extends Xm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function NH(n){return gt(n.integerValue||n.doubleValue)}function FH(n){return ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ege{constructor(e,t){this.version=e,this.transformResults=t}}class it{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new it}static exists(e){return new it(void 0,e)}static updateTime(e){return new it(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jm{}function LH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ul(n.key,it.none()):new ll(n.key,n.data,it.none());{const t=n.data,r=un.empty();let i=new Je(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new os(n.key,r,new Zn(i.toArray()),it.none())}}function tge(n,e,t){n instanceof ll?function(r,i,s){const o=r.value.clone(),a=UH(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof os?function(r,i,s){if(!Zm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=UH(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(BH(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gh(n,e,t,r){return n instanceof ll?function(i,s,o,a){if(!Zm(i.precondition,s))return o;const c=i.value.clone(),l=jH(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof os?function(i,s,o,a){if(!Zm(i.precondition,s))return o;const c=jH(i.fieldTransforms,a,s),l=s.data;return l.setAll(BH(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Zm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function nge(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kH(r.transform,i||null);null!=s&&(null===t&&(t=un.empty()),t.set(r.field,s))}return t||null}function VH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tl(t,r,(i,s)=>function Jpe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sa&&r instanceof sa||t instanceof oa&&r instanceof oa?tl(t.elements,r.elements,bi):t instanceof cl&&r instanceof cl?bi(t.gt,r.gt):t instanceof al&&r instanceof al);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ll extends Jm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends Jm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UH(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zpe(o,a,t[i]))}return r}function jH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Xpe(s,o,e))}return r}class ul extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ST extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tge(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=LH(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,r)=>VH(t,r))&&tl(this.baseMutations,e.baseMutations,(t,r)=>VH(t,r))}}class AT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=Kpe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new AT(e,t,r,i)}}class MT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ige{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mt,Ie;function HH(n){if(void 0===n)return bt("GRPC error has no .code"),w.UNKNOWN;switch(n){case Mt.OK:return w.OK;case Mt.CANCELLED:return w.CANCELLED;case Mt.UNKNOWN:return w.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return w.INTERNAL;case Mt.UNAVAILABLE:return w.UNAVAILABLE;case Mt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Mt.NOT_FOUND:return w.NOT_FOUND;case Mt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Mt.ABORTED:return w.ABORTED;case Mt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Mt.DATA_LOSS:return w.DATA_LOSS;default:return $()}}(Ie=Mt||(Mt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class xT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return e_}static getOrCreateInstance(){return null===e_&&(e_=new xT),e_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let e_=null;const sge=new Jc([4294967295,4294967295],0);function GH(n){const e=function zH(){return new TextEncoder}().encode(n),t=new epe;return t.update(e),new Uint8Array(t.digest())}function qH(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jc([t,r],0),new Jc([i,s],0)]}class RT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mh(`Invalid padding: ${t}`);if(r<0)throw new mh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new mh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new mh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Jc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Jc.fromNumber(r)));return 1===i.compare(sge)&&(i=new Jc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=GH(e),[r,i]=qH(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new RT(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=GH(e),[r,i]=qH(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _h(q.min(),i,new Ke(re),Jn(),de())}}class yh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yh(r,t,de(),de(),de())}}class t_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class WH{constructor(e,t){this.targetId=e,this.Vt=t}}class KH{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QH{constructor(){this.St=0,this.Dt=XH(),this.Ct=Vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=de(),t=de(),r=de();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new yh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=XH()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oge{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Jn(),this.zt=YH(),this.Wt=new Ke(re)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Wm(o))if(0===i){const a=new F(o.path);this.Yt(r,a,et.newNoDocument(a,q.min()))}else G(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=xT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,p,g,_,v;const y={localCacheCount:u,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(y.bloomFilter={applied:0===l,hashCount:null!==(h=I?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=I?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(_=I?.bits)||void 0===_?void 0:_.padding)&&void 0!==v?v:0}),y}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=rs(s).toUint8Array()}catch(u){if(u instanceof nH)return Wr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new RT(c,o,a)}catch(u){return Wr(u instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Wm(a.target)){const c=new F(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,et.newNoDocument(c,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=de();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new _h(e,t,this.Wt,this.jt,r);return this.jt=Jn(),this.zt=YH(),this.Wt=new Ke(re),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new QH,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Je(re),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||x("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new QH),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function YH(){return new Ke(F.comparator)}function XH(){return new Ke(F.comparator)}const age={asc:"ASCENDING",desc:"DESCENDING"},cge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lge={and:"AND",or:"OR"};class uge{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kT(n,e){return n.useProto3Json||rh(e)?e:{value:e}}function dl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZH(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dge(n,e){return dl(n,e.toTimestamp())}function Et(n){return G(!!n),q.fromTimestamp(function(e){const t=zs(e);return new ct(t.seconds,t.nanos)}(n))}function OT(n,e){return(t=n,new Ce(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JH(n){const e=Ce.fromString(n);return G(cz(e)),e}function vh(n,e){return OT(n.databaseId,e.path)}function Ei(n,e){const t=JH(e);if(t.get(1)!==n.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(tz(t))}function PT(n,e){return OT(n.databaseId,e)}function bh(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tz(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nz(n,e,t){return{name:vh(n,e),fields:t.value.mapValue.fields}}function iz(n,e){return{documents:[PT(n,e.path)]}}function FT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return az(Ve.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Qs((u=l).field),direction:mge(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=kT(n,e.limit);var a,c;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function sz(n){let e=function ez(n){const e=JH(n);return 4===e.length?Ce.emptyPath():tz(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=oz(u);return d instanceof Ve&&yT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new il(hl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,rh(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new Ks((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new Ks(u.values||[],!u.before)}(t.endAt)),function wH(n,e,t,r,i,s,o,a){return new is(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function oz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hl(e.unaryFilter.field);return me.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=hl(e.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hl(e.unaryFilter.field);return me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hl(e.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?me.create(hl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(t=>oz(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function mge(n){return age[n]}function _ge(n){return cge[n]}function yge(n){return lge[n]}function Qs(n){return{fieldPath:n.canonicalString()}}function hl(n){return wt.fromServerFormat(n.fieldPath)}function az(n){return n instanceof me?function(e){if("=="===e.op){if(sH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(iH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(iH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:_ge(e.op),value:e.value}}}(n):n instanceof Ve?function(e){const t=e.getFilters().map(r=>az(r));return 1===t.length?t[0]:{compositeFilter:{op:yge(e.op),filters:t}}}(n):$()}function vge(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class as{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lz{constructor(e){this.fe=e}}function LT(n){const e=sz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ym(e,e.limit,"L"):e}class ua{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gt(e.integerValue));else if("doubleValue"in e){const r=gt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ih(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(rs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?oH(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):$()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),F.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ua.Ve=new ua;class Age{constructor(){this.rn=new HT}addToCollectionParentIndex(e,t){return this.rn.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(lr.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class HT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Je(Ce.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ce.comparator)).toArray()}}new Uint8Array(0);class wn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class ha{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ha(0)}static Mn(){return new ha(-1)}}class Pge{constructor(){this.changes=new ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lge{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nz{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&gh(r.mutation,i,Zn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=wi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=hh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=wi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Jn();const o=fh(),a=fh();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof os)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),gh(u.mutation,l,u.mutation.getFieldMask(),ct.now())):o.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new Lge(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=fh();let i=new Ke((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Zn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||de()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=AH();u.forEach(h=>{if(!s.has(h)){const f=LH(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return F.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ET(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):b.resolve(wi());let a=-1,c=s;return o.next(l=>b.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,de())).next(u=>({batchId:a,changes:TH(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=hh();return this.indexManager.getCollectionParents(e,i).next(o=>b.forEach(o,a=>{const c=(l=t,u=a.child(i),new is(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,et.newInvalidDocument(l)))});let o=hh();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&gh(l.mutation,c,Zn.empty(),ct.now()),dh(t,c)&&(o=o.insert(a,c))}),o})}}class Vge{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Et(r.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:LT(r.bundledQuery),readTime:Et(r.readTime)}),b.resolve();var r}}class Bge{constructor(){this.overlays=new Ke(F.comparator),this.ls=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wi();return b.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=wi(),s=t.length+1,o=new F(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ke((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=wi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return b.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MT(t,r));let s=this.ls.get(t);void 0===s&&(s=de(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class zT{constructor(){this.fs=new Je(Wt.ds),this.ws=new Je(Wt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Wt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new F(new Ce([])),r=new Wt(t,e),i=new Wt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new F(new Ce([])),r=new Wt(t,e),i=new Wt(t,e+1);let s=de();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Wt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return F.comparator(e.key,t.key)||re(e.As,t.As)}static _s(e,t){return re(e.As,t.As)||F.comparator(e.key,t.key)}}class Uge{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Je(Wt.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new TT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,t){return b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),i=new Wt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Je(re);return t.forEach(i=>{const s=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),b.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Wt(new F(s),0);let a=new Je(re);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),b.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return b.forEach(t.mutations,i=>{const s=new Wt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Wt(t,0),i=this.Rs.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jge{constructor(e){this.Ds=e,this.docs=new Ke(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():et.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():et.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Jn();const o=t.path,a=new F(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dT(H$(u),r)<=0||(i.has(u.key)||dh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$()}Cs(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $ge(this)}getSize(e){return b.resolve(this.size)}}class $ge extends Pge{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Hge{constructor(e){this.persistence=e,this.xs=new ss(t=>ra(t),lh),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zT,this.targetCount=0,this.Ms=ha.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Fn(t),b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.ks.containsKey(t))}}class GT{constructor(e,t){this.$s={},this.overlays={},this.Os=new ur(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Hge(this),this.indexManager=new Age,this.remoteDocumentCache=new jge(r=>this.referenceDelegate.Ls(r)),this.serializer=new lz(t),this.qs=new Vge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bge,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Uge(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){x("MemoryPersistence","Starting transaction:",e);const i=new zge(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return b.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class zge extends dpe{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Qs=new zT,this.js=null}static zs(e){return new u_(e)}get Ws(){if(this.js)return this.js;throw $()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,r=>{const i=F.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return b.or([()=>b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class QT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QT(e,t.fromCache,r,i)}}class Lz{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(EH(t))return b.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Ym(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(t,a);return this.zi(t,l,o,c.readTime)?this.Ki(e,Ym(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,r,i){return EH(t)||i.isEqual(q.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(cT()<=Ee.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IT(t)),this.Wi(e,o,t,function $$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new ct(t+1,0):new ct(t,r));return new lr(i,F.empty(),e)}(i,-1)))})}ji(e,t){let r=new Je(DH(e));return t.forEach((i,s)=>{dh(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return cT()<=Ee.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",IT(t)),this.Ui.getDocumentsMatchingQuery(e,t,lr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class qge{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ke(re),this.Yi=new ss(s=>ra(s),lh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Bz(n,e){return YT.apply(this,arguments)}function YT(){return YT=m(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=de();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),YT.apply(this,arguments)}function Uz(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Qge(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ml(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=m(function*(n,e,t){const r=L(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!$s(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),XT.apply(this,arguments)}function f_(n,e,t){const r=L(n);let i=q.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=L(a),d=u.Yi.get(l);return void 0!==d?b.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,o,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:de())).next(a=>(function zz(n,e,t){let r=n.Xi.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function IH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class nA{constructor(){this.activeTargetIds=function DT(){return Ype}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wz{constructor(){this.Hr=new nA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zge{Yr(e){}shutdown(){}}class Kz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let m_=null;function iA(){return null===m_?m_=268435456+Math.round(2147483648*Math.random()):m_++,"0x"+m_.toString(16)}const Jge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eme{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const En="WebChannelConnection";class tme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=iA(),a=this.To(e,t);x("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(x("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Wr("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+el,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Jge[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=iA();return new Promise((o,a)=>{const c=new Jfe;c.setWithCredentials(!0),c.listenOnce(Yfe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case aT.NO_ERROR:const u=c.getResponseJson();x(En,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case aT.TIMEOUT:x(En,`RPC '${e}' ${s} timed out`),a(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case aT.HTTP_ERROR:const d=c.getStatus();if(x(En,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(_)>=0?_:w.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(w.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{x(En,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);x(En,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=iA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kfe(),a=Qfe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Zfe({})),this.Eo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=s.join("");x(En,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let h=!1,f=!1;const p=new eme({ro:_=>{f?x(En,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(x(En,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(En,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),g=(_,v,y)=>{_.listen(v,I=>{try{y(I)}catch(k){setTimeout(()=>{throw k},0)}})};return g(d,Fm.EventType.OPEN,()=>{f||x(En,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Fm.EventType.CLOSE,()=>{f||(f=!0,x(En,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Fm.EventType.ERROR,_=>{f||(f=!0,Wr(En,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,Fm.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];G(!!y);const k=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(k){x(En,`RPC '${e}' stream ${i} received error:`,k);const H=k.status;let W=function(Qe){const Rt=Mt[Qe];if(void 0!==Rt)return HH(Rt)}(H),le=k.message;void 0===W&&(W=w.INTERNAL,le="Unknown error status: "+H+" with message "+k.message),f=!0,p.wo(new T(W,le)),d.close()}else x(En,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,Xfe.STAT_EVENT,_=>{_.stat===F$.PROXY?x(En,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===F$.NOPROXY&&x(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function __(){return typeof document<"u"?document:null}function xh(n){return new uge(n,!0)}class sA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Yz{constructor(e,t,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(bt(t.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nme extends Yz{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fge(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(G(void 0===l||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?w.UNKNOWN:HH(c.code);return new T(l,c.message||"")}(o);t=new KH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ei(n,r.document.name),s=Et(r.document.updateTime),o=r.document.createTime?Et(r.document.createTime):q.min(),a=new un({mapValue:{fields:r.document.fields}}),c=et.newFoundDocument(i,s,o,a);t=new t_(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ei(n,r.document),s=r.readTime?Et(r.readTime):q.min(),o=et.newNoDocument(i,s);t=new t_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ei(n,r.document);t=new t_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new ige(i,s);t=new WH(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Et(s.readTime):q.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=bh(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Wm(a)?{documents:iz(i,a)}:{query:FT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZH(i,s.resumeToken);const c=kT(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(q.min())>0){o.readTime=dl(i,s.snapshotVersion.toTimestamp());const c=kT(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function gge(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=bh(this.serializer),t.removeTarget=e,this.Wo(t)}}class rme extends Yz{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function pge(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(r,i){let s=Et(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=Et(i)),new ege(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.cu(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function wh(n,e){let t;if(e instanceof ll)t={update:nz(n,e.key,e.value)};else if(e instanceof ul)t={delete:vh(n,e.key)};else if(e instanceof os)t={update:nz(n,e.key,e.data),updateMask:vge(e.fieldMask)};else{if(!(e instanceof ST))return $();t={verify:vh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof al)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof oa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dge(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.serializer,r))};this.Wo(t)}}class ime extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ome{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bt(t),this.mu=!1):x("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ame{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;Js(o)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=L(l);u.vu.add(4),yield _l(u),u.bu.set("Unknown"),u.vu.delete(4),yield Rh(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new ome(r,i)}}function Rh(n){return aA.apply(this,arguments)}function aA(){return aA=m(function*(n){if(Js(n))for(const e of n.Ru)yield e(!0)}),aA.apply(this,arguments)}function _l(n){return cA.apply(this,arguments)}function cA(){return cA=m(function*(n){for(const e of n.Ru)yield e(!1)}),cA.apply(this,arguments)}function y_(n,e){const t=L(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),dA(t)?uA(t):vl(t).Ko()&&lA(t,e))}function kh(n,e){const t=L(n),r=vl(t);t.Au.delete(e),r.Ko()&&Xz(t,e),0===t.Au.size&&(r.Ko()?r.jo():Js(t)&&t.bu.set("Unknown"))}function lA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(n).su(e)}function Xz(n,e){n.Vu.qt(e),vl(n).iu(e)}function uA(n){n.Vu=new oge({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.bu.gu()}function dA(n){return Js(n)&&!vl(n).Uo()&&n.Au.size>0}function Js(n){return 0===L(n).vu.size}function Zz(n){n.Vu=void 0}function cme(n){return hA.apply(this,arguments)}function hA(){return hA=m(function*(n){n.Au.forEach((e,t)=>{lA(n,e)})}),hA.apply(this,arguments)}function lme(n,e){return fA.apply(this,arguments)}function fA(){return fA=m(function*(n,e){Zz(n),dA(n)?(n.bu.Iu(e),uA(n)):n.bu.set("Unknown")}),fA.apply(this,arguments)}function ume(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof KH&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield v_(n,r)}else if(e instanceof t_?n.Vu.Ht(e):e instanceof WH?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(q.min()))try{const r=yield Uz(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),Xz(i,a);const u=new as(l.target,a,c,l.sequenceNumber);lA(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield v_(n,r)}var r}),pA.apply(this,arguments)}function v_(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=m(function*(n,e,t){if(!$s(e))throw e;n.vu.add(1),yield _l(n),n.bu.set("Offline"),t||(t=()=>Uz(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){x("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Rh(n)}))}),gA.apply(this,arguments)}function Jz(n,e){return e().catch(t=>v_(n,t,e))}function yl(n){return mA.apply(this,arguments)}function mA(){return mA=m(function*(n){const e=L(n),t=eo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dme(e);)try{const i=yield Qge(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,hme(e,i)}catch(i){yield v_(e,i)}e4(e)&&t4(e)}),mA.apply(this,arguments)}function dme(n){return Js(n)&&n.Eu.length<10}function hme(n,e){n.Eu.push(e);const t=eo(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function e4(n){return Js(n)&&!eo(n).Uo()&&n.Eu.length>0}function t4(n){eo(n).start()}function fme(n){return _A.apply(this,arguments)}function _A(){return _A=m(function*(n){eo(n).hu()}),_A.apply(this,arguments)}function pme(n){return yA.apply(this,arguments)}function yA(){return yA=m(function*(n){const e=eo(n);for(const t of n.Eu)e.uu(t.mutations)}),yA.apply(this,arguments)}function gme(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=m(function*(n,e,t){const r=n.Eu.shift(),i=AT.from(r,e,t);yield Jz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yl(n)}),vA.apply(this,arguments)}function mme(n,e){return bA.apply(this,arguments)}function bA(){return bA=m(function*(n,e){var t;e&&eo(n).ou&&(yield(t=m(function*(r,i){if(function $H(n){switch(n){default:return $();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();eo(r).Qo(),yield Jz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield yl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),e4(n)&&t4(n)}),bA.apply(this,arguments)}function n4(n,e){return wA.apply(this,arguments)}function wA(){return wA=m(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=Js(t);t.vu.add(3),yield _l(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Rh(t)}),wA.apply(this,arguments)}function CA(){return CA=m(function*(n,e){const t=L(n);e?(t.vu.delete(2),yield Rh(t)):e||(t.vu.add(2),yield _l(t),t.bu.set("Unknown"))}),CA.apply(this,arguments)}function vl(n){return n.Su||(n.Su=function(e,t,r){const i=L(e);return i.fu(),new nme(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:cme.bind(null,n),ao:lme.bind(null,n),nu:ume.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),dA(n)?uA(n):n.bu.set("Unknown")):(yield n.Su.stop(),Zz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function eo(n){return n.Du||(n.Du=function(e,t,r){const i=L(e);return i.fu(),new rme(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:fme.bind(null,n),ao:mme.bind(null,n),au:pme.bind(null,n),cu:gme.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield yl(n)):(yield n.Du.stop(),n.Eu.length>0&&(x("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class IA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new IA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(n,e){if(bt("AsyncQueue",`${e}: ${n}`),$s(n))return new T(w.UNAVAILABLE,`${e}: ${n}`);throw n}class wl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=hh(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class r4{constructor(){this.Cu=new Ke(F.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):$():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class El{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new El(e,t,wl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _me{constructor(){this.Nu=void 0,this.listeners=[]}}class yme{constructor(){this.queries=new ss(e=>CH(e),uh),this.onlineState="Unknown",this.ku=new Set}}function SA(){return SA=m(function*(n,e){const t=L(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new _me),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=bl(o,`Initialization of query '${IT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&MA(t)}),SA.apply(this,arguments)}function AA(){return AA=m(function*(n,e){const t=L(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),AA.apply(this,arguments)}function vme(n,e){const t=L(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&MA(t)}function bme(n,e,t){const r=L(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function MA(n){n.ku.forEach(e=>{e.next()})}class xA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class o4{constructor(e){this.key=e}}class a4{constructor(e){this.key=e}}class c4{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=de(),this.mutatedKeys=de(),this.tc=DH(e),this.ec=new wl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new r4,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=dh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new El(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new r4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=de(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new a4(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new o4(r))}),t}hc(e){this.Yu=e.ir,this.Zu=de();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return El.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cme{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ime{constructor(e){this.key=e,this.fc=!1}}class Dme{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ss(a=>CH(a),uh),this._c=new Map,this.mc=new Set,this.gc=new Ke(F.comparator),this.yc=new Map,this.Ic=new zT,this.Tc={},this.Ec=new Map,this.Ac=ha.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Sme(n,e){return RA.apply(this,arguments)}function RA(){return RA=m(function*(n,e){const t=function eM(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=l4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mme.bind(null,e),e.dc.nu=vme.bind(null,e.eventManager),e.dc.Pc=bme.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function gl(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Fn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function kA(n,e,t,r,i){return OA.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&y_(t.remoteStore,o)}return i}),RA.apply(this,arguments)}function OA(){return OA=m(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=m(function*(g,_,v,y){let I=_.view.sc(v);I.zi&&(I=yield f_(g.localStore,_.query,!1).then(({documents:W})=>_.view.sc(W,I)));const k=y&&y.targetChanges.get(_.targetId),H=_.view.applyChanges(I,g.isPrimaryClient,k);return HA(g,_.targetId,H.cc),H.snapshot}),function(g,_,v,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield f_(n.localStore,e,!0),o=new c4(e,s.ir),a=o.sc(s.documents),c=yh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);HA(n,t,l.cc);const u=new Cme(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),OA.apply(this,arguments)}function Tme(n,e){return PA.apply(this,arguments)}function PA(){return PA=m(function*(n,e){const t=L(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!uh(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ml(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kh(t.remoteStore,r.targetId),Cl(t,r.targetId)}).catch(js))):(Cl(t,r.targetId),yield ml(t.localStore,r.targetId,!0))}),PA.apply(this,arguments)}function NA(){return NA=m(function*(n,e,t){const r=function tM(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rme.bind(null,e),e}(n);try{const i=yield function(s,o){const a=L(s),c=ct.now(),l=o.reduce((h,f)=>h.add(f.key),de());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Jn(),p=de();return a.Zi.getEntries(h,l).next(g=>{f=g,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const v of o){const y=nge(v,u.get(v.key).overlayedDocument);null!=y&&_.push(new os(v.key,y,lH(y.value.mapValue),it.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:TH(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Ke(re)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,t),yield cs(r,i.changes),yield yl(r.remoteStore)}catch(i){const s=bl(i,"Failed to persist write");t.reject(s)}}),NA.apply(this,arguments)}function l4(n,e){return FA.apply(this,arguments)}function FA(){return FA=m(function*(n,e){const t=L(n);try{const r=yield function Kge(n,e){const t=L(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let c=Jn(),l=de();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function jz(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Jn();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(q.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?G(o.fc):i.removedDocuments.size>0&&(G(o.fc),o.fc=!1))}),yield cs(t,r,e)}catch(r){yield js(r)}}),FA.apply(this,arguments)}function u4(n,e,t){const r=L(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(o)&&(c=!0)}),c&&MA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mme(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=m(function*(n,e,t){const r=L(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ke(F.comparator);o=o.insert(s,et.newNoDocument(s,q.min()));const a=de().add(s),c=new _h(q.min(),new Map,new Ke(re),o,a);yield l4(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),zA(r)}else yield ml(r.localStore,e,!1).then(()=>Cl(r,e,t)).catch(js)}),LA.apply(this,arguments)}function xme(n,e){return VA.apply(this,arguments)}function VA(){return VA=m(function*(n,e){const t=L(n),r=e.batch.batchId;try{const i=yield function Wge(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,d=u.keys();let h=b.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);G(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=de();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);$A(t,r,null),jA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cs(t,i)}catch(i){yield js(i)}}),VA.apply(this,arguments)}function Rme(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=m(function*(n,e,t){const r=L(n);try{const i=yield function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(G(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);$A(r,e,t),jA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cs(r,i)}catch(i){yield js(i)}}),BA.apply(this,arguments)}function jA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function $A(n,e,t){const r=L(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||d4(n,r)})}function d4(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(kh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),zA(n))}function HA(n,e,t){for(const r of t)r instanceof o4?(n.Ic.addReference(r.key,e),Ome(n,r)):r instanceof a4?(x("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||d4(n,r.key)):$()}function Ome(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(x("SyncEngine","New document in limbo: "+t),n.mc.add(r),zA(n))}function zA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new F(Ce.fromString(e)),r=n.Ac.next();n.yc.set(r,new Ime(t)),n.gc=n.gc.insert(t,r),y_(n.remoteStore,new as(Fn(ol(t.path)),r,"TargetPurposeLimboResolution",ur.ct))}}function cs(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=m(function*(n,e,t){const r=L(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=QT.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(c,l){const u=L(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(l,h=>b.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!$s(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),GA.apply(this,arguments)}function Pme(n,e){return qA.apply(this,arguments)}function qA(){return qA=m(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield Bz(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cs(t,r.er)}var i}),qA.apply(this,arguments)}function Nme(n,e){const t=L(n),r=t.yc.get(e);if(r&&r.fc)return de().add(r.key);{let i=de();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class b_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=xh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Vz(n,e,t,r){return new qge(n,e,t,r)}(this.persistence,new Lz,e.initialUser,this.serializer)}createPersistence(e){return new GT(u_.zs,this.serializer)}createSharedClientState(e){return new Wz}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Il{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>u4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Pme.bind(null,r.syncEngine),yield function EA(n,e){return CA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yme}createDatastore(e){const t=xh(e.databaseInfo.databaseId),r=new tme(e.databaseInfo);return new ime(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>u4(this.syncEngine,a,0),o=Kz.D()?new Kz:new Zge,new ame(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,l){const u=new Dme(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=L(t);x("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield _l(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kme{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=U$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){x("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(x("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function E_(n,e){return nM.apply(this,arguments)}function nM(){return nM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield Bz(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),nM.apply(this,arguments)}function rM(n,e){return iM.apply(this,arguments)}function iM(){return iM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function sM(n){return oM.apply(this,arguments)}(n);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>n4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>n4(e.remoteStore,s)),n._onlineComponents=e}),iM.apply(this,arguments)}function oM(){return oM=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield E_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function _4(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Wr("Error using user provided cache. Falling back to memory cache: "+t),yield E_(n,new b_)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield E_(n,new b_);return n._offlineComponents}),oM.apply(this,arguments)}function C_(n){return aM.apply(this,arguments)}function aM(){return aM=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield rM(n,n._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield rM(n,new Il))),n._onlineComponents}),aM.apply(this,arguments)}function lM(){return lM=m(function*(n){const e=yield C_(n),t=e.eventManager;return t.onListen=Sme.bind(null,e.syncEngine),t.onUnlisten=Tme.bind(null,e.syncEngine),t}),lM.apply(this,arguments)}function E4(n,e,t={}){const r=new Lt;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,c){const l=new w_({next:d=>{s.enqueueAndForget(()=>function TA(n,e){return AA.apply(this,arguments)}(i,u)),d.fromCache&&"server"===a.source?c.reject(new T(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new xA(o,l,{includeMetadataChanges:!0,Ku:!0});return function DA(n,e){return SA.apply(this,arguments)}(i,u)}(yield function Dl(n){return lM.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function C4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const I4=new Map;function uM(n,e,t){if(!t)throw new T(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D4(n){if(!F.isDocumentKey(n))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S4(n){if(F.isDocumentKey(n))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function D_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D_(n);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class A4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function r_e(n,e,t,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=C4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tpe;switch(t.type){case"firstParty":return new spe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=I4.get(e);t&&(x("ComponentProvider","Removing Datastore"),I4.delete(e),t.terminate())}(this),Promise.resolve()}}class Ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class dn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dn(this.firestore,e,this._query)}}class Ci extends dn{constructor(e,t,r){super(e,t,ol(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new F(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function s_e(n,e,...t){if(n=rt(n),uM("collection","path",e),n instanceof Oh){const r=Ce.fromString(e,...t);return S4(r),new Ci(n,null,r)}{if(!(n instanceof Ct||n instanceof Ci))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return S4(r),new Ci(n.firestore,null,r)}}function M4(n,e,...t){if(n=rt(n),1===arguments.length&&(e=U$.A()),uM("doc","path",e),n instanceof Oh){const r=Ce.fromString(e,...t);return D4(r),new Ct(n,null,new F(r))}{if(!(n instanceof Ct||n instanceof Ci))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return D4(r),new Ct(n.firestore,n instanceof Ci?n.converter:null,new F(r))}}class o_e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sA(this,"async_queue_retry"),this.Xc=()=>{const t=__();t&&x("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=__();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=__();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Lt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!$s(t))throw t;x("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,bt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=IA.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&$()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class tt extends Oh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new o_e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||R4(this),this._firestoreClient.terminate()}}function c_e(n,e){const r="string"==typeof n?n:e||"(default)",i=di("object"==typeof n?n:Nc(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=bV("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function i_e(n,e,t,r={}){var i;const s=(n=ye(n,Oh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Gt.MOCK_USER;else{a=function _ie(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ig(JSON.stringify({alg:"none",type:"JWT"})),Ig(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gt(l)}n._authCredentials=new npe(new V$(a,c))}}(i,...s)}return i}function xt(n){return n._firestoreClient||R4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function R4(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Npe(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,C4(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Kme(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Vt.fromBase64String(e))}catch(t){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hM{constructor(e){this._methodName=e}}class fM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const u_e=/^__.*__$/;class d_e{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new ll(e,this.data,t,this.fieldTransforms)}}class P4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function N4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class S_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new S_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return A_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(N4(this.ca)&&u_e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class h_e{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xh(e)}ya(e,t,r,i=!1){return new S_({ca:e,methodName:t,ga:r,path:wt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tl(n){const e=n._freezeSettings(),t=xh(n._databaseId);return new h_e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pM(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);mM("Data must be an object, but it was:",o,r);const a=U4(r,o);let c,l;if(s.merge)c=new Zn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Fh(e,d,t);if(!o.contains(h))throw new T(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$4(u,h)||u.push(h)}c=new Zn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new d_e(new un(a),c,l)}class Nh extends hM{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function ga(n,e){if(j4(n=rt(n)))return mM("Unsupported field value:",e,n),U4(n,e);if(n instanceof hM)return function(t,r){if(!N4(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=ga(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=rt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RH(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ct.fromDate(t);return{timestampValue:dl(r.serializer,i)}}if(t instanceof ct){const i=new ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dl(r.serializer,i)}}if(t instanceof fM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pa)return{bytesValue:ZH(r.serializer,t._byteString)};if(t instanceof Ct){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:OT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${D_(t)}`)}(n,e)}function U4(n,e){const t={};return eH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,(r,i)=>{const s=ga(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function j4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof fM||n instanceof pa||n instanceof Ct||n instanceof hM)}function mM(n,e,t){if(!j4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=D_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Fh(n,e,t){if((e=rt(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return T_(n,e);throw A_("Field path arguments must be of type string or ",n,!1,void 0,t)}const m_e=new RegExp("[~\\*/\\[\\]]");function T_(n,e,t){if(e.search(m_e)>=0)throw A_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch{throw A_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function A_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new T(w.INVALID_ARGUMENT,a+n+c)}function $4(n,e){return n.some(t=>t.isEqual(e))}class _M{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new __e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(M_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class __e extends _M{data(){return super.data()}}function M_(n,e){return"string"==typeof e?T_(n,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}class yM{}class y_e extends yM{}function v_e(n,e,...t){let r=[];e instanceof yM&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof Al).length,o=i.filter(a=>a instanceof Lh).length;if(s>1||s>0&&o>0)throw new T(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Lh extends y_e{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lh(e,t,r)}_apply(e){const t=this._parse(e);return W4(e._query,t),new dn(e.firestore,e.converter,CT(e._query,t))}_parse(e){const t=Tl(e.firestore);return function(i,s,o,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new T(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){q4(u,l);const h=[];for(const f of u)h.push(G4(a,i,f));d={arrayValue:{values:h}}}else d=G4(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||q4(u,l),d=function B4(n,e,t,r=!1){return ga(t,n.ya(r?4:3,e))}(o,"where",u,"in"===l||"not-in"===l);return me.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function b_e(n,e,t){const r=e,i=M_("where",n);return Lh._create(i,r,t)}class Al extends yM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Al(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ve.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)W4(s,a),s=CT(s,a)}(e._query,t),new dn(e.firestore,e.converter,CT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function G4(n,e,t){if("string"==typeof(t=rt(t))){if(""===t)throw new T(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&-1!==t.indexOf("/"))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ce.fromString(t));if(!F.isDocumentKey(r))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return na(n,new F(r))}if(t instanceof Ct)return na(n,t._key);throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D_(t)}.`)}function q4(n,e){if(!Array.isArray(n)||0===n.length)throw new T(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W4(n,e){if(e.isInequality()){const r=Qm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=wT(n);null!==s&&function K4(n,e,t){if(!t.isEqual(e))throw new T(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new T(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class w_e{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new fM(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const t=zs(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);G(cz(r));const i=new ta(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(t)||bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class ma{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ml extends _M{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new O_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(M_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class O_ extends Ml{data(e={}){return super.data(e)}}class xl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new O_(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new O_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new O_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:C_e(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function C_e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class to extends w_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function I_e(n){n=ye(n,dn);const e=ye(n.firestore,tt),t=xt(e),r=new to(e);return function H4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),E4(t,n._query).then(i=>new xl(e,r,n,i))}function D_e(n,e,t){n=ye(n,Ct);const r=ye(n.firestore,tt),i=function bM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Vh(r,[pM(Tl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,it.none())])}function S_e(n,e,t,...r){n=ye(n,Ct);const i=ye(n.firestore,tt),s=Tl(i);let o;return o="string"==typeof(e=rt(e))||e instanceof Sl?function V4(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Fh(e,r,t)],c=[i];if(s.length%2!=0)throw new T(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Fh(e,s[h])),c.push(s[h+1]);const l=[],u=un.empty();for(let h=a.length-1;h>=0;--h)if(!$4(l,a[h])){const f=a[h];let p=c[h];p=rt(p);const g=o.da(f);if(p instanceof Nh)l.push(f);else{const _=ga(p,g);null!=_&&(l.push(f),u.set(f,_))}}const d=new Zn(l);return new P4(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function L4(n,e,t,r){const i=n.ya(1,e,t);mM("Data must be an object, but it was:",i,r);const s=[],o=un.empty();Hs(r,(c,l)=>{const u=T_(e,c,t);l=rt(l);const d=i.da(u);if(l instanceof Nh)s.push(u);else{const h=ga(l,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Zn(s);return new P4(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Vh(i,[o.toMutation(n._key,it.exists(!0))])}function Vh(n,e){return function(t,r){const i=new Lt;return t.asyncQueue.enqueueAndForget(m(function*(){return function Ame(n,e,t){return NA.apply(this,arguments)}(yield function cM(n){return C_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(xt(n),e)}!function(n,e=!0){el=Bo,_n(new rn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new tt(new rpe(t.getProvider("auth-internal")),new ope(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fe(L$,"3.13.0",n),Fe(L$,"3.13.0","esm2017")}();class N_{constructor(e){return e}}const X4="firestore",EM=new N("angularfire2.firestore-instances");function U_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new N_(r)}}const j_e={provide:class V_e{constructor(){return Bc(X4)}},deps:[[new yt,EM]]},$_e={provide:N_,useFactory:function B_e(n,e){const t=Vc(X4,n,e);return t&&new N_(t)},deps:[[new yt,EM],Yi]};let H_e=(()=>{class n{constructor(){Fe("angularfire",Qi.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[$_e,j_e]}),n})();function z_e(n,...e){return{ngModule:H_e,providers:[{provide:EM,useFactory:U_e(n),multi:!0,deps:[ne,Xe,jc,$c,[new yt,yj],[new yt,f0],...e]}]}}const G_e=Tt(s_e,!0),F_=Tt(M4,!0),q_e=Tt(I_e,!0),W_e=Tt(c_e,!0),K_e=Tt(v_e,!0),CM=Tt(D_e,!0),Q_e=Tt(S_e,!0),Y_e=Tt(b_e,!0);let Z4=(()=>{class n{constructor(t){this.router=t,this.auth=j(Rd),this.firestore=j(N_),this.authState$=vj(this.auth),this.authStateSubscription=this.authState$.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}logIn(t,r){var i=this;return m(function*(){try{const s=yield Whe(i.auth,t,r);yield i.updateUserData(s.user),i.authState$.subscribe(o=>{o&&(console.log("About to navigate"),i.router.navigate([""]))})}catch(s){throw console.log(s),s}})()}signUp(t,r,i){var s=this;return m(function*(){try{const o=yield bj(s.auth,r,i);yield s.sendVerificationEmail(),yield s.createUserData(o.user,t)}catch(o){throw console.log(o),o}})()}clientSignUp(t,r,i,s){var o=this;return m(function*(){try{const a=yield bj(o.auth,r,s);yield o.sendVerificationEmail(),yield o.createUserData(a.user),yield o.createClientData(a.user,t,i)}catch(a){throw console.log(a),a}})()}sendVerificationEmail(){var t=this;return m(function*(){if(t.auth.currentUser)try{yield Ghe(t.auth.currentUser),console.log("Navigate to email verification"),yield t.router.navigate([""])}catch(r){throw console.log(r),r}})()}forgotPassword(t){qhe(this.auth,t).then(()=>{window.alert("Password reset email sent, check your inbox")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}updateUserData(t){var r=this;return m(function*(){const i=F_(r.firestore,"users",t.uid);let s={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};try{yield Q_e(i,s)}catch(o){throw console.log(`Error Updating Doc = ${o}`),o}})()}createClientData(t,r,i){var s=this;return m(function*(){let o=F_(s.firestore,"default/clients"),a={name:r,phoneNumber:i,email:t.email};try{yield CM(o,a)}catch(c){throw console.log(`Error Creating Client = ${c}`),c}try{const c=G_e(s.firestore,"clients"),l=(yield q_e(K_e(c,Y_e("email","==",t.email)))).docs.at(0);console.log(`This is what client is ${JSON.stringify(l)}`);let u={uid:t.uid,clients:[l.id]};yield CM(F_(s.firestore,"userClients"),u)}catch(c){throw console.log(`Error Creating UserClient Entry ${c}`),c}})()}createUserData(t,r){var i=this;return m(function*(){let s={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};r&&(s={...s,name:r});try{yield CM(F_(i.firestore,"users",t.uid),s)}catch(o){throw console.log(`Error Creating Doc = ${o}`),o}})()}signOut(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""])})}static#e=this.\u0275fac=function(r){return new(r||n)(C(Qn))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X_e(n,e){if(1&n){const t=Du();M(0,"div",1),O(1),M(2,"button",2),It("click",function(){return Ql(t),Yl(Fb().close())}),R()()}if(2&n){const t=Fb();zn(1),bp(" ",t.message," ")}}let J4=(()=>{class n{constructor(){this.message="",this.show=!1}close(){this.show=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-alert-warning"]],inputs:{message:"message",show:"show"},decls:1,vars:1,consts:[["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,i){1&r&&kb(0,X_e,3,1,"div",0),2&r&&or("ngIf",i.show)},dependencies:[CL],styles:["div.alert[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1;top:10rem;right:0}"]})}return n})();const Z_e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:rie,pathMatch:"full"},{path:"about-us",component:gV},{path:"features",component:mV},{path:"fitting-room",redirectTo:"/login",pathMatch:"full"},{path:"shop",component:sie},{path:"login",component:(()=>{class n{constructor(t){this.authService=t,this.alertMessage="",this.showAlert=!1}login(t,r){var i=this;return m(function*(){try{yield i.authService.logIn(t,r)}catch(s){console.log(`Login error = ${s}`),i.alertMessage=s,i.showAlert=!0,setTimeout(()=>i.showAlert=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(D(Z4))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"fixed-top"],[1,"container"],[3,"message","show"],[1,"row","spacer"],[1,"d-flex","flex-column","login-area"],[1,"d-flex","flex-row"],["routerLink","/signUp",1,"redirect","mt-2"],[1,"site"],["type","button",1,"btn-close"],[1,"text-center","row"],[1,"mt-3","mb-4","login-text"],[1,"formGroup","mb-3"],["type","text","placeholder","Username:","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password:","required","",1,"formControl"],["userPassword",""],[1,"text-center","row","button-container"],[1,"formGroup"],["type","button","value","Log In",1,"btn","btnPrimary","btn-lg","text-white","ps-5","pe-5","mb-2",3,"click"],[1,"forgotPassword","mb-5"],["routerLink","/forgot-password"]],template:function(r,i){if(1&r){const s=Du();we(0,"app-header",0),M(1,"div",1),we(2,"app-alert-warning",2)(3,"div",3),M(4,"div",4)(5,"div",5)(6,"h6",6)(7,"u"),O(8,"Sign Up"),R()(),M(9,"h1",7),O(10,"Try-On"),R(),we(11,"button",8),R(),M(12,"div",9)(13,"h5",10),O(14,"LOG IN"),R(),M(15,"div",11),we(16,"input",12,13),R(),M(18,"div",11),we(19,"input",14,15),R()(),M(21,"div",16)(22,"div",17)(23,"input",18),It("click",function(){Ql(s);const a=wo(17),c=wo(20);return Yl(i.login(a.value,c.value))}),R()(),M(24,"div",19)(25,"span",20),O(26,"Forgot your password?"),R()()()()()}2&r&&(zn(2),or("message",i.alertMessage)("show",i.showAlert))},dependencies:[kc,J4,Ms],styles:[".login-area[_ngcontent-%COMP%]{background-color:#f4f4f4;width:100%}div.d-flex.flex-row[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{color:#190101;scale:1.5;opacity:1}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-weight:800;color:#190101}h6[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:100;color:#cf0a2c}input.formControl[_ngcontent-%COMP%]{border-radius:8px;border-width:0;border-color:#f4f4f4;background-color:#fff;padding:1rem}[_ngcontent-%COMP%]::placeholder{color:#190101;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#190101}.button-container[_ngcontent-%COMP%]{margin-top:8rem}.forgotPassword[_ngcontent-%COMP%]{color:#cf0a2c}div.formGroup[_ngcontent-%COMP%] > input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}@media only screen and (min-width: 0px){input.formControl[_ngcontent-%COMP%]{width:90%}.spacer[_ngcontent-%COMP%]{height:11vh}.login-area[_ngcontent-%COMP%]{height:89%;border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}div.d-flex.flex-row[_ngcontent-%COMP%]{justify-content:space-between}.site[_ngcontent-%COMP%]{visibility:hidden}.login-text[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (min-width: 375px){input.formControl[_ngcontent-%COMP%]{width:80%}.spacer[_ngcontent-%COMP%]{height:15vh}.login-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 576px){input.formControl[_ngcontent-%COMP%]{width:60%}.spacer[_ngcontent-%COMP%]{height:15vh}.login-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:2rem 4rem 0}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 766px){input.formControl[_ngcontent-%COMP%]{width:40%}.spacer[_ngcontent-%COMP%]{height:17vh}}@media only screen and (min-width: 991px){input.formControl[_ngcontent-%COMP%]{width:30%}.spacer[_ngcontent-%COMP%]{height:20vh}.login-area[_ngcontent-%COMP%]{height:80%}}@media only screen and (min-height: 1024px){.spacer[_ngcontent-%COMP%]{height:15vh}.login-area[_ngcontent-%COMP%]{height:85%}}"]})}return n})()},{path:"signUp",component:(()=>{class n{constructor(t){this.authService=t,this.alertMessage="",this.showAlert=!1}signUp(t,r,i){var s=this;return m(function*(){try{yield s.authService.signUp(t,r,i)}catch(o){console.log(`Sign Up Error = ${o}`),s.alertMessage=o,s.showAlert=!0,setTimeout(()=>s.showAlert=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(D(Z4))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-user-signup"]],decls:30,vars:2,consts:[[1,"fixed-top"],[1,"container"],[3,"message","show"],[1,"row","spacer"],[1,"d-flex","flex-column","signup-area"],[1,"d-flex","flex-row"],["routerLink","/login",1,"redirect","mt-2","cursor-pointer"],[1,"site"],["type","button",1,"btn-close"],[1,"text-center","row"],[1,"mt-3","mb-4","login-text"],[1,"formGroup","mb-3"],["type","text","placeholder","Name:","required","",1,"formControl"],["userName",""],["type","text","placeholder","Email:","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password:","required","",1,"formControl"],["userPassword",""],[1,"text-center","row","button-container"],[1,"formGroup"],["type","button","value","SIGN UP",1,"btn","btnPrimary","btn-lg","text-white","ps-5","pe-5","mb-2",3,"click"],[1,"forgotPassword","mb-5"],["routerLink","/forgot-password"]],template:function(r,i){if(1&r){const s=Du();we(0,"app-header",0),M(1,"div",1),we(2,"app-alert-warning",2)(3,"div",3),M(4,"div",4)(5,"div",5)(6,"h6",6)(7,"u"),O(8,"Log in"),R()(),M(9,"h1",7),O(10,"Try-On"),R(),we(11,"button",8),R(),M(12,"div",9)(13,"h5",10),O(14,"SIGN UP"),R(),M(15,"div",11),we(16,"input",12,13),R(),M(18,"div",11),we(19,"input",14,15),R(),M(21,"div",11),we(22,"input",16,17),R()(),M(24,"div",18)(25,"div",19)(26,"input",20),It("click",function(){Ql(s);const a=wo(17),c=wo(20),l=wo(23);return Yl(i.signUp(a.value,c.value,l.value))}),R()(),M(27,"div",21)(28,"span",22),O(29,"Forgot your password?"),R()()()()()}2&r&&(zn(2),or("message",i.alertMessage)("show",i.showAlert))},dependencies:[kc,J4,Ms],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.signup-area[_ngcontent-%COMP%]{background-color:#f4f4f4;width:100%}div.d-flex.flex-row[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{color:#190101;scale:1.5;opacity:1}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-weight:800;color:#190101}h6[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:100;color:#cf0a2c}input.formControl[_ngcontent-%COMP%]{border-radius:8px;border-width:0;border-color:#f4f4f4;background-color:#fff;padding:1rem}[_ngcontent-%COMP%]::placeholder{color:#190101;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#190101}.button-container[_ngcontent-%COMP%]{margin-top:4rem}.forgotPassword[_ngcontent-%COMP%]{color:#cf0a2c}div.formGroup[_ngcontent-%COMP%] > input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}@media only screen and (min-width: 0px){input.formControl[_ngcontent-%COMP%]{width:90%}.spacer[_ngcontent-%COMP%]{height:11vh}.signup-area[_ngcontent-%COMP%]{height:89%;border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}div.d-flex.flex-row[_ngcontent-%COMP%]{justify-content:space-between}.site[_ngcontent-%COMP%]{visibility:hidden}.login-text[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (min-width: 375px){input.formControl[_ngcontent-%COMP%]{width:80%}.spacer[_ngcontent-%COMP%]{height:15vh}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 576px){input.formControl[_ngcontent-%COMP%]{width:60%}.spacer[_ngcontent-%COMP%]{height:15vh}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:2rem 4rem 0}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 766px){input.formControl[_ngcontent-%COMP%]{width:40%}.spacer[_ngcontent-%COMP%]{height:17vh}}@media only screen and (min-width: 991px){input.formControl[_ngcontent-%COMP%]{width:30%}.spacer[_ngcontent-%COMP%]{height:20vh}.signup-area[_ngcontent-%COMP%]{height:80%}}@media only screen and (min-height: 1024px){.spacer[_ngcontent-%COMP%]{height:15vh}.signup-area[_ngcontent-%COMP%]{height:85%}}"]})}return n})()},{path:"**",component:iie}];let J_e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({imports:[AE.forRoot(Z_e),AE]})}return n})(),eye=(()=>{class n{constructor(){this.title="tryon"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&we(0,"router-outlet")},dependencies:[yE]})}return n})();new N("MdbAccordionItemBodyDirective"),new N("MdbAccordionItemHeaderDirective");let rye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,aV]})}return n})(),oye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn]})}return n})();const dr=new N("NgValueAccessor"),kl=new N("CallSetDisabledState",{providedIn:"root",factory:()=>$_}),$_="always";let U3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})(),ive=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({imports:[U3]})}return n})(),W_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kl,useValue:t.callSetDisabledState??$_}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({imports:[ive]})}return n})();const ove={provide:dr,useExisting:Pe(()=>cve),multi:!0};class ave{element;checked}let cve=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked=cd(t)}_checked=!1;get value(){return this._value}set value(t){this._value=t}_value=null;get disabled(){return this._disabled}set disabled(t){this._disabled=cd(t)}_disabled=!1;checkboxChange=new Re;get isDisabled(){return this._disabled}get isChecked(){return this._checked}onCheckboxClick(){this.toggle()}onBlur(){this.onTouched()}constructor(){}get changeEvent(){const t=new ave;return t.element=this,t.checked=this.checked,t}toggle(){this.disabled||(this._checked=!this._checked,this.onChange(this.checked),this.onCheckboxChange())}onCheckboxChange(){this.checkboxChange.emit(this.changeEvent)}onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t,this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static ngAcceptInputType_checked;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mdbCheckbox",""]],hostVars:2,hostBindings:function(r,i){1&r&&It("click",function(){return i.onCheckboxClick()})("blur",function(){return i.onBlur()}),2&r&&wp("disabled",i.isDisabled)("checked",i.isChecked)},inputs:{checked:"checked",value:"value",disabled:"disabled"},outputs:{checkboxChange:"checkboxChange"},features:[je([ove])]})}return n})(),lve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,W_]})}return n})();const Hh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Hh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Yt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Hh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Hh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class dve extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class uve extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Hh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Hh.cancelAnimationFrame(t),e._scheduled=void 0)}});let zM,fve=1;const K_={};function iG(n){return n in K_&&(delete K_[n],!0)}const pve={setImmediate(n){const e=fve++;return K_[e]=!0,zM||(zM=Promise.resolve()),zM.then(()=>iG(e)&&n()),e},clearImmediate(n){iG(n)}},{setImmediate:gve,clearImmediate:mve}=pve,Q_={setImmediate(...n){const{delegate:e}=Q_;return(e?.setImmediate||gve)(...n)},clearImmediate(n){const{delegate:e}=Q_;return(e?.clearImmediate||mve)(n)},delegate:void 0};new class yve extends wg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class _ve extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Q_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Q_.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function sG(n,e=Eg){return function bve(n){return st((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const l=i;i=null,t.next(l)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(Ye(t,l=>{r=!0,i=l,s||fn(n(l)).subscribe(s=Ye(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Eve(n=0,e,t=qre){let r=-1;return null!=e&&(cR(e)?t=e:r=e),new Be(i=>{let s=function wve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const Cve=new N("cdk-dir-doc",{providedIn:"root",factory:function Ive(){return j(Ue)}}),Dve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Tve=(()=>{class n{constructor(t){this.value="ltr",this.change=new Re,t&&(this.value=function Sve(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Dve.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Cve,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GM=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})(),Mve=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new He,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Be(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(sG(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(On(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function Hre(n){return n instanceof Bt?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ne),C(ko),C(Ue,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oG=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new He,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sG(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(C(ko),C(ne),C(Ue,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})(),cG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({imports:[GM,aG,GM,aG]})}return n})();class qM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class WM extends qM{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class lG extends qM{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Rve extends qM{constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}}class uG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof WM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof lG?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Rve?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kve extends uG{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Xe.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let dG=(()=>{class n extends uG{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(D(ws),D(Dr),D(Ue))};static#t=this.\u0275dir=Q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ke]})}return n})(),KM=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({})}return n})();const hG=Qre();class Ove{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=St(-this._previousScrollPosition.left),e.style.top=St(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),hG&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hG&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Pve{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(On(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fG{enable(){}disable(){}attach(){}}function QM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function pG(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Nve{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();QM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Fve=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new fG,this.close=o=>new Pve(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ove(this._viewportRuler,this._document),this.reposition=o=>new Nve(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||n)(C(Mve),C(oG),C(ne),C(Ue))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gG{constructor(e){if(this.scrollStrategy=new fG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Lve{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let mG=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vve=(()=>{class n extends mG{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue),C(ne,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bve=(()=>{class n extends mG{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=dV(s)},this._clickListener=s=>{const o=dV(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue),C(ko),C(ne,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_G=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hV()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),hV()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue),C(ko))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Uve{constructor(e,t,r,i,s,o,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new He,this._attachments=new He,this._detachments=new He,this._locationChanges=Yt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new He,this._outsidePointerEvents=new He,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=St(this._config.width),e.height=St(this._config.height),e.minWidth=St(this._config.minWidth),e.minHeight=St(this._config.minHeight),e.maxWidth=St(this._config.maxWidth),e.maxHeight=St(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=yg(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(qu(dR(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yG="cdk-overlay-connected-position-bounding-box",jve=/([A-Za-z%]+)$/;class $ve{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new He,this._resizeSubscription=Yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(yG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,r)?s.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(s.length){let a=null,c=-1;for(const l of s){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&va(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=bG(t);let{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=vG(this._overlayRef.getConfig().minHeight),a=vG(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=bG(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?l||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?c||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Lve(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=St(r.height),i.top=St(r.top),i.bottom=St(r.bottom),i.width=St(r.width),i.left=St(r.left),i.right=St(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=St(s)),o&&(i.maxWidth=St(o))}this._lastBoundingBoxSize=r,va(this._boundingBox.style,i)}_resetBoundingBoxStyles(){va(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){va(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();va(r,this._getExactOverlayY(t,e,u)),va(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=St(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=St(o.maxWidth):s&&(r.maxWidth="")),va(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=St(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=St(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pG(e,r),isOriginOutsideView:QM(e,r),isOverlayClipped:pG(t,r),isOverlayOutsideView:QM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function va(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vG(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(jve);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wG="cdk-global-overlay-wrapper";class Hve{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";c?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=g,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(wG),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zve=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Hve}flexibleConnectedTo(t){return new $ve(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(C(oG),C(Ue),C(ko),C(_G))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gve=0,YM=(()=>{class n{constructor(t,r,i,s,o,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new gG(t);return o.direction=o.direction||this._directionality.value,new Uve(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Gve++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Is)),new kve(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(C(Fve),C(_G),C(ws),C(zve),C(Vve),C(Xe),C(ne),C(Ue),C(Tve),C(Fp),C(Bve),C(Qv,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kve={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[YM],useFactory:function Wve(n){return()=>n.scrollStrategies.reposition()}};let Y_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({providers:[YM,Kve],imports:[GM,KM,cG,cG]})}return n})(),Qve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,Y_]})}return n})(),Yve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,W_]})}return n})(),ibe=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function obe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function sbe(n){try{return n.frameElement}catch{return null}}(function pbe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===DG(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=DG(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function hbe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function fbe(n){return!function cbe(n){return function ube(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function abe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function lbe(n){return function dbe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||IG(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(C(ko))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IG(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function DG(n){if(!IG(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gbe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Kn(1)).subscribe(e)}}class mbe extends gbe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(e,t,r,i,s,o,a){super(e,t,r,i,a.defer),this._focusTrapManager=s,this._inertStrategy=o,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const _be=new N("FOCUS_TRAP_INERT_STRATEGY");class ybe{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){const r=t.target,i=e._element;r&&!i.contains(r)&&!r.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{e.enabled&&!i.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}}let vbe=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bbe=(()=>{class n{constructor(t,r,i,s,o){this._checker=t,this._ngZone=r,this._focusTrapManager=i,this._document=s,this._inertStrategy=o||new ybe}create(t,r={defer:!1}){let i;return i="boolean"==typeof r?{defer:r}:r,new mbe(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i)}static#e=this.\u0275fac=function(r){return new(r||n)(C(ibe),C(ne),C(vbe),C(Ue),C(_be,8))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ebe=["dialog"],Cbe=["content"];function Ibe(n,e){}const Dbe=function(n){return{"rounded-0":n}};class Sbe{animation=!0;backdrop=!0;ignoreBackdropClick=!1;keyboard=!0;modalClass="";containerClass="";viewContainerRef;data=null;nonInvasive=!1}class SG{_overlayRef;_container;constructor(e,t){this._overlayRef=e,this._container=t}component;onClose$=new He;onClose=this.onClose$.asObservable();close(e){this._container._close(),setTimeout(()=>{this._container._config.nonInvasive&&this._container._onNonInvasiveModalHidden(),this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}const XM="modal-open",TG="modal-non-invasive-open",AG="modal-non-invasive-show";let MG=(()=>{class n{_document;_elementRef;_renderer;_focusTrapFactory;_ngZone;_portalOutlet;modalDialog;modalContent;_destroy$=new He;backdropClick$=new He;_config;BACKDROP_TRANSITION=150;MODAL_TRANSITION=200;NON_INVASIVE_TRANSITION=450;_previouslyFocusedElement;_focusTrap;modal=!0;get hasAnimation(){return this._config.animation}onWindowResize(){this._ngZone.runOutsideAngular(()=>{this._config.nonInvasive&&this._handleWindowResize()})}get host(){return this._elementRef.nativeElement}_isScrollable=!1;_isBottomRight=!1;_isBottomLeft=!1;_isTopRight=!1;_isTopLeft=!1;_isSideTopModal=!1;_isSideBottomModal=!1;_isSideModal=!1;_isModalBottom=!1;_modalContentRect;_modalContentComputedStyles;_modalDialogComputedStyles;_topOffset=0;_leftOffset=0;_rightOffset=0;_bottomOffset=0;constructor(t,r,i,s,o){this._document=t,this._elementRef=r,this._renderer=i,this._focusTrapFactory=s,this._ngZone=o}ngOnInit(){this._updateContainerClass(),this._renderer.setStyle(this.host,"display","block"),this._config.nonInvasive||(this._focusTrap=this._focusTrapFactory.create(this.host),this._previouslyFocusedElement=this._document.activeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this.host,"show"),setTimeout(()=>{this._focusTrap?.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap?.focusInitialElementWhenReady()}ngAfterViewInit(){const t=this._document.body.offsetWidth;this._renderer.addClass(this._document.body,XM),this._config.nonInvasive&&(this._renderer.addClass(this._document.body,TG),setTimeout(()=>{this._onNonInvasiveModalShown()},this.NON_INVASIVE_TRANSITION)),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"overflow","hidden"),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"padding-right",this._document.body.offsetWidth-t+"px"),!this._config.ignoreBackdropClick&&!this._config.nonInvasive&&xs(this.host,"mousedown").pipe(On(i=>{const s=i.target,o=this.modalDialog.nativeElement,a=s!==o,c=!o.contains(s);return a&&c}),qu(this._destroy$)).subscribe(i=>{this.backdropClick$.next(i)})}ngOnDestroy(){this._previouslyFocusedElement?.focus(),this._focusTrap?.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(r=>{this._renderer.addClass(this.host,r)})}_onNonInvasiveModalShown(){this._isScrollable=this._config.modalClass.includes("modal-dialog-scrollable"),this._isBottomRight=this._config.modalClass.includes("modal-bottom-right"),this._isBottomLeft=this._config.modalClass.includes("modal-bottom-left"),this._isTopRight=this._config.modalClass.includes("modal-top-right"),this._isTopLeft=this._config.modalClass.includes("modal-top-left"),this._isModalBottom=this._config.modalClass.includes("modal-bottom"),this._isSideTopModal=this._isTopLeft||this._isTopRight,this._isSideBottomModal=this._isBottomLeft||this._isBottomRight,this._isSideModal=this._isSideTopModal||this._isSideBottomModal,this._modalContentRect=this.modalContent.nativeElement.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(this.modalContent.nativeElement),this._modalDialogComputedStyles=window.getComputedStyle(this.modalDialog.nativeElement),this._topOffset=parseInt(this._modalDialogComputedStyles.top,0),this._leftOffset=parseInt(this._modalDialogComputedStyles.left,0),this._rightOffset=parseInt(this._modalDialogComputedStyles.right,0),this._bottomOffset=parseInt(this._modalDialogComputedStyles.bottom,0),this._renderer.addClass(this.host,AG),this._setNonInvasiveStyles()}_setNonInvasiveStyles(t=0,r=0){const i=window.innerWidth>=992;this._renderer.setStyle(this.host,"left",`${this._modalContentRect.left+t}px`),this._renderer.setStyle(this.host,"width",this._modalContentComputedStyles.width),this._isScrollable||(this._renderer.setStyle(this.host,"height",this._modalContentComputedStyles.height),this._renderer.setStyle(this.host,"display","")),i&&((this._isSideBottomModal||this._isModalBottom)&&this._renderer.setStyle(this.host,"top",`${this._modalContentRect.top+r}px`),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","auto"))}_onNonInvasiveModalHidden(){this._renderer.removeClass(this.host,AG),this._resetNonInvasiveStyles(),this._removeNonInvasiveClass()}_resetNonInvasiveStyles(){this._renderer.setStyle(this.host,"left",""),this._renderer.setStyle(this.host,"top",""),this._renderer.setStyle(this.host,"height",""),this._renderer.setStyle(this.host,"width",""),this._isScrollable||this._renderer.setStyle(this.host,"display",""),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","")}_removeNonInvasiveClass(){this._document.body.querySelector(".modal.show.modal-non-invasive-show")?this._renderer.addClass(this._document.body,XM):this._renderer.removeClass(this._document.body,TG)}_handleWindowResize(){const t=this.host.querySelector(".modal-content");if(this._resetNonInvasiveStyles(),this._modalContentRect=t.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(t),this._isSideTopModal||this._isSideBottomModal){let r=0,i=0;(this._isBottomRight||this._isBottomLeft)&&(i=-this._bottomOffset),(this._isBottomRight||this._isTopRight)&&(r=-this._rightOffset),(this._isBottomLeft||this._isTopLeft)&&(r=this._leftOffset),this._setNonInvasiveStyles(r,i)}else this._setNonInvasiveStyles()}_close(){this._config.animation&&this._renderer.removeClass(this.host,"show");const t=Array.from(this.host.querySelectorAll("iframe")),r=Array.from(this.host.querySelectorAll("video"));t.forEach(i=>{const s=i.getAttribute("src");this._renderer.setAttribute(i,"src",s)}),r.forEach(i=>{i.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,XM),this._renderer.removeStyle(this._document.body,"overflow"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}static \u0275fac=function(r){return new(r||n)(D(Ue),D(Bt),D(Lr),D(bbe),D(ne))};static \u0275cmp=Bn({type:n,selectors:[["mdb-modal-container"]],viewQuery:function(r,i){if(1&r&&(Do(dG,7),Do(Ebe,7),Do(Cbe,7)),2&r){let s;Li(s=Vi())&&(i._portalOutlet=s.first),Li(s=Vi())&&(i.modalDialog=s.first),Li(s=Vi())&&(i.modalContent=s.first)}},hostVars:4,hostBindings:function(r,i){1&r&&It("resize",function(o){return i.onWindowResize(o)},0,oP),2&r&&mc("modal",i.modal)("fade",i.hasAnimation)},decls:5,vars:5,consts:[["dialog",""],[1,"modal-content",3,"ngClass"],["content",""],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(M(0,"div",null,0)(2,"div",1,2),kb(4,Ibe,0,0,"ng-template",3),R()()),2&r&&(ON("modal-dialog"+(i._config.modalClass?" "+i._config.modalClass:"")),zn(2),or("ngClass",Zb(3,Dbe,i._config.modalClass.includes("modal-frame"))))},dependencies:[Wp,dG],encapsulation:2})}return n})(),Abe=(()=>{class n{_document;_overlay;_injector;_cfr;constructor(t,r,i,s){this._document=t,this._overlay=r,this._injector=i,this._cfr=s}open(t,r){const i=new Sbe;r=r?Object.assign(i,r):i;const s=this._createOverlay(r),o=this._createContainer(s,r),a=this._createContent(t,o,s,r);return this._registerListeners(a,r,o),a}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){return new gG({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:!t.nonInvasive&&t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,r){const i=new WM(MG,null,this._injector,this._cfr),s=t.attach(i);return s.instance._config=r,s.instance}_createContent(t,r,i,s){const o=new SG(i,r);if(t instanceof ci)r.attachTemplatePortal(new lG(t,null,{$implicit:s.data,modalRef:o}));else{const a=this._createInjector(s,o,r),c=r.attachComponentPortal(new WM(t,s.viewContainerRef,a));s.data&&Object.assign(c.instance,{...s.data}),o.component=c.instance}return o}_createInjector(t,r,i){return Xe.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:MG,useValue:i},{provide:SG,useValue:r}]})}_registerListeners(t,r,i){i.backdropClick$.pipe(Kn(1)).subscribe(()=>{t.close()}),r.keyboard&&xs(i._elementRef.nativeElement,"keydown").pipe(On(s=>"Escape"===s.key),Kn(1)).subscribe(()=>{t.close()})}static \u0275fac=function(r){return new(r||n)(C(Ue),C(YM),C(Xe),C(ws))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Mbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[Abe],imports:[Wn,Y_,KM]})}return n})(),xbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,Y_]})}return n})(),Rbe=(()=>{class n{get name(){return this._name}set name(t){this._name=t}_name;get checked(){return this._checked}set checked(t){this._checked=cd(t)}_checked=!1;get value(){return this._value}set value(t){this._value=t}_value=null;get disabled(){return this._disabled}set disabled(t){this._disabled=cd(t)}_disabled=!1;get isDisabled(){return this._disabled}get isChecked(){return this._checked}get nameAttr(){return this.name}constructor(){}_updateName(t){this._name=t}_updateChecked(t){this._checked=t}_updateDisabledState(t){this._disabled=t}static ngAcceptInputType_checked;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mdbRadio",""]],hostVars:3,hostBindings:function(r,i){2&r&&(wp("disabled",i.isDisabled)("checked",i.isChecked),Vr("name",i.nameAttr))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled"}})}return n})();const kbe={provide:dr,useExisting:Pe(()=>Obe),multi:!0};let Obe=(()=>{class n{radios;get value(){return this._value}set value(t){this._value=t,this.radios&&this._updateChecked()}_value;get name(){return this._name}set name(t){this._name=t,this.radios&&this._updateNames()}_name;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.radios&&this._updateDisabled()}_disabled=!1;_destroy$=new He;onChange=t=>{};onTouched=()=>{};ngAfterContentInit(){this._updateNames(),this._updateDisabled(),this.radios.changes.pipe(eg(this.radios),er(t=>Ot(Promise.resolve(t))),qu(this._destroy$)).subscribe(()=>this._updateRadiosState())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_updateRadiosState(){this._updateNames(),this._updateChecked(),this._updateDisabled()}_updateNames(){this.radios.forEach(t=>t._updateName(this.name))}_updateChecked(){this.radios.forEach(t=>{t._updateChecked(t.value===this._value)})}_updateDisabled(){this.radios.forEach(t=>t._updateDisabledState(this._disabled))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateDisabled()}writeValue(t){this.value=t}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mdbRadioGroup",""]],contentQueries:function(r,i,s){if(1&r&&ow(s,Rbe,5),2&r){let o;Li(o=Vi())&&(i.radios=o)}},inputs:{value:"value",name:"name",disabled:"disabled"},features:[je([kbe])]})}return n})(),Pbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,W_]})}return n})();const Nbe=["input"],Fbe=["thumb"],Lbe=["thumbValue"],Vbe=function(n){return{"thumb-active":n}},Bbe={provide:dr,useExisting:Pe(()=>Ube),multi:!0};let Ube=(()=>{class n{_cdRef;input;thumb;thumbValue;id;required;name;value;get disabled(){return this._disabled}set disabled(t){this._disabled=cd(t)}_disabled;label;min=0;max=100;step;get default(){return this._default}set default(t){this._default=t}_default;defaultRangeCounterClass;rangeValueChange=new Re;visibility=!1;thumbStyle;onchange(t){this.onChange(t.target.value)}onInput(){this.rangeValueChange.emit({value:this.value}),this.focusRangeInput()}constructor(t){this._cdRef=t}ngAfterViewInit(){this.thumbPositionUpdate()}focusRangeInput(){this.input.nativeElement.focus(),this.visibility=!0}blurRangeInput(){this.input.nativeElement.blur(),this.visibility=!1}thumbPositionUpdate(){const t=this.input.nativeElement,r=t.value,i=t.min?t.min:0,o=Number(100*(r-i)/((t.max?t.max:100)-i));this.value=r,this.thumbStyle={left:`calc(${o}% + (${8-.15*o}px))`}}onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t,this._cdRef.markForCheck(),setTimeout(()=>{this.thumbPositionUpdate()},0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static ngAcceptInputType_default;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)(D(Vu))};static \u0275cmp=Bn({type:n,selectors:[["mdb-range"]],viewQuery:function(r,i){if(1&r&&(Do(Nbe,5),Do(Fbe,5),Do(Lbe,5)),2&r){let s;Li(s=Vi())&&(i.input=s.first),Li(s=Vi())&&(i.thumb=s.first),Li(s=Vi())&&(i.thumbValue=s.first)}},hostBindings:function(r,i){1&r&&It("change",function(o){return i.onchange(o)})("input",function(){return i.onInput()})},inputs:{id:"id",required:"required",name:"name",value:"value",disabled:"disabled",label:"label",min:"min",max:"max",step:"step",default:"default",defaultRangeCounterClass:"defaultRangeCounterClass"},outputs:{rangeValueChange:"rangeValueChange"},features:[je([Bbe])],decls:10,vars:14,consts:[["for","id",1,"form-label"],[1,"range"],["type","range","min","0","max","5",1,"form-range",3,"name","disabled","id","min","max","step","value","input","blur","mousedown","mouseup","touchstart","touchend"],["input",""],[1,"thumb",3,"ngStyle","ngClass"],["thumb",""],[1,"thumb-value"],["thumbValue",""]],template:function(r,i){1&r&&(M(0,"label",0),O(1),R(),M(2,"div",1)(3,"input",2,3),It("input",function(){return i.thumbPositionUpdate()})("blur",function(){return i.blurRangeInput()})("mousedown",function(){return i.focusRangeInput()})("mouseup",function(){return i.blurRangeInput()})("touchstart",function(){return i.focusRangeInput()})("touchend",function(){return i.blurRangeInput()}),R(),M(5,"span",4,5)(7,"span",6,7),O(9),R()()()),2&r&&(zn(1),vp(i.label),zn(2),or("name",i.name)("disabled",i.disabled)("id",i.id)("min",i.min)("max",i.max)("step",i.step)("value",i.value)("id",i.id),zn(2),or("ngStyle",i.thumbStyle)("ngClass",Zb(12,Vbe,i.visibility)),zn(4),vp(i.value))},dependencies:[Wp,SL],encapsulation:2,changeDetection:0})}return n})(),jbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,W_]})}return n})(),$be=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({})}return n})(),Hbe=(()=>{class n{scrollSpys=[];activeSubject=new He;active$=this.activeSubject;addScrollspy(t){this.scrollSpys.push(t)}removeScrollspy(t){const r=this.scrollSpys.findIndex(i=>i.id===t);this.scrollSpys.splice(r,1)}updateActiveState(t,r){const i=this.scrollSpys.find(o=>o.id===t);if(!i)return;const s=i.links.find(o=>o.id===r);this.setActiveLink(s)}removeActiveState(t,r){const i=this.scrollSpys.find(o=>o.id===t);if(!i)return;const s=i.links.find(o=>o.id===r);s&&(s.active=!1,s.detectChanges())}setActiveLink(t){t&&(t.active=!0,t.detectChanges(),this.activeSubject.next(t))}removeActiveLinks(t){const r=this.scrollSpys.find(i=>i.id===t);r&&r.links.forEach(i=>{i.active=!1,i.detectChanges()})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),zbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[Hbe]})}return n})();new N("MdbTabContentDirective"),new N("MdbTabTitleDirective");let Ybe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,KM]})}return n})(),Xbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn,Y_]})}return n})(),Zbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({imports:[Wn]})}return n})(),Jbe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({imports:[Wn,rye,AE,oye,lve,aV,Qve,Yve,Mbe,xbe,Pbe,jbe,$be,zbe,Ybe,Xbe,Zbe]})}return n})();class xG{}class ewe{}const ls="*";function RG(n,e=null){return{type:2,steps:n,options:e}}function kG(n){return{type:6,styles:n,offset:null}}class zh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class OG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function PG(n){return new E(3e3,!1)}function so(n){switch(n.length){case 0:return new zh;case 1:return n[0];default:return new OG(n)}}function NG(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case ls:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||s.push(d),a=d,o=l}),i.length)throw function Cwe(n){return new E(3502,!1)}();return s}function JM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ex(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ex(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ex(t,"destroy",n)))}}function ex(n,e,t){const s=tx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function tx(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function hr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function FG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Nwe=(()=>typeof document>"u"?null:document.documentElement)();function nx(n){const e=n.parentNode||n.host||null;return e===Nwe?null:e}let ba=null,LG=!1;function VG(n,e){for(;e;){if(e===n)return!0;e=nx(e)}return!1}function BG(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let UG=(()=>{class n{validateStyleProperty(t){return function Lwe(n){ba||(ba=function Vwe(){return typeof document<"u"?document.body:null}()||{},LG=!!ba.style&&"WebkitAppearance"in ba.style);let e=!0;return ba.style&&!function Fwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ba.style,!e&&LG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ba.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return VG(t,r)}getParentElement(t){return nx(t)}query(t,r,i){return BG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new zh(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),rx=(()=>{class n{static#e=this.NOOP=new UG}return n})();const Bwe=1e3,ix="ng-enter",Z_="ng-leave",J_="ng-trigger",ey=".ng-trigger",$G="ng-animating",sx=".ng-animating";function us(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ox(parseFloat(e[1]),e[2])}function ox(n,e){return"s"===e?n*Bwe:n}function ty(n,e,t){return n.hasOwnProperty("duration")?n:function jwe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(PG()),{duration:0,delay:0,easing:""};i=ox(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=ox(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function twe(){return new E(3100,!1)}()),a=!0),s<0&&(e.push(function nwe(){return new E(3101,!1)}()),a=!0),a&&e.splice(c,0,PG())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Gh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function HG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function oo(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Ii(n,e,t){e.forEach((r,i)=>{const s=cx(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function wa(n,e){e.forEach((t,r)=>{const i=cx(r);n.style[i]=""})}function qh(n){return Array.isArray(n)?1==n.length?n[0]:RG(n):n}const ax=new RegExp("{{\\s*(.+?)\\s*}}","g");function GG(n){let e=[];if("string"==typeof n){let t;for(;t=ax.exec(n);)e.push(t[1]);ax.lastIndex=0}return e}function Wh(n,e,t){const r=n.toString(),i=r.replace(ax,(s,o)=>{let a=e[o];return null==a&&(t.push(function iwe(n){return new E(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function ny(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const zwe=/-+([a-z0-9])/g;function cx(n){return n.replace(zwe,(...e)=>e[1].toUpperCase())}function fr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function swe(n){return new E(3004,!1)}()}}function qG(n,e){return window.getComputedStyle(n)[e]}const ry="*";function Wwe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Kwe(n,e,t){if(":"==n[0]){const c=function Qwe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function vwe(n){return new E(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ywe(n){return new E(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(WG(i,o));"<"==s[0]&&!(i==ry&&o==ry)&&e.push(WG(o,i))}(r,t,e)):t.push(n),t}const iy=new Set(["true","1"]),sy=new Set(["false","0"]);function WG(n,e){const t=iy.has(n)||sy.has(n),r=iy.has(e)||sy.has(e);return(i,s)=>{let o=n==ry||n==i,a=e==ry||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?iy.has(n):sy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?iy.has(e):sy.has(e)),o&&a}}const Ywe=new RegExp("s*:selfs*,?","g");function lx(n,e,t,r){return new Xwe(n).build(e,t,r)}class Xwe{constructor(e){this._driver=e}build(e,t,r){const i=new eEe(t);return this._resetContextStyleTimingState(i),fr(this,qh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function awe(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function cwe(){return new E(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{GG(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(ny(s.values()),t.errors.push(function lwe(n,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fr(this,qh(e.animation),t);return{type:1,matchers:Wwe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ea(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fr(this,r,t)),options:Ea(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=fr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Ea(e.options)}}visitAnimate(e,t){const r=function nEe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ux(ty(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ux(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=ty(t,e);return ux(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:kG({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=kG(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ls?r.push(a):t.errors.push(new E(3002,!1)):r.push(HG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function dwe(n,e,t,r,i){return new E(3010,!1)}()),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:i}),t.options&&function Hwe(n,e,t){const r=e.params||{},i=GG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rwe(n){return new E(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hwe(){return new E(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let I=null!=y.offset?y.offset:function tEe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),k=0;return null!=I&&(s++,k=y.offset=I),c=c||k<0||k>1,a=a||k<l,l=k,o.push(k),y});c&&t.errors.push(function fwe(){return new E(3012,!1)}()),a&&t.errors.push(function pwe(){return new E(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function gwe(){return new E(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((v,y)=>{const I=h>0?y==f?1:h*y:o[y],k=I*_;t.currentTime=p+g.delay+k,g.duration=k,this._validateStyleAst(v,t),v.offset=I,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:fr(this,qh(e.animation),t),options:Ea(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ea(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ea(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Zwe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ywe,"")),n=n.replace(/@\*/g,ey).replace(/@\w+/g,t=>ey+"-"+t.slice(1)).replace(/:animating/g,sx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,hr(t.collectedStyles,t.currentQuerySelector,new Map);const a=fr(this,qh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ea(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mwe(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ty(e.timings,t.errors,!0);return{type:12,animation:fr(this,qh(e.animation),t),timings:r,options:null}}}class eEe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ea(n){return n?(n=Gh(n)).params&&(n.params=function Jwe(n){return n?Gh(n):null}(n.params)):n={},n}function ux(n,e,t){return{duration:n,delay:e,easing:t}}function dx(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class oy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sEe=new RegExp(":enter","g"),aEe=new RegExp(":leave","g");function hx(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new cEe).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class cEe{buildKeyframes(e,t,r,i,s,o,a,c,l,u=[]){l=l||new oy;const d=new fx(e,t,l,i,s,u,[]);d.options=c;const h=c.delay?us(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),fr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[dx(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:us(Wh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?us(r.duration):null,a=null!=r.delay?us(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),fr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ay);const o=us(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>fr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?us(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),fr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ty(t.params?Wh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?us(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ay);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(c=d.currentTimeline),fr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;fr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const ay={};class fx{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ay,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new cy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=us(r.duration)),null!=r.delay&&(i.delay=us(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Wh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ay,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new lEe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(sEe,"."+this._enterClassName)).replace(aEe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function _we(n){return new E(3014,!1)}()),a}}class cy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ls),this._currentKeyframe.set(t,ls);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function uEe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ls)}else oo(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=Wh(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ls),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=oo(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===ls&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?ny(e.values()):[],o=t.size?ny(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return dx(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class lEe extends cy{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=oo(e[0]);c.set("offset",0),s.push(c);const l=oo(e[0]);l.set("offset",YG(a)),s.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=oo(e[d]);const f=h.get("offset");h.set("offset",YG((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return dx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function YG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class px{}const dEe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hEe extends px{normalizePropertyName(e,t){return cx(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(dEe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function owe(n,e){return new E(3005,!1)}())}return o+s}}function XG(n,e,t,r,i,s,o,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const gx={};class ZG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function fEe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||gx,p=this.buildStyles(r,a&&a.params||gx,d),g=c&&c.params||gx,_=this.buildStyles(i,g,d),v=new Set,y=new Map,I=new Map,k="void"===i,H={params:pEe(g,h),delay:this.ast.options?.delay},W=u?[]:hx(e,t,this.ast.animation,s,o,p,_,H,l,d);let le=0;if(W.forEach(Rt=>{le=Math.max(Rt.duration+Rt.delay,le)}),d.length)return XG(t,this._triggerName,r,i,k,p,_,[],[],y,I,le,d);W.forEach(Rt=>{const gr=Rt.element,gy=hr(y,gr,new Set);Rt.preStyleProps.forEach(Ca=>gy.add(Ca));const Zh=hr(I,gr,new Set);Rt.postStyleProps.forEach(Ca=>Zh.add(Ca)),gr!==t&&v.add(gr)});const Qe=ny(v.values());return XG(t,this._triggerName,r,i,k,p,_,W,Qe,y,I,le)}}function pEe(n,e){const t=Gh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class gEe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Gh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Wh(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class _Ee{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new gEe(i.style,i.options&&i.options.params||{},r))}),JG(this.states,"true","1"),JG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ZG(e,i,this.states))}),this.fallbackTransition=function yEe(n,e,t){return new ZG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function JG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vEe=new oy;class bEe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=lx(this._driver,t,r,[]);if(r.length)throw function Iwe(n){return new E(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=NG(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=hx(this._driver,t,s,ix,Z_,new Map,new Map,r,vEe,i),o.forEach(u=>{const d=hr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Dwe(){return new E(3300,!1)}()),o=[]),i.length)throw function Swe(n){return new E(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ls))})});const l=so(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Twe(n){return new E(3301,!1)}();return t}listen(e,t,r,i){const s=tx(t,"","","");return JM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const eq="ng-animate-queued",mx="ng-animate-disabled",DEe=[],tq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SEe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class _x{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function xEe(n){return n??null}(r?e.value:e),r){const s=Gh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Kh="void",yx=new _x(Kh);class TEe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Awe(n,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function Mwe(n){return new E(3303,!1)}();if(!function REe(n){return"start"==n||"done"==n}(r))throw function xwe(n,e){return new E(3400,!1)}();const s=hr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=hr(this._engine.statesByElement,e,new Map);return a.has(t)||(Rr(e,J_),Rr(e,J_+"-"+t),a.set(t,yx)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Rwe(n){return new E(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new vx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rr(e,J_),Rr(e,J_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new _x(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=yx),l.value!==Kh&&c.value===l.value){if(!function PEe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const g=[],_=s.matchStyles(c.value,c.params,g),v=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{wa(e,_),Ii(e,v)})}return}const h=hr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(Rr(e,eq),o.onStart(()=>{Ol(e,eq)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ey,!0);r.forEach(i=>{if(i[Qr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,Kh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&so(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||yx,u=new _x(Kh),d=new vx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Qr];(!s||s===tq)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Rr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=tx(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,JM(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class AEe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new TEe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(ly(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ly(t))return;const s=t[Qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rr(e,mx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ol(e,mx))}removeNode(e,t,r){if(ly(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Qr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ly(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ey,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return so(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Qr];if(t&&t.setForRemoval){if(e[Qr]=tq,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?so(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function kwe(n){return new E(3402,!1)}()}_flushAnimations(e,t){const r=new oy,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const K=this.driver.query(z,".ng-animate-queued",!0);for(let X=0;X<K.length;X++)u.add(K[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=iq(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((z,K)=>{const X=ix+g++;p.set(K,X),z.forEach(De=>Rr(De,X))});const _=[],v=new Set,y=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const K=this.collectedLeaveElements[z],X=K[Qr];X&&X.setForRemoval&&(_.push(K),v.add(K),X.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(De=>v.add(De)):y.add(K))}const I=new Map,k=iq(h,Array.from(v));k.forEach((z,K)=>{const X=Z_+g++;I.set(K,X),z.forEach(De=>Rr(De,X))}),e.push(()=>{f.forEach((z,K)=>{const X=p.get(K);z.forEach(De=>Ol(De,X))}),k.forEach((z,K)=>{const X=I.get(K);z.forEach(De=>Ol(De,X))}),_.forEach(z=>{this.processLeaveNode(z)})});const H=[],W=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(X=>{const De=X.player,Qt=X.element;if(H.push(De),this.collectedEnterElements.length){const In=Qt[Qr];if(In&&In.setForMove){if(In.previousTriggersValues&&In.previousTriggersValues.has(X.triggerName)){const Ia=In.previousTriggersValues.get(X.triggerName),kr=this.statesByElement.get(X.element);if(kr&&kr.has(X.triggerName)){const my=kr.get(X.triggerName);my.value=Ia,kr.set(X.triggerName,my)}}return void De.destroy()}}const Si=!d||!this.driver.containsElement(d,Qt),mr=I.get(Qt),lo=p.get(Qt),lt=this._buildInstruction(X,r,lo,mr,Si);if(lt.errors&&lt.errors.length)return void W.push(lt);if(Si)return De.onStart(()=>wa(Qt,lt.fromStyles)),De.onDestroy(()=>Ii(Qt,lt.toStyles)),void i.push(De);if(X.isFallbackTransition)return De.onStart(()=>wa(Qt,lt.fromStyles)),De.onDestroy(()=>Ii(Qt,lt.toStyles)),void i.push(De);const Wq=[];lt.timelines.forEach(In=>{In.stretchStartingKeyframe=!0,this.disabledNodes.has(In.element)||Wq.push(In)}),lt.timelines=Wq,r.append(Qt,lt.timelines),o.push({instruction:lt,player:De,element:Qt}),lt.queriedElements.forEach(In=>hr(a,In,[]).push(De)),lt.preStyleProps.forEach((In,Ia)=>{if(In.size){let kr=c.get(Ia);kr||c.set(Ia,kr=new Set),In.forEach((my,Ux)=>kr.add(Ux))}}),lt.postStyleProps.forEach((In,Ia)=>{let kr=l.get(Ia);kr||l.set(Ia,kr=new Set),In.forEach((my,Ux)=>kr.add(Ux))})});if(W.length){const z=[];W.forEach(K=>{z.push(function Owe(n,e){return new E(3505,!1)}())}),H.forEach(K=>K.destroy()),this.reportError(z)}const le=new Map,Qe=new Map;o.forEach(z=>{const K=z.element;r.has(K)&&(Qe.set(K,K),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,le))}),i.forEach(z=>{const K=z.element;this._getPreviousPlayers(K,!1,z.namespaceId,z.triggerName,null).forEach(De=>{hr(le,K,[]).push(De),De.destroy()})});const Rt=_.filter(z=>oq(z,c,l)),gr=new Map;rq(gr,this.driver,y,l,ls).forEach(z=>{oq(z,c,l)&&Rt.push(z)});const Zh=new Map;f.forEach((z,K)=>{rq(Zh,this.driver,new Set(z),c,"!")}),Rt.forEach(z=>{const K=gr.get(z),X=Zh.get(z);gr.set(z,new Map([...K?.entries()??[],...X?.entries()??[]]))});const Ca=[],Gq=[],qq={};o.forEach(z=>{const{element:K,player:X,instruction:De}=z;if(r.has(K)){if(u.has(K))return X.onDestroy(()=>Ii(K,De.toStyles)),X.disabled=!0,X.overrideTotalTime(De.totalTime),void i.push(X);let Qt=qq;if(Qe.size>1){let mr=K;const lo=[];for(;mr=mr.parentNode;){const lt=Qe.get(mr);if(lt){Qt=lt;break}lo.push(mr)}lo.forEach(lt=>Qe.set(lt,Qt))}const Si=this._buildAnimation(X.namespaceId,De,le,s,Zh,gr);if(X.setRealPlayer(Si),Qt===qq)Ca.push(X);else{const mr=this.playersByElement.get(Qt);mr&&mr.length&&(X.parentPlayer=so(mr)),i.push(X)}}else wa(K,De.fromStyles),X.onDestroy(()=>Ii(K,De.toStyles)),Gq.push(X),u.has(K)&&i.push(X)}),Gq.forEach(z=>{const K=s.get(z.element);if(K&&K.length){const X=so(K);z.setRealPlayer(X)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<_.length;z++){const K=_[z],X=K[Qr];if(Ol(K,Z_),X&&X.hasAnimation)continue;let De=[];if(a.size){let Si=a.get(K);Si&&Si.length&&De.push(...Si);let mr=this.driver.query(K,sx,!0);for(let lo=0;lo<mr.length;lo++){let lt=a.get(mr[lo]);lt&&lt.length&&De.push(...lt)}}const Qt=De.filter(Si=>!Si.destroyed);Qt.length?kEe(this,K,Qt):this.processLeaveNode(K)}return _.length=0,Ca.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const K=this.players.indexOf(z);this.players.splice(K,1)}),z.play()}),Ca}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==Kh;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==s,d=hr(r,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}wa(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Qr];if(_&&_.removedBeforeQueried)return new zh(p.duration,p.delay);const v=g!==c,y=function OEe(n){const e=[];return sq(n,e),e}((r.get(g)||DEe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===g),I=s.get(g),k=o.get(g),H=NG(this._normalizer,p.keyframes,I,k),W=this._buildPlayer(p,H,y);if(p.subTimeline&&i&&d.add(g),v){const le=new vx(e,a,g);le.setRealPlayer(W),l.push(le)}return W});l.forEach(p=>{hr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function MEe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Rr(p,$G));const f=so(h);return f.onDestroy(()=>{u.forEach(p=>Ol(p,$G)),Ii(c,t.toStyles)}),d.forEach(p=>{hr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zh(e.duration,e.delay)}}class vx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>JM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ly(n){return n&&1===n.nodeType}function nq(n,e){const t=n.style.display;return n.style.display=e??"none",t}function rq(n,e,t,r,i){const s=[];t.forEach(c=>s.push(nq(c)));const o=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[Qr]=SEe,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>nq(c,s[a++])),o}function iq(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function Rr(n,e){n.classList?.add(e)}function Ol(n,e){n.classList?.remove(e)}function kEe(n,e,t){so(t).onDone(()=>n.processLeaveNode(e))}function sq(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof OG?sq(r.players,e):e.push(r)}}function oq(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class uy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new AEe(e,t,r),this._timelineEngine=new bEe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],u=lx(this._driver,s,c,[]);if(c.length)throw function Ewe(n,e){return new E(3404,!1)}();a=function mEe(n,e,t){return new _Ee(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=FG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=FG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let FEe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ii(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ii(this._element,this._initialStyles),this._endStyles&&(Ii(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),Ii(this._element,this._initialStyles),this._state=3)}}return n})();function bx(n){let e=null;return n.forEach((t,r)=>{(function LEe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class aq{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:qG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VEe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VG(e,t)}getParentElement(e){return nx(e)}query(e,t,r){return BG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=o.filter(f=>f instanceof aq);(function Gwe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function $we(n){return n.length?n[0]instanceof Map?n:n.map(e=>HG(e)):[]}(t).map(f=>oo(f));d=function qwe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,qG(n,a)))}}return e}(e,d,l);const h=function NEe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bx(e[0]),e.length>1&&(r=bx(e[e.length-1]))):e instanceof Map&&(t=bx(e)),t||r?new FEe(n,t,r):null}(e,d);return new aq(e,d,c,h)}}let BEe=(()=>{class n extends xG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:vr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?RG(t):t;return cq(this._renderer,null,r,"register",[i]),new UEe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(C(gu),C(Ue))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();class UEe extends ewe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jEe(this._id,e,t||{},this._renderer)}}class jEe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cq(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cq(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const lq="@.disabled";let $Ee=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new uq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(c),new HEe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(C(gu),C(uy),C(ne))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();class uq{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==lq?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class HEe extends uq{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lq?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function zEe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function GEe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let qEe=(()=>{class n extends uy{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(C(Ue),C(rx),C(px),C(Is))};static#t=this.\u0275prov=V({token:n,factory:n.\u0275fac})}return n})();const dq=[{provide:xG,useClass:BEe},{provide:px,useFactory:function WEe(){return new hEe}},{provide:uy,useClass:qEe},{provide:gu,useFactory:function KEe(n,e,t){return new $Ee(n,e,t)},deps:[Xw,uy,ne]}],wx=[{provide:rx,useFactory:()=>new VEe},{provide:Qv,useValue:"BrowserAnimations"},...dq],hq=[{provide:rx,useClass:UG},{provide:Qv,useValue:"NoopAnimations"},...dq];let QEe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?hq:wx}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n});static#n=this.\u0275inj=he({providers:wx,imports:[qL]})}return n})();const YEe_firebase={projectId:"tryon-web-4454d",appId:"1:506833597546:web:25b7e6ed143466bedc4613",storageBucket:"tryon-web-4454d.appspot.com",apiKey:"AIzaSyAUp9IOKrJvvC4RTApp1pVVvbc1qyD3WrU",authDomain:"tryon-web-4454d.firebaseapp.com",messagingSenderId:"506833597546",measurementId:"G-S42F2HZEBN"};class Qh{constructor(e){return e}}const fq="analytics",pq=Ug.async,eCe=Tt(Vce,!0),tCe=Tt(jB,!0),nCe=Tt(jce,!0);let Ex=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Fe("angularfire",Qi.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),pq().then(()=>{const o=i.get(Qh);o?this.disposables=[vj(t).subscribe(a=>{nCe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(C(Rd),C(ne),C(Xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const gq="firebase_screen_id",Cx="outlet",Yh="screen_class",mq="screen_name";let pCe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ix={},gCe=n=>{const e=[n[Yh],n[Cx]].join("#");if(Ix.hasOwnProperty(e))return Ix[e];{const t=pCe++;return Ix[e]=t,t}},mCe=(n,e,t)=>n.events.pipe(On(i=>i instanceof C2)).pipe(er(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!c)return Y(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[mq]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[Cx]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=c.component;if(h){if(h===bE){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return Y(Object.assign(Object.assign({},d),{[Yh]:h}));if(h){const f=t.resolveComponentFactory(h);return Y(Object.assign(Object.assign({},d),{[Yh]:f.selector}))}return Y(null)}),On(i=>!!i),Te(i=>Object.assign({firebase_screen_class:i[Yh],[gq]:gCe(i)},i)),function XEe(n,e,t,r){return st((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const h=new Qx(s,p=>{try{const g=n(p);let _=a.get(g);if(!_){a.set(g,_=r?r():new He);const v=function f(p,g){const _=new Be(v=>{u++;const y=g.subscribe(v);return()=>{y.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return _.key=p,_}(g,_);if(s.next(v),t){const y=Ye(_,()=>{_.complete(),y?.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(fn(t(v)).subscribe(y))}}_.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[Cx]),kt(i=>i.pipe(fR((s,o)=>JSON.stringify(s)===JSON.stringify(o)),eg(void 0),function ZEe(){return st((n,e)=>{let t,r=!1;n.subscribe(Ye(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),Te(([s,o])=>s?Object.assign({firebase_previous_class:s[Yh],firebase_previous_screen:s[mq],firebase_previous_id:s[gq]},o):o))));let _q=(()=>{class n{constructor(t,r,i,s,o,a){Fe("angularfire",Qi.full,"screen-tracking"),pq().then(()=>{const c=a.get(Qh);!t||!c||s.runOutsideAngular(()=>{this.disposable=mCe(t,r,i).pipe(er(l=>Sy(this,void 0,void 0,function*(){return o&&(yield o.initialized),tCe(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(Qn,8),C(eE,8),C(ws),C(ne),C(Ex,8),C(Xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Dx=new N("angularfire2.analytics-instances");function yCe(n){return(e,t)=>{if(!Ug.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Qh(r)}}const vCe={provide:class JEe{constructor(){return Bc(fq)}},deps:[[new yt,Dx]]},bCe={provide:Qh,useFactory:function _Ce(n,e){if(!Ug.sync())return null;const t=Vc(fq,n,e);return t&&new Qh(t)},deps:[[new yt,Dx],Yi]};let wCe=(()=>{class n{constructor(t,r){Fe("angularfire",Qi.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(C(_q,8),C(Ex,8))},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[bCe,vCe,{provide:Fu,useValue:Ug.async,multi:!0}]}),n})();function ECe(n,...e){return{ngModule:wCe,providers:[{provide:Dx,useFactory:yCe(n),multi:!0,deps:[ne,Xe,jc,$c,...e]}]}}class Sx{constructor(e){return e}}const yq="messaging",Tx=new N("angularfire2.messaging-instances");function DCe(n){return(e,t)=>{if(!Bg.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Sx(r)}}const SCe={provide:class CCe{constructor(){return Bc(yq)}},deps:[[new yt,Tx]]},TCe={provide:Sx,useFactory:function ICe(n,e){if(!Bg.sync())return null;const t=Vc(yq,n,e);return t&&new Sx(t)},deps:[[new yt,Tx],Yi]};let ACe=(()=>{class n{constructor(){Fe("angularfire",Qi.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[TCe,SCe,{provide:Fu,useValue:Bg.async,multi:!0}]}),n})();function MCe(n,...e){return{ngModule:ACe,providers:[{provide:Tx,useFactory:DCe(n),multi:!0,deps:[ne,Xe,jc,$c,...e]}]}}const xCe=Tt(rce,!0),vq="@firebase/performance",Ax="0.6.4",bq=Ax,Mx="FB-PERF-TRACE-MEASURE",Dq="@firebase/performance/config",Sq="@firebase/performance/configexpire",Tq="Performance",hn=new zr("performance",Tq,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Di=new Fo(Tq);let xx,Aq,Mq,kx;Di.logLevel=Ee.INFO;class Kt{constructor(e){if(this.window=e,!e)throw hn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&Ag()?!!Rs()||(Di.info("IndexedDB is not supported by current browswer"),!1):(Di.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===xx&&(xx=new Kt(Aq)),xx}}function Rx(){return Mq}function xq(n,e){const t=n.length-e.length;if(t<0||t>1)throw hn.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class pr{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xq("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xq("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===kx&&(kx=new pr),kx}}var Xh=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN",n}(Xh||{});const VCe=["firebase_","google_","ga_"],BCe=new RegExp("^[a-zA-Z]\\w*$");function $Ce(){const n=Kt.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function Rq(){switch(Kt.getInstance().document.visibilityState){case"visible":return Xh.VISIBLE;case"hidden":return Xh.HIDDEN;default:return Xh.UNKNOWN}}function HCe(){const e=Kt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function kq(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw hn.create("no app id");return t}const KCe="0.0.1",Yr={loggingEnabled:!0},QCe="FIREBASE_INSTALLATIONS_AUTH";const JCe="Could not fetch config, will use default configs";function Oq(n){if(!n)return n;const e=pr.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Yr.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Yr.logSource&&(e.logSource=Yr.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Yr.logEndPointUrl&&(e.logEndPointUrl=Yr.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Yr.transportKey&&(e.transportKey=Yr.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Yr.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Yr.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Yr.tracesSamplingRate&&(e.tracesSamplingRate=Yr.tracesSamplingRate),e.logTraceAfterSampling=Pq(e.tracesSamplingRate),e.logNetworkAfterSampling=Pq(e.networkRequestsSamplingRate),n}function Pq(n){return Math.random()<=n}let Px,Ox=1;function Nq(n){return Ox=2,Px=Px||function rIe(n){return function iIe(){const n=Kt.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function FCe(n){const e=n.getId();return e.then(t=>{Mq=t}),e}(n.installations)).then(e=>function YCe(n,e){const t=function XCe(){const n=Kt.getInstance().localStorage;if(!n)return;const e=n.getItem(Sq);if(!e||!function tIe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(Dq);if(t)try{return JSON.parse(t)}catch{return}}();return t?(Oq(t),Promise.resolve()):function eIe(n,e){return function LCe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function qCe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw hn.create("no project id");return t}(n.app),i=function WCe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw hn.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${QCe} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:kq(n.app),app_version:bq,sdk_version:KCe})});return fetch(o).then(a=>{if(a.ok)return a.json();throw hn.create("RC response not ok")})}).catch(()=>{Di.info(JCe)})}(n,e).then(Oq).then(r=>function ZCe(n){const e=Kt.getInstance().localStorage;!n||!e||(e.setItem(Dq,JSON.stringify(n)),e.setItem(Sq,String(Date.now()+60*pr.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>Fq(),()=>Fq())}(n),Px}function Fq(){Ox=3}let Fx,hy=3,ao=[],Vq=!1;function fy(n){setTimeout(()=>{if(0!==hy){if(!ao.length)return fy(1e4);!function cIe(){const n=ao.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function lIe(n,e){return function uIe(n){const e=pr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Di.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(ao=[...e,...ao],Di.info("Retry transport request later.")),hy=3,fy(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:pr.getInstance().logSource,log_event:e},n).catch(()=>{ao=[...n,...ao],hy--,Di.info(`Tries left: ${hy}.`),fy(1e4)})}()}},n)}function Bq(n,e){Fx||(Fx=function hIe(n){return(...e)=>{!function dIe(n){if(!n.eventTime||!n.message)throw hn.create("invalid cc log");ao=[...ao,n]}({message:n(...e),eventTime:Date.now()})}}(pIe)),Fx(n,e)}function py(n){const e=pr.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||Kt.getInstance().requiredApisAvailable()&&(n.isAuto&&Rq()!==Xh.VISIBLE||(function nIe(){return 3===Ox}()?Lx(n):Nq(n.performanceController).then(()=>Lx(n),()=>Lx(n))))}function Lx(n){if(!Rx())return;const e=pr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>Bq(n,1),0)}function pIe(n,e){return 0===e?function gIe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:Uq(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function mIe(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:Uq(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function Uq(n){return{google_app_id:kq(n),app_instance_id:Rx(),web_app_info:{sdk_version:bq,page_url:Kt.getInstance().getUrl(),service_worker_status:$Ce(),visibility_state:Rq(),effective_connection_type:HCe()},application_process_state:0}}const vIe=["_fp","_fcp","_fid"];class co{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Kt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${Mx}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw hn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw hn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),py(this)}record(e,t,r){if(e<=0)throw hn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw hn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));py(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function bIe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&vIe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw hn.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function wIe(n){const e=Math.floor(n);return e<n&&Di.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function zCe(n){return!(0===n.length||n.length>40||VCe.some(t=>n.startsWith(t))||!n.match(BCe))}(e),i=function GCe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw hn.create("invalid attribute name",{attributeName:e});if(!i)throw hn.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Kt.getInstance().getUrl();if(!s)return;const o=new co(e,"_wt_"+s,!0),a=Math.floor(1e3*Kt.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}py(o)}static createUserTimingTrace(e,t){py(new co(e,t,!1,t))}}function jq(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Kt.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function fIe(n){const e=pr.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>Bq(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function $q(n){Rx()&&(setTimeout(()=>function IIe(n){const e=Kt.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{co.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),co.createOobTrace(n,t,r,s))})}else co.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function CIe(n){const e=Kt.getInstance(),t=e.getEntriesByType("resource");for(const r of t)jq(n,r);e.setupObserver("resource",r=>jq(n,r))}(n),0),setTimeout(()=>function DIe(n){const e=Kt.getInstance(),t=e.getEntriesByType("measure");for(const r of t)Hq(n,r);e.setupObserver("measure",r=>Hq(n,r))}(n),0))}function Hq(n,e){const t=e.name;t.substring(0,Mx.length)!==Mx&&co.createUserTimingTrace(n,t)}class SIe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Kt.getInstance().requiredApisAvailable()?Pc().then(t=>{t&&(function aIe(){Vq||(fy(5500),Vq=!0)}(),Nq(this).then(()=>$q(this),()=>$q(this)),this.initialized=!0)}).catch(t=>{Di.info(`Environment doesn't support IndexedDB: ${t}`)}):Di.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){pr.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return pr.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){pr.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return pr.getInstance().dataCollectionEnabled}}function AIe(n=Nc()){return di(n=rt(n),"performance").getImmediate()}const MIe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw hn.create("FB not default");if(typeof window>"u")throw hn.create("no window");!function NCe(n){Aq=n}(window);const i=new SIe(t,r);return i._init(e),i};!function xIe(){_n(new rn("performance",MIe,"PUBLIC")),Fe(vq,Ax),Fe(vq,Ax,"esm2017")}();class Vx{constructor(e){return e}}const zq="performance",Bx=new N("angularfire2.performance-instances");function OIe(n){return(e,t,r)=>{if(!Hw(t))return null;const i=e.runOutsideAngular(()=>n(r));return new Vx(i)}}const PIe={provide:class RIe{constructor(){return Bc(zq)}},deps:[[new yt,Bx]]},NIe={provide:Vx,useFactory:function kIe(n,e,t){if(!Hw(t))return null;const r=Vc(zq,n,e);return r&&new Vx(r)},deps:[[new yt,Bx],Yi,Fr]};let FIe=(()=>{class n{constructor(){Fe("angularfire",Qi.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fe({type:n}),n.\u0275inj=he({providers:[NIe,PIe]}),n})();function LIe(n,...e){return{ngModule:FIe,providers:[{provide:Bx,useFactory:OIe(n),multi:!0,deps:[ne,Fr,Xe,jc,$c,...e]}]}}const VIe=Tt(AIe,!0);let BIe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=fe({type:n,bootstrap:[eye]});static#n=this.\u0275inj=he({providers:[_q,Ex],imports:[qL,Xre,Jbe,J_e,QEe,nle(()=>rle(YEe_firebase)),ECe(()=>eCe()),Hhe(()=>zhe()),z_e(()=>W_e()),MCe(()=>xCe()),LIe(()=>VIe())]})}return n})();Jee().bootstrapModule(BIe).catch(n=>console.error(n))}},_e=>{_e(_e.s=145)}]);