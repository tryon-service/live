"use strict";(self.webpackChunktryon=self.webpackChunktryon||[]).push([[179],{219:()=>{function ye(n){return"function"==typeof n}function jl(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const gf=jl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Oa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Jt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof gf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{tR(s)}catch(o){e=e??[],o instanceof gf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new gf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tR(e);else{if(e instanceof Jt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oa(t,e)}remove(e){const{_finalizers:t}=this;t&&Oa(t,e),e instanceof Jt&&e._removeParent(this)}}Jt.EMPTY=(()=>{const n=new Jt;return n.closed=!0,n})();const Jx=Jt.EMPTY;function eR(n){return n instanceof Jt||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function tR(n){ye(n)?n():n.unsubscribe()}const vo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mf={setTimeout(n,e,...t){const{delegate:r}=mf;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=mf;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nR(n){mf.setTimeout(()=>{const{onUnhandledError:e}=vo;if(!e)throw n;e(n)})}function Ry(){}const uq=ky("C",void 0,void 0);function ky(n,e,t){return{kind:n,value:e,error:t}}let bo=null;function _f(n){if(vo.useDeprecatedSynchronousErrorHandling){const e=!bo;if(e&&(bo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=bo;if(bo=null,t)throw r}}else n()}class Oy extends Jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eR(e)&&e.add(this)):this.destination=_q}static create(e,t,r){return new $l(e,t,r)}next(e){this.isStopped?Ny(function hq(n){return ky("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ny(function dq(n){return ky("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ny(uq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pq=Function.prototype.bind;function Py(n,e){return pq.call(n,e)}class gq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yf(r)}else yf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yf(t)}}}class $l extends Oy{constructor(e,t,r){let i;if(super(),ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&vo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Py(e.next,s),error:e.error&&Py(e.error,s),complete:e.complete&&Py(e.complete,s)}):i=e}this.destination=new gq(i)}}function yf(n){vo.useDeprecatedSynchronousErrorHandling?function fq(n){vo.useDeprecatedSynchronousErrorHandling&&bo&&(bo.errorThrown=!0,bo.error=n)}(n):nR(n)}function Ny(n,e){const{onStoppedNotification:t}=vo;t&&mf.setTimeout(()=>t(n,e))}const _q={closed:!0,next:Ry,error:function mq(n){throw n},complete:Ry},Fy="function"==typeof Symbol&&Symbol.observable||"@@observable";function ys(n){return n}function rR(n){return 0===n.length?ys:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function bq(n){return n&&n instanceof Oy||function vq(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}(n)&&eR(n)}(t)?t:new $l(t,r,i);return _f(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=iR(r))((i,s)=>{const o=new $l({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Fy](){return this}pipe(...t){return rR(t)(this)}toPromise(t){return new(t=iR(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function iR(n){var e;return null!==(e=n??vo.Promise)&&void 0!==e?e:Promise}const wq=jl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ze=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new sR(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wq}next(t){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Jx:(this.currentObservers=null,s.push(t),new Jt(()=>{this.currentObservers=null,Oa(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ue;return t.source=this,t}}return n.create=(e,t)=>new sR(e,t),n})();class sR extends ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Jx}}function oR(n){return ye(n?.lift)}function ot(n){return e=>{if(oR(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(n,e,t,r,i){return new aR(n,e,t,r,i)}class aR extends Oy{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(n,e){return ot((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{r.next(n.call(e,s,i++))}))})}function By(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Uy(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function vs(n){return this instanceof vs?(this.v=n,this):new vs(n)}function uR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function $y(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Hy=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dR(n){return ye(n?.then)}function hR(n){return ye(n[Fy])}function fR(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function pR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gR=function $q(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mR(n){return ye(n?.[gR])}function _R(n){return function lR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof vs?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield vs(t.read());if(i)return yield vs(void 0);yield yield vs(r)}}finally{t.releaseLock()}})}function yR(n){return ye(n?.getReader)}function mn(n){if(n instanceof Ue)return n;if(null!=n){if(hR(n))return function Hq(n){return new Ue(e=>{const t=n[Fy]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Hy(n))return function zq(n){return new Ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dR(n))return function Gq(n){return new Ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nR)})}(n);if(fR(n))return vR(n);if(mR(n))return function qq(n){return new Ue(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(yR(n))return function Wq(n){return vR(_R(n))}(n)}throw pR(n)}function vR(n){return new Ue(e=>{(function Kq(n,e){var t,r,i,s;return Uy(this,void 0,void 0,function*(){try{for(t=uR(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Nt(n,e,t=1/0){return ye(e)?Nt((r,i)=>Te((s,o)=>e(r,s,i,o))(mn(n(r,i))),t):("number"==typeof e&&(t=e),ot((r,i)=>function Qq(n,e,t,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let _=!1;mn(t(g,u++)).subscribe(Xe(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){const w=c.shift();o?Pi(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(Xe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Pa(n=1/0){return Nt(ys,n)}const ri=new Ue(n=>n.complete());function bR(n){return n&&ye(n.schedule)}function zy(n){return n[n.length-1]}function wR(n){return ye(zy(n))?n.pop():void 0}function Hl(n){return bR(zy(n))?n.pop():void 0}function vf(n,e=0){return ot((t,r)=>{t.subscribe(Xe(r,i=>Pi(r,n,()=>r.next(i),e),()=>Pi(r,n,()=>r.complete(),e),i=>Pi(r,n,()=>r.error(i),e)))})}function bf(n,e=0){return ot((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function CR(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ue(t=>{Pi(t,e,()=>{const r=n[Symbol.asyncIterator]();Pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ft(n,e){return e?function r6(n,e){if(null!=n){if(hR(n))return function Zq(n,e){return mn(n).pipe(bf(e),vf(e))}(n,e);if(Hy(n))return function e6(n,e){return new Ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(dR(n))return function Jq(n,e){return mn(n).pipe(bf(e),vf(e))}(n,e);if(fR(n))return CR(n,e);if(mR(n))return function t6(n,e){return new Ue(t=>{let r;return Pi(t,e,()=>{r=n[gR](),Pi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(n,e);if(yR(n))return function n6(n,e){return CR(_R(n),e)}(n,e)}throw pR(n)}(n,e):mn(n)}function ER(...n){const e=Hl(n),t=function Xq(n,e){return"number"==typeof zy(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?mn(r[0]):Pa(t)(Ft(r,e)):ri}class yr extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function X(...n){return Ft(n,Hl(n))}function IR(n={}){const{connector:e=(()=>new ze),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ot((g,_)=>{l++,!d&&!u&&h();const w=c=c??e();_.add(()=>{l--,0===l&&!d&&!u&&(a=Gy(p,i))}),w.subscribe(_),!o&&l>0&&(o=new $l({next:y=>w.next(y),error:y=>{d=!0,h(),a=Gy(f,t,y),w.error(y)},complete:()=>{u=!0,h(),a=Gy(f,r),w.complete()}}),mn(g).subscribe(o))})(s)}}function Gy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new $l({next:()=>{r.unsubscribe(),n()}});return mn(e(...t)).subscribe(r)}function tr(n,e){return ot((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Xe(r,c=>{i?.unsubscribe();let l=0;const u=s++;mn(n(c,u)).subscribe(i=Xe(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function SR(n,e=ys){return n=n??i6,ot((t,r)=>{let i,s=!0;t.subscribe(Xe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function i6(n,e){return n===e}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function wf(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Lt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Lt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const s6=Oe({__forward_ref__:Oe});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return Lt(this())},n}function ne(n){return Wy(n)?n():n}function Wy(n){return"function"==typeof n&&n.hasOwnProperty(s6)&&n.__forward_ref__===Pe}function Ky(n){return n&&!!n.\u0275providers}const DR="https://g.co/ng/security#xss";class I extends Error{constructor(e,t){super(function Cf(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function Qy(n,e){throw new I(-201,!1)}function vr(n,e){null==n&&function ee(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ef(n){return TR(n,Sf)||TR(n,AR)}function TR(n,e){return n.hasOwnProperty(e)?n[e]:null}function If(n){return n&&(n.hasOwnProperty(Yy)||n.hasOwnProperty(f6))?n[Yy]:null}const Sf=Oe({\u0275prov:Oe}),Yy=Oe({\u0275inj:Oe}),AR=Oe({ngInjectableDef:Oe}),f6=Oe({ngInjectorDef:Oe});var ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ge||{});let Xy;function jn(n){const e=Xy;return Xy=n,e}function xR(n,e,t){const r=Ef(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ge.Optional?null:void 0!==e?e:void Qy(Lt(n))}const Ge=globalThis,zl={},nv="__NG_DI_FLAG__",Df="ngTempTokenPath",m6=/\n/gm,kR="__source";let Na;function bs(n){const e=Na;return Na=n,e}function v6(n,e=ge.Default){if(void 0===Na)throw new I(-203,!1);return null===Na?xR(n,void 0,e):Na.get(n,e&ge.Optional?null:void 0,e)}function D(n,e=ge.Default){return(function MR(){return Xy}()||v6)(ne(n),e)}function $(n,e=ge.Default){return D(n,Tf(e))}function Tf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rv(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=ge.Default;for(let o=0;o<r.length;o++){const a=r[o],c=b6(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function Gl(n,e){return n[nv]=e,n.prototype[nv]=e,n}function b6(n){return n[nv]}function Ni(n){return{toString:n}.toString()}var Af=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Af||{}),br=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(br||{});const ii={},De=[],Mf=Oe({\u0275cmp:Oe}),iv=Oe({\u0275dir:Oe}),sv=Oe({\u0275pipe:Oe}),PR=Oe({\u0275mod:Oe}),Fi=Oe({\u0275fac:Oe}),ql=Oe({__NG_ELEMENT_ID__:Oe}),NR=Oe({__NG_ENV_ID__:Oe});function FR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function ov(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];VR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function LR(n){return 3===n||4===n||6===n}function VR(n){return 64===n.charCodeAt(0)}function Wl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||BR(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function BR(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const UR="ng-template";function E6(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==FR(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function jR(n){return 4===n.type&&n.value!==UR}function I6(n,e,t){return e===(4!==n.type||t?n.value:UR)}function S6(n,e,t){let r=4;const i=n.attrs||[],s=function A6(n){for(let e=0;e<n.length;e++)if(LR(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!I6(n,c,t)||""===c&&1===e.length){if(Vr(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!E6(n.attrs,l,t)){if(Vr(r))return!1;o=!0}continue}const d=D6(8&r?"class":c,i,jR(n),t);if(-1===d){if(Vr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==FR(f,l,0)||2&r&&l!==h){if(Vr(r))return!1;o=!0}}}}else{if(!o&&!Vr(r)&&!Vr(c))return!1;if(o&&Vr(c))continue;o=!1,r=c|1&r}}return Vr(r)||o}function Vr(n){return 0==(1&n)}function D6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function M6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function $R(n,e,t=!1){for(let r=0;r<e.length;r++)if(S6(n,e[r],t))return!0;return!1}function x6(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function HR(n,e){return n?":not("+e.trim()+")":e}function R6(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vr(o)&&(e+=HR(s,i),i=""),r=o,s=s||!Vr(r);t++}return""!==i&&(e+=HR(s,i)),e}function Tt(n){return Ni(()=>{const e=GR(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Af.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,styles:n.styles||De,_:null,schemas:n.schemas||null,tView:null,id:""};qR(t);const r=n.dependencies;return t.directiveDefs=xf(r,!1),t.pipeDefs=xf(r,!0),t.id=function B6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function N6(n){return be(n)||en(n)}function F6(n){return null!==n}function pe(n){return Ni(()=>({type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zR(n,e){if(null==n)return ii;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Y(n){return Ni(()=>{const e=GR(n);return qR(e),e})}function be(n){return n[Mf]||null}function en(n){return n[iv]||null}function An(n){return n[sv]||null}function rr(n,e){const t=n[PR]||null;if(!t&&!0===e)throw new Error(`Type ${Lt(n)} does not have '\u0275mod' property.`);return t}function GR(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ii,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zR(n.inputs,e),outputs:zR(n.outputs)}}function qR(n){n.features?.forEach(e=>e(n))}function xf(n,e){if(!n)return null;const t=e?An:N6;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(F6)}const ft=0,U=1,le=2,rt=3,Br=4,Kl=5,_n=6,La=7,vt=8,ws=9,Va=10,oe=11,Ql=12,WR=13,Ba=14,bt=15,Yl=16,Ua=17,si=18,Xl=19,KR=20,Cs=21,Li=22,Zl=23,Jl=24,me=25,av=1,QR=2,oi=7,ja=9,tn=11;function Hn(n){return Array.isArray(n)&&"object"==typeof n[av]}function Mn(n){return Array.isArray(n)&&!0===n[av]}function cv(n){return 0!=(4&n.flags)}function Co(n){return n.componentOffset>-1}function kf(n){return 1==(1&n.flags)}function Ur(n){return!!n.template}function lv(n){return 0!=(512&n[le])}function Eo(n,e){return n.hasOwnProperty(Fi)?n[Fi]:null}let nn=null,Of=!1;function wr(n){const e=nn;return nn=n,e}const ZR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function e1(n){if(!tu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!r1(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function n1(n){n.dirty=!0,function t1(n){if(void 0===n.liveConsumerNode)return;const e=Of;Of=!0;try{for(const t of n.liveConsumerNode)t.dirty||n1(t)}finally{Of=e}}(n),n.consumerMarkedDirty?.(n)}function dv(n){return n&&(n.nextProducerIndex=0),wr(n)}function hv(n,e){if(wr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(tu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Pf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function r1(n){$a(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(e1(t),r!==t.version))return!0}return!1}function s1(n){if($a(n),tu(n))for(let e=0;e<n.producerNode.length;e++)Pf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Pf(n,e){if(function a1(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),$a(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Pf(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$a(i),i.producerIndexOfThis[r]=e}}function tu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $a(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let c1=null;const h1=()=>{},Z6=(()=>({...ZR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:h1}))();class J6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Cr(){return f1}function f1(n){return n.type.prototype.ngOnChanges&&(n.setInput=t9),e9}function e9(){const n=g1(this),e=n?.current;if(e){const t=n.previous;if(t===ii)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function t9(n,e,t,r){const i=this.declaredInputs[t],s=g1(n)||function n9(n,e){return n[p1]=e}(n,{previous:ii,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new J6(c&&c.currentValue,e,a===ii),n[r]=e}Cr.ngInherit=!0;const p1="__ngSimpleChanges__";function g1(n){return n[p1]||null}const ai=function(n,e,t){};function qe(n){for(;Array.isArray(n);)n=n[ft];return n}function Nf(n,e){return qe(e[n])}function zn(n,e){return qe(e[n.index])}function y1(n,e){return n.data[e]}function ir(n,e){const t=e[n];return Hn(t)?t:t[ft]}function Is(n,e){return null==e?null:n[e]}function v1(n){n[Ua]=0}function c9(n){1024&n[le]||(n[le]|=1024,w1(n,1))}function b1(n){1024&n[le]&&(n[le]&=-1025,w1(n,-1))}function w1(n,e){let t=n[rt];if(null===t)return;t[Kl]+=e;let r=t;for(t=t[rt];null!==t&&(1===e&&1===r[Kl]||-1===e&&0===r[Kl]);)t[Kl]+=e,r=t,t=t[rt]}const te={lFrame:k1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function I1(){return te.bindingsEnabled}function za(){return null!==te.skipHydrationRootTNode}function x(){return te.lFrame.lView}function we(){return te.lFrame.tView}function Er(n){return te.lFrame.contextLView=n,n[vt]}function Ir(n){return te.lFrame.contextLView=null,n}function rn(){let n=S1();for(;null!==n&&64===n.type;)n=n.parent;return n}function S1(){return te.lFrame.currentTNode}function ci(n,e){const t=te.lFrame;t.currentTNode=n,t.isParent=e}function _v(){return te.lFrame.isParent}function yv(){te.lFrame.isParent=!1}function xn(){const n=te.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ga(){return te.lFrame.bindingIndex++}function Bi(n){const e=te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function b9(n,e){const t=te.lFrame;t.bindingIndex=t.bindingRootIndex=n,vv(e)}function vv(n){te.lFrame.currentDirectiveIndex=n}function M1(){return te.lFrame.currentQueryIndex}function wv(n){te.lFrame.currentQueryIndex=n}function C9(n){const e=n[U];return 2===e.type?e.declTNode:1===e.type?n[_n]:null}function x1(n,e,t){if(t&ge.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ge.Host||(i=C9(s),null===i||(s=s[Ba],10&i.type))););if(null===i)return!1;e=i,n=s}const r=te.lFrame=R1();return r.currentTNode=e,r.lView=n,!0}function Cv(n){const e=R1(),t=n[U];te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function R1(){const n=te.lFrame,e=null===n?null:n.child;return null===e?k1(n):e}function k1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function O1(){const n=te.lFrame;return te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const P1=O1;function Ev(){const n=O1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rn(){return te.lFrame.selectedIndex}function Io(n){te.lFrame.selectedIndex=n}function at(){const n=te.lFrame;return y1(n.tView,n.selectedIndex)}let F1=!0;function Ff(){return F1}function Ss(n){F1=n}function Lf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Vf(n,e,t){L1(n,e,3,t)}function Bf(n,e,t,r){(3&n[le])===t&&L1(n,e,t,r)}function Iv(n,e){let t=n[le];(3&t)===e&&(t&=8191,t+=1,n[le]=t)}function L1(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Ua]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Ua]+=65536),(a<s||-1==s)&&(x9(n,t,e,c),n[Ua]=(4294901760&n[Ua])+c+2),c++}function V1(n,e){ai(4,n,e);const t=wr(null);try{e.call(n)}finally{wr(t),ai(5,n,e)}}function x9(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[le]>>13<n[Ua]>>16&&(3&n[le])===e&&(n[le]+=8192,V1(a,s)):V1(a,s)}const qa=-1;class ru{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Dv(n){return n!==qa}function iu(n){return 32767&n}function su(n,e){let t=function P9(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ba],t--;return r}let Tv=!0;function Uf(n){const e=Tv;return Tv=n,e}const B1=255,U1=5;let N9=0;const li={};function jf(n,e){const t=j1(n,e);if(-1!==t)return t;const r=e[U];r.firstCreatePass&&(n.injectorIndex=e.length,Av(r.data,n),Av(e,null),Av(r.blueprint,null));const i=$f(n,e),s=n.injectorIndex;if(Dv(i)){const o=iu(i),a=su(i,e),c=a[U].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Av(n,e){n.push(0,0,0,0,0,0,0,0,e)}function j1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function $f(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=K1(i),null===r)return qa;if(t++,i=i[Ba],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return qa}function Mv(n,e,t){!function F9(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ql)&&(r=t[ql]),null==r&&(r=t[ql]=N9++);const i=r&B1;e.data[n+(i>>U1)]|=1<<i}(n,e,t)}function $1(n,e,t){if(t&ge.Optional||void 0!==n)return n;Qy()}function H1(n,e,t,r){if(t&ge.Optional&&void 0===r&&(r=null),!(t&(ge.Self|ge.Host))){const i=n[ws],s=jn(void 0);try{return i?i.get(e,r,t&ge.Optional):xR(e,r,t&ge.Optional)}finally{jn(s)}}return $1(r,0,t)}function z1(n,e,t,r=ge.Default,i){if(null!==n){if(2048&e[le]&&!(r&ge.Self)){const o=function $9(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[le]&&!(512&o[le]);){const a=G1(s,o,t,r|ge.Self,li);if(a!==li)return a;let c=s.parent;if(!c){const l=o[KR];if(l){const u=l.get(t,li,r);if(u!==li)return u}c=K1(o),o=o[Ba]}s=c}return i}(n,e,t,r,li);if(o!==li)return o}const s=G1(n,e,t,r,li);if(s!==li)return s}return H1(e,t,r,i)}function G1(n,e,t,r,i){const s=function B9(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ql)?n[ql]:void 0;return"number"==typeof e?e>=0?e&B1:j9:e}(t);if("function"==typeof s){if(!x1(e,n,r))return r&ge.Host?$1(i,0,r):H1(e,t,r,i);try{let o;if(o=s(r),null!=o||r&ge.Optional)return o;Qy()}finally{P1()}}else if("number"==typeof s){let o=null,a=j1(n,e),c=qa,l=r&ge.Host?e[bt][_n]:null;for((-1===a||r&ge.SkipSelf)&&(c=-1===a?$f(n,e):e[a+8],c!==qa&&W1(r,!1)?(o=e[U],a=iu(c),e=su(c,e)):a=-1);-1!==a;){const u=e[U];if(q1(s,a,u.data)){const d=V9(a,e,t,o,r,l);if(d!==li)return d}c=e[a+8],c!==qa&&W1(r,e[U].data[a+8]===l)&&q1(s,a,e)?(o=u,a=iu(c),e=su(c,e)):a=-1}}return i}function V9(n,e,t,r,i,s){const o=e[U],a=o.data[n+8],u=Hf(a,o,t,null==r?Co(a)&&Tv:r!=o&&0!=(3&a.type),i&ge.Host&&s===a);return null!==u?So(e,o,u,a):li}function Hf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&Ur(f)&&f.type===t)return c}return null}function So(n,e,t,r){let i=n[t];const s=e.data;if(function R9(n){return n instanceof ru}(i)){const o=i;o.resolving&&function o6(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function xe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}(s[t]));const a=Uf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?jn(o.injectImpl):null;x1(n,r,ge.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function M9(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=f1(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&jn(l),Uf(a),o.resolving=!1,P1()}}return i}function q1(n,e,t){return!!(t[e+(n>>U1)]&1<<n)}function W1(n,e){return!(n&ge.Self||n&ge.Host&&e)}class kn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return z1(this._tNode,this._lView,e,Tf(r),t)}}function j9(){return new kn(rn(),x())}function sn(n){return Ni(()=>{const e=n.prototype.constructor,t=e[Fi]||xv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Fi]||xv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xv(n){return Wy(n)?()=>{const e=xv(ne(n));return e&&e()}:Eo(n)}function K1(n){const e=n[U],t=e.type;return 2===t?e.declTNode:1===t?n[_n]:null}const Ka="__parameters__";function Ya(n,e,t){return Ni(()=>{const r=function Rv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Ka)?c[Ka]:Object.defineProperty(c,Ka,{value:[]})[Ka];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Za(n,e){n.forEach(t=>Array.isArray(t)?Za(t,e):e(t))}function Y1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function cu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function sr(n,e,t){let r=Ja(n,e);return r>=0?n[1|r]=t:(r=~r,function Q9(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function kv(n,e){const t=Ja(n,e);if(t>=0)return n[1|t]}function Ja(n,e){return function X1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const wt=Gl(Ya("Optional"),8),Wf=Gl(Ya("SkipSelf"),4);function Zf(n){return 128==(128&n.flags)}var Ds=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ds||{});const Lv=new Map;let vW=0;const Bv="__ngContext__";function yn(n,e){Hn(e)?(n[Bv]=e[Xl],function wW(n){Lv.set(n[Xl],n)}(e)):n[Bv]=e}let Uv;function jv(n,e){return Uv(n,e)}function du(n){const e=n[rt];return Mn(e)?e[rt]:e}function _k(n){return vk(n[Ql])}function yk(n){return vk(n[Br])}function vk(n){for(;null!==n&&!Mn(n);)n=n[Br];return n}function nc(n,e,t,r,i){if(null!=r){let s,o=!1;Mn(r)?s=r:Hn(r)&&(o=!0,r=r[ft]);const a=qe(r);0===n&&null!==t?null==i?Ek(e,t,a):Do(e,t,a,i||null,!0):1===n&&null!==t?Do(e,t,a,i||null,!0):2===n?function sp(n,e,t){const r=rp(n,e);r&&function UW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function HW(n,e,t,r,i){const s=t[oi];s!==qe(t)&&nc(e,n,r,s,i);for(let a=tn;a<t.length;a++){const c=t[a];fu(c[U],c,n,e,r,s)}}(e,n,s,t,i)}}function tp(n,e,t){return n.createElement(e,t)}function wk(n,e){const t=n[ja],r=t.indexOf(e);b1(e),t.splice(r,1)}function np(n,e){if(n.length<=tn)return;const t=tn+e,r=n[t];if(r){const i=r[Yl];null!==i&&i!==n&&wk(i,r),e>0&&(n[t-1][Br]=r[Br]);const s=Gf(n,tn+e);!function kW(n,e){fu(n,e,e[oe],2,null,null),e[ft]=null,e[_n]=null}(r[U],r);const o=s[si];null!==o&&o.detachView(s[U]),r[rt]=null,r[Br]=null,r[le]&=-129}return r}function Hv(n,e){if(!(256&e[le])){const t=e[oe];e[Zl]&&s1(e[Zl]),e[Jl]&&s1(e[Jl]),t.destroyNode&&fu(n,e,t,3,null,null),function NW(n){let e=n[Ql];if(!e)return zv(n[U],n);for(;e;){let t=null;if(Hn(e))t=e[Ql];else{const r=e[tn];r&&(t=r)}if(!t){for(;e&&!e[Br]&&e!==n;)Hn(e)&&zv(e[U],e),e=e[rt];null===e&&(e=n),Hn(e)&&zv(e[U],e),t=e&&e[Br]}e=t}}(e)}}function zv(n,e){if(!(256&e[le])){e[le]&=-129,e[le]|=256,function BW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ru)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ai(4,a,c);try{c.call(a)}finally{ai(5,a,c)}}else{ai(4,i,s);try{s.call(i)}finally{ai(5,i,s)}}}}}(n,e),function VW(n,e){const t=n.cleanup,r=e[La];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[La]=null);const i=e[Cs];if(null!==i){e[Cs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[U].type&&e[oe].destroy();const t=e[Yl];if(null!==t&&Mn(e[rt])){t!==e[rt]&&wk(t,e);const r=e[si];null!==r&&r.detachView(n)}!function CW(n){Lv.delete(n[Xl])}(e)}}function Gv(n,e,t){return function Ck(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ft];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return zn(r,t)}}(n,e.parent,t)}function Do(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Ek(n,e,t){n.appendChild(e,t)}function Ik(n,e,t,r,i){null!==r?Do(n,e,t,r,i):Ek(n,e,t)}function rp(n,e){return n.parentNode(e)}function Sk(n,e,t){return Tk(n,e,t)}let qv,Yv,ap,Tk=function Dk(n,e,t){return 40&n.type?zn(n,t):null};function ip(n,e,t,r){const i=Gv(n,r,e),s=e[oe],a=Sk(r.parent||e[_n],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Ik(s,i,t[c],a,!1);else Ik(s,i,t,a,!1);void 0!==qv&&qv(s,r,e,t,i)}function hu(n,e){if(null!==e){const t=e.type;if(3&t)return zn(e,n);if(4&t)return Wv(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return hu(n,r);{const i=n[e.index];return Mn(i)?Wv(-1,i):qe(i)}}if(32&t)return jv(e,n)()||qe(n[e.index]);{const r=Mk(n,e);return null!==r?Array.isArray(r)?r[0]:hu(du(n[bt]),r):hu(n,e.next)}}return null}function Mk(n,e){return null!==e?n[bt][_n].projection[e.projection]:null}function Wv(n,e){const t=tn+n+1;if(t<e.length){const r=e[t],i=r[U].firstChild;if(null!==i)return hu(r,i)}return e[oi]}function Kv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&yn(qe(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Kv(n,e,t.child,r,i,s,!1),nc(e,n,i,a,s);else if(32&c){const l=jv(t,r);let u;for(;u=l();)nc(e,n,i,u,s);nc(e,n,i,a,s)}else 16&c?Rk(n,e,r,t,i,s):nc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function fu(n,e,t,r,i,s){Kv(t,r,n.firstChild,e,i,s,!1)}function Rk(n,e,t,r,i,s){const o=t[bt],c=o[_n].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)nc(e,n,i,c[l],s);else{let l=c;const u=o[rt];Zf(r)&&(l.flags|=128),Kv(n,e,l,u,i,s,!0)}}function kk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ok(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&ov(n,e,r),null!==i&&kk(n,e,i),null!==s&&function GW(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Fk(n){return function Xv(){if(void 0===ap&&(ap=null,Ge.trustedTypes))try{ap=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ap}()?.createScriptURL(n)||n}class Lk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DR})`}}function Ts(n){return n instanceof Lk?n.changingThisBreaksApplicationSecurity:n}function pu(n,e){const t=function t8(n){return n instanceof Lk&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${DR})`)}return t===e}const s8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sc||{});function zk(n){const e=mu();return e?e.sanitize(sc.URL,n)||"":pu(n,"URL")?Ts(n):function Zv(n){return(n=String(n)).match(s8)?n:"unsafe:"+n}(se(n))}function Gk(n){const e=mu();if(e)return Fk(e.sanitize(sc.RESOURCE_URL,n)||"");if(pu(n,"ResourceURL"))return Fk(Ts(n));throw new I(904,!1)}function mu(){const n=x();return n&&n[Va].sanitizer}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _u=new N("ENVIRONMENT_INITIALIZER"),Wk=new N("INJECTOR",-1),Kk=new N("INJECTOR_DEF_TYPES");class nb{get(e,t=zl){if(t===zl){const r=new Error(`NullInjectorError: No provider for ${Lt(e)}!`);throw r.name="NullInjectorError",r}return t}}function y8(...n){return{\u0275providers:Yk(0,n),\u0275fromNgModule:!0}}function Yk(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Za(e,o=>{const a=o;lp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Xk(i,s),t}function Xk(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];rb(i,s=>{e(s,r)})}}function lp(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,s=If(n);const o=!s&&be(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=If(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)lp(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Za(s.imports,u=>{lp(u,e,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Xk(l,e)}if(!a){const l=Eo(i)||(()=>new i);e({provide:i,useFactory:l,deps:De},i),e({provide:Kk,useValue:i,multi:!0},i),e({provide:_u,useValue:()=>D(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=n;rb(c,u=>{e(u,l)})}}}return i!==n&&void 0!==n.providers}function rb(n,e){for(let t of n)Ky(t)&&(t=t.\u0275providers),Array.isArray(t)?rb(t,e):e(t)}const v8=Oe({provide:String,useValue:Oe});function ib(n){return null!==n&&"object"==typeof n&&v8 in n}function To(n){return"function"==typeof n}const sb=new N("Set Injector scope."),up={},w8={};let ob;function dp(){return void 0===ob&&(ob=new nb),ob}class Dr{}class hp extends Dr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cb(e,o=>this.processProvider(o)),this.records.set(Wk,oc(void 0,this)),i.has("environment")&&this.records.set(Dr,oc(void 0,this));const s=this.records.get(sb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kk.multi,De,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=bs(this),r=jn(void 0);try{return e()}finally{bs(t),jn(r)}}get(e,t=zl,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(NR))return e[NR](this);r=Tf(r);const s=bs(this),o=jn(void 0);try{if(!(r&ge.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function D8(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&Ef(e);c=l&&this.injectableDefInScope(l)?oc(ab(e),up):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ge.Self?dp():this.parent).get(e,t=r&ge.Optional&&t===zl?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Df]=a[Df]||[]).unshift(Lt(e)),s)throw a;return function w6(n,e,t,r){const i=n[Df];throw e[kR]&&i.unshift(e[kR]),n.message=function C6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Lt(e);if(Array.isArray(e))i=e.map(Lt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Lt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(m6,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Df]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(o),bs(s)}}resolveInjectorInitializers(){const e=bs(this),t=jn(void 0);try{const i=this.get(_u.multi,De,ge.Self);for(const s of i)s()}finally{bs(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=To(e=ne(e))?e:ne(e&&e.provide);const r=function E8(n){return ib(n)?oc(void 0,n.useValue):oc(eO(n),up)}(e);if(To(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=oc(void 0,up,!0),i.factory=()=>rv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===up&&(t.value=w8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function S8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ab(n){const e=Ef(n),t=null!==e?e.factory:Eo(n);if(null!==t)return t;if(n instanceof N)throw new I(204,!1);if(n instanceof Function)return function C8(n){const e=n.length;if(e>0)throw cu(e,"?"),new I(204,!1);const t=function h6(n){return n&&(n[Sf]||n[AR])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function eO(n,e,t){let r;if(To(n)){const i=ne(n);return Eo(i)||ab(i)}if(ib(n))r=()=>ne(n.useValue);else if(function Jk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...rv(n.deps||[]));else if(function Zk(n){return!(!n||!n.useExisting)}(n))r=()=>D(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function I8(n){return!!n.deps}(n))return Eo(i)||ab(i);r=()=>new i(...rv(n.deps))}return r}function oc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cb(n,e){for(const t of n)Array.isArray(t)?cb(t,e):t&&Ky(t)?cb(t.\u0275providers,e):e(t)}const fp=new N("AppId",{providedIn:"root",factory:()=>T8}),T8="ng",tO=new N("Platform Initializer"),jr=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lb=new N("AnimationModuleType"),ub=new N("CSP nonce",{providedIn:"root",factory:()=>function ic(){if(void 0!==Yv)return Yv;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nO=(n,e,t)=>null;function yb(n,e,t=!1){return nO(n,e,t)}class L8{}class sO{}class B8{resolveComponentFactory(e){throw function V8(n){const e=Error(`No component factory found for ${Lt(n)}.`);return e.ngComponent=n,e}(e)}}let As=(()=>{class n{static#e=this.NULL=new B8}return n})();function U8(){return lc(rn(),x())}function lc(n,e){return new Bt(zn(n,e))}let Bt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=U8}return n})();function j8(n){return n instanceof Bt?n.nativeElement:n}class bu{}let $r=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $8(){const n=x(),t=ir(rn().index,n);return(Hn(t)?t:n)[oe]}()}return n})(),H8=(()=>{class n{static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:()=>null})}return n})();class uc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aO=new uc("16.2.7"),wb={};function dO(n,e=null,t=null,r){const i=hO(n,e,t,r);return i.resolveInjectorInitializers(),i}function hO(n,e=null,t=null,r,i=new Set){const s=[t||De,y8(n)];return r=r||("object"==typeof n?void 0:Lt(n)),new hp(s,e||dp(),r||null,i)}let Ze=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=zl;static#t=this.NULL=new nb;static create(t,r){if(Array.isArray(t))return dO({name:""},r,t,"");{const i=t.name??"";return dO({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=F({token:n,providedIn:"any",factory:()=>D(Wk)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Eb(n){return n.ngOriginalError}class ji{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Eb(e);for(;t&&Eb(t);)t=Eb(t);return t||null}}function Sb(n){return e=>{setTimeout(n,void 0,e)}}const Re=class Y8 extends ze{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Sb(s),i&&(i=Sb(i)),o&&(o=Sb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Jt&&e.add(a),a}};function pO(...n){}class re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function X8(){const n="function"==typeof Ge.requestAnimationFrame;let e=Ge[n?"requestAnimationFrame":"setTimeout"],t=Ge[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function e7(n){const e=()=>{!function J8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ge,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Tb(n),n.isCheckStableRunning=!0,Db(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Tb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function n7(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return gO(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),mO(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return gO(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),mO(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Tb(n),Db(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!re.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(re.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Z8,pO,pO);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Z8={};function Db(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mO(n){n._nesting--,Db(n)}class t7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const _O=new N("",{providedIn:"root",factory:yO});function yO(){const n=$(re);let e=!0;return ER(new Ue(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ue(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{re.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(IR()))}function vO(n){return n.ownerDocument.defaultView}function $i(n){return n instanceof Function?n():n}let Ab=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})();function wu(n){for(;n;){n[le]|=64;const e=du(n);if(lv(n)&&!e)return n;n=e}return null}const IO=new N("",{providedIn:"root",factory:()=>!1});let bp=null;function AO(n,e){return n[e]??RO()}function MO(n,e){const t=RO();t.producerNode?.length&&(n[e]=bp,t.lView=n,bp=xO())}const d7={...ZR,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{wu(n.lView)},lView:null};function xO(){return Object.create(d7)}function RO(){return bp??=xO(),bp}const ce={};function ct(n){kO(we(),x(),Rn()+n,!1)}function kO(n,e,t,r){if(!r)if(3==(3&e[le])){const s=n.preOrderCheckHooks;null!==s&&Vf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Bf(e,s,0,t)}Io(t)}function T(n,e=ge.Default){const t=x();return null===t?D(n,e):z1(rn(),t,ne(n),e)}function wp(n,e,t,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[ft]=i,d[le]=140|r,(null!==l||n&&2048&n[le])&&(d[le]|=2048),v1(d),d[rt]=d[Ba]=n,d[vt]=t,d[Va]=o||n&&n[Va],d[oe]=a||n&&n[oe],d[ws]=c||n&&n[ws]||null,d[_n]=s,d[Xl]=function bW(){return vW++}(),d[Li]=u,d[KR]=l,d[bt]=2==e.type?n[bt]:d,d}function fc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Mb(n,e,t,r,i){const s=S1(),o=_v(),c=n.data[e]=function v7(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return za()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function v9(){return te.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function nu(){const n=te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ci(s,!0),s}function Cu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function PO(n,e,t,r,i){const s=AO(e,Zl),o=Rn(),a=2&r;try{Io(-1),a&&e.length>me&&kO(n,e,me,!1),ai(a?2:0,i);const l=a?s:null,u=dv(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{hv(l,u)}}finally{a&&null===e[Zl]&&MO(e,Zl),Io(o),ai(a?3:1,i)}}function xb(n,e,t){if(cv(e)){const r=wr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{wr(r)}}}function Rb(n,e,t){I1()&&(function D7(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Co(t)&&function O7(n,e,t){const r=zn(e,n),i=NO(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Cp(n,wp(n,i,null,o,r,e,null,n[Va].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||jf(t,e),yn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=So(e,n,a,t);yn(l,e),null!==o&&P7(0,a-i,l,c,0,o),Ur(c)&&(ir(t.index,e)[vt]=So(e,n,a,t))}}(n,e,t,zn(t,e)),64==(64&t.flags)&&UO(n,e,t))}function kb(n,e,t=zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function NO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ob(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ob(n,e,t,r,i,s,o,a,c,l,u){const d=me+r,h=d+i,f=function f7(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ce);return t}(d,h),p="function"==typeof l?l():l;return f[U]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let FO=n=>null;function LO(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?VO(t,e,i,s):r.hasOwnProperty(i)&&VO(t,e,r[i],s)}return t}function VO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function or(n,e,t,r,i,s,o,a){const c=zn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Vb(n,t,u,r,i),Co(e)&&function C7(n,e){const t=ir(e,n);16&t[le]||(t[le]|=64)}(t,e.index)):3&e.type&&(r=function w7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Pb(n,e,t,r){if(I1()){const i=null===r?null:{"":-1},s=function A7(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if($R(e,o.selectors,!1))if(r||(r=[]),Ur(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Nb(n,e,a.length)}else r.unshift(o),Nb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&BO(n,e,t,o,i,a),i&&function M7(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Wl(t.mergedAttrs,t.attrs)}function BO(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Mv(jf(t,e),n,r[l].type);!function R7(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Cu(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=Wl(t.mergedAttrs,u.hostAttrs),k7(n,t,e,c,u),x7(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function b7(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;c=LO(d.inputs,u,c,h?h.inputs:null),l=LO(d.outputs,u,l,p);const g=null===c||null===o||jR(e)?null:N7(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function UO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function w9(){return te.lFrame.currentDirectiveIndex}();try{Io(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];vv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&T7(c,l)}}finally{Io(-1),vv(o)}}function T7(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Nb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function x7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ur(e)&&(t[""]=n)}}function k7(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Eo(i.type)),o=new ru(s,Ur(i),T);n.blueprint[r]=o,t[r]=o,function I7(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function S7(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Cu(n,t,i.hostVars,ce),i)}function ui(n,e,t,r,i,s){const o=zn(n,e);!function Fb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?se(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[oe],o,s,n.value,t,r,i)}function P7(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)jO(r,t,o[a++],o[a++],o[a++])}function jO(n,e,t,r,i){const s=wr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{wr(s)}}function N7(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $O(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function HO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];wv(t[r]),o.contentQueries(2,e[s],s)}}}function Cp(n,e){return n[Ql]?n[WR][Br]=e:n[Ql]=e,n[WR]=e,e}function Lb(n,e,t){wv(0);const r=wr(null);try{e(n,t)}finally{wr(r)}}function zO(n){return n[La]||(n[La]=[])}function GO(n){return n.cleanup||(n.cleanup=[])}function WO(n,e){const t=n[ws],r=t?t.get(ji,null):null;r&&r.handleError(e)}function Vb(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];jO(n.data[o],e[o],r,a,i)}}function F7(n,e){const t=ir(e,n),r=t[U];!function L7(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[ft];null!==i&&null===t[Li]&&(t[Li]=yb(i,t[ws])),Bb(r,t,t[vt])}function Bb(n,e,t){Cv(e);try{const r=n.viewQuery;null!==r&&Lb(1,r,t);const i=n.template;null!==i&&PO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&HO(n,e),n.staticViewQueries&&Lb(2,n.viewQuery,t);const s=n.components;null!==s&&function V7(n,e){for(let t=0;t<e.length;t++)F7(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,Ev()}}let KO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function X6(n,e,t){const r=Object.create(Z6);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>n1(r),run:()=>{if(r.dirty=!1,r.hasRun&&!r1(r))return;r.hasRun=!0;const o=dv(r);try{r.cleanupFn(),r.cleanupFn=h1,r.fn(i)}finally{hv(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ep(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=qy(i,a):2==s&&(r=qy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Eu(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(qe(s)),Mn(s)&&QO(s,r);const o=t.type;if(8&o)Eu(n,e,t.child,r);else if(32&o){const a=jv(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=Mk(e,t);if(Array.isArray(a))r.push(...a);else{const c=du(e[bt]);Eu(c[U],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function QO(n,e){for(let t=tn;t<n.length;t++){const r=n[t],i=r[U].firstChild;null!==i&&Eu(r[U],r,i,e)}n[oi]!==n[ft]&&e.push(n[oi])}function Ip(n,e,t,r=!0){const i=e[Va],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{YO(n,e,n.template,t)}catch(c){throw r&&WO(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function YO(n,e,t,r){const i=e[le];if(256!=(256&i)){e[Va].effectManager?.flush(),Cv(e);try{v1(e),function T1(n){return te.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&PO(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Vf(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Bf(e,l,0,null),Iv(e,0)}if(function j7(n){for(let e=_k(n);null!==e;e=yk(e)){if(!e[QR])continue;const t=e[ja];for(let r=0;r<t.length;r++){c9(t[r])}}}(e),XO(e,2),null!==n.contentQueries&&HO(n,e),o){const l=n.contentCheckHooks;null!==l&&Vf(e,l)}else{const l=n.contentHooks;null!==l&&Bf(e,l,1),Iv(e,1)}!function h7(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=AO(e,Jl);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Io(~s);else{const o=s,a=t[++i],c=t[++i];b9(a,o),r.dirty=!1;const l=dv(r);try{c(2,e[o])}finally{hv(r,l)}}}}finally{null===e[Jl]&&MO(e,Jl),Io(-1)}}(n,e);const a=n.components;null!==a&&JO(e,a,0);const c=n.viewQuery;if(null!==c&&Lb(2,c,r),o){const l=n.viewCheckHooks;null!==l&&Vf(e,l)}else{const l=n.viewHooks;null!==l&&Bf(e,l,2),Iv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[le]&=-73,b1(e)}finally{Ev()}}}function XO(n,e){for(let t=_k(n);null!==t;t=yk(t))for(let r=tn;r<t.length;r++)ZO(t[r],e)}function $7(n,e,t){ZO(ir(e,n),t)}function ZO(n,e){if(!function o9(n){return 128==(128&n[le])}(n))return;const t=n[U],r=n[le];if(80&r&&0===e||1024&r||2===e)YO(t,n,t.template,n[vt]);else if(n[Kl]>0){XO(n,1);const i=t.components;null!==i&&JO(n,i,1)}}function JO(n,e,t){for(let r=0;r<e.length;r++)$7(n,e[r],t)}class Iu{get rootNodes(){const e=this._lView,t=e[U];return Eu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return 256==(256&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rt];if(Mn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(np(e,r),Gf(t,r))}this._attachedToViewContainer=!1}Hv(this._lView[U],this._lView)}onDestroy(e){!function C1(n,e){if(256==(256&n[le]))throw new I(911,!1);null===n[Cs]&&(n[Cs]=[]),n[Cs].push(e)}(this._lView,e)}markForCheck(){wu(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-129}reattach(){this._lView[le]|=128}detectChanges(){Ip(this._lView[U],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PW(n,e){fu(n,e,e[oe],2,null,null)}(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class H7 extends Iu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ip(e[U],e,e[vt],!1)}checkNoChanges(){}get context(){return null}}class eP extends As{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=be(e);return new Su(t,this.ngModule)}}function tP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class G7{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Tf(r);const i=this.injector.get(e,wb,r);return i!==wb||t===wb?i:this.parentInjector.get(e,t,r)}}class Su extends sO{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=tP(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return tP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function k6(n){return n.map(R6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Dr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new G7(e,s):e,a=o.get(bu,null);if(null===a)throw new I(407,!1);const d={rendererFactory:a,sanitizer:o.get(H8,null),effectManager:o.get(KO,null),afterRenderEventManager:o.get(Ab,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function p7(n,e,t,r){const s=r.get(IO,!1)||t===br.ShadowDom,o=n.selectRootElement(e,s);return function g7(n){FO(n)}(o),o}(h,r,this.componentDef.encapsulation,o):tp(h,f,function z7(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=yb(p,o,!0));const M=Ob(0,null,null,1,0,null,null,null,null,null,null),O=wp(null,M,null,w,null,null,d,h,o,null,y);let z,K;Cv(O);try{const ue=this.componentDef;let Ye,Pt=null;ue.findHostDirectiveDefs?(Ye=[],Pt=new Map,ue.findHostDirectiveDefs(ue,Ye,Pt),Ye.push(ue)):Ye=[ue];const mr=function W7(n,e){const t=n[U],r=me;return n[r]=e,fc(t,r,2,"#host",null)}(O,p),My=function K7(n,e,t,r,i,s,o){const a=i[U];!function Q7(n,e,t,r){for(const i of n)e.mergedAttrs=Wl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ep(e,e.mergedAttrs,!0),null!==t&&Ok(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=yb(e,i[ws]));const l=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=wp(i,NO(t),null,u,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&Nb(a,n,r.length-1),Cp(i,d),i[n.index]=d}(mr,p,ue,Ye,O,d,h);K=y1(M,me),p&&function X7(n,e,t,r){if(r)ov(n,t,["ng-version",aO.full]);else{const{attrs:i,classes:s}=function O6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Vr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&ov(n,t,i),s&&s.length>0&&kk(n,t,s.join(" "))}}(h,ue,p,r),void 0!==t&&function Z7(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(K,this.ngContentSelectors,t),z=function Y7(n,e,t,r,i,s){const o=rn(),a=i[U],c=zn(o,i);BO(a,i,o,t,null,r);for(let u=0;u<t.length;u++)yn(So(i,a,o.directiveStart+u,o),i);UO(a,i,o),c&&yn(c,i);const l=So(i,a,o.directiveStart+o.componentOffset,o);if(n[vt]=i[vt]=l,null!==s)for(const u of s)u(l,e);return xb(a,o,n),l}(My,ue,Ye,Pt,O,[J7]),Bb(M,O,null)}finally{Ev()}return new q7(this.componentType,z,lc(K,O),O,K)}}class q7 extends L8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new H7(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Vb(s[U],s,i,e,t),this.previousInputValues.set(e,t),wu(ir(this._tNode.index,s))}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function J7(){const n=rn();Lf(x()[U],n)}function ke(n){let e=function nP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Sp(n.inputs),o.inputTransforms=Sp(n.inputTransforms),o.declaredInputs=Sp(n.declaredInputs),o.outputs=Sp(n.outputs);const a=i.hostBindings;a&&rK(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&tK(n,c),l&&nK(n,l),wf(n.inputs,i.inputs),wf(n.declaredInputs,i.declaredInputs),wf(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),wf(o.inputTransforms,i.inputTransforms)),Ur(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}!function eK(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wl(i.hostAttrs,t=Wl(t,i.hostAttrs))}}(r)}function Sp(n){return n===ii?{}:n===De?[]:n}function tK(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function nK(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function rK(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function oP(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Dp(n){return!!Ub(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ub(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function di(n,e,t){return n[e]=t}function vn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hr(n,e,t,r){const i=x();return vn(i,Ga(),e)&&(we(),ui(at(),i,n,e,t,r)),Hr}function Ec(n,e,t,r,i,s,o,a){const c=x(),l=we(),u=n+me,d=l.firstCreatePass?function AK(n,e,t,r,i,s,o,a,c){const l=e.consts,u=fc(e,n,4,o||null,Is(l,a));Pb(e,t,u,Is(l,c)),Lf(e,u);const d=u.tView=Ob(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,s,o):l.data[u];ci(d,!1);const h=vP(l,c,d,n);Ff()&&ip(l,c,h,d),yn(h,c),Cp(c,c[u]=$O(h,c,h,d)),kf(d)&&Rb(l,c,d),null!=o&&kb(c,d,a)}let vP=function bP(n,e,t,r){return Ss(!0),e[oe].createComment("")};function zr(n){return function Ha(n,e){return n[e]}(function y9(){return te.lFrame.contextLView}(),me+n)}function lt(n,e,t){const r=x();return vn(r,Ga(),e)&&or(we(),at(),r,n,e,r[oe],t,!1),lt}function qb(n,e,t,r,i){const o=i?"class":"style";Vb(n,t,e.inputs[o],o,r)}function v(n,e,t,r){const i=x(),s=we(),o=me+n,a=i[oe],c=s.firstCreatePass?function kK(n,e,t,r,i,s){const o=e.consts,c=fc(e,n,2,r,Is(o,i));return Pb(e,t,c,Is(o,s)),null!==c.attrs&&Ep(c,c.attrs,!1),null!==c.mergedAttrs&&Ep(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=wP(s,i,c,a,e,n);i[o]=l;const u=kf(c);return ci(c,!0),Ok(a,l,c),32!=(32&c.flags)&&Ff()&&ip(s,i,l,c),0===function u9(){return te.lFrame.elementDepthCount}()&&yn(l,i),function d9(){te.lFrame.elementDepthCount++}(),u&&(Rb(s,i,c),xb(s,c,i)),null!==r&&kb(i,c),v}function b(){let n=rn();_v()?yv():(n=n.parent,ci(n,!1));const e=n;(function f9(n){return te.skipHydrationRootTNode===n})(e)&&function _9(){te.skipHydrationRootTNode=null}(),function h9(){te.lFrame.elementDepthCount--}();const t=we();return t.firstCreatePass&&(Lf(t,n),cv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function k9(n){return 0!=(8&n.flags)}(e)&&qb(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function O9(n){return 0!=(16&n.flags)}(e)&&qb(t,e,x(),e.stylesWithoutHost,!1),b}function j(n,e,t,r){return v(n,e,t,r),b(),j}let wP=(n,e,t,r,i,s)=>(Ss(!0),tp(r,i,function N1(){return te.lFrame.currentNamespace}()));function Ms(){return x()}function xu(n){return!!n&&"function"==typeof n.then}function IP(n){return!!n&&"function"==typeof n.subscribe}function Ne(n,e,t,r){const i=x(),s=we(),o=rn();return function DP(n,e,t,r,i,s,o){const a=kf(r),l=n.firstCreatePass&&GO(n),u=e[vt],d=zO(e);let h=!0;if(3&r.type||o){const g=zn(r,e),_=o?o(g):g,w=d.length,y=o?O=>o(qe(O[r.index])):r.index;let M=null;if(!o&&a&&(M=function VK(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[La],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,h=!1;else{s=AP(r,e,u,s,!1);const O=t.listen(_,i,s);d.push(s,O),l&&l.push(i,y,w,w+1)}}else s=AP(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const z=e[p[_]][p[_+1]].subscribe(s),K=d.length;d.push(s,z),l&&l.push(i,r.index,K,-(K+1))}}}(s,i,i[oe],o,n,e,r),Ne}function TP(n,e,t,r){try{return ai(6,e,t),!1!==t(r)}catch(i){return WO(n,i),!1}finally{ai(7,e,t)}}function AP(n,e,t,r,i){return function s(o){if(o===Function)return r;wu(n.componentOffset>-1?ir(n.index,e):e);let c=TP(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=TP(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Ar(n=1){return function E9(n){return(te.lFrame.contextLView=function I9(n,e){for(;n>0;)e=e[Ba],n--;return e}(n,te.lFrame.contextLView))[vt]}(n)}function BK(n,e){let t=null;const r=function T6(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?$R(n,s,!0):x6(r,s))return i}else t=i}return t}function Rp(n,e){return n<<17|e<<2}function xs(n){return n>>17&32767}function Yb(n){return 2|n}function Mo(n){return(131068&n)>>2}function Xb(n,e){return-131069&n|e<<2}function Zb(n){return 1|n}function UP(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?xs(s):Mo(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];GK(n[a],e)&&(c=!0,n[a+1]=r?Zb(u):Yb(u)),a=r?xs(u):Mo(u)}c&&(n[t+1]=r?Yb(s):Zb(s))}function GK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ja(n,e)>=0}const Ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jP(n){return n.substring(Ut.key,Ut.keyEnd)}function $P(n,e){const t=Ut.textEnd;return t===e?-1:(e=Ut.keyEnd=function QK(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ut.key=e,t),Ic(n,e,t))}function Ic(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Sc(n,e){return function Gr(n,e,t,r){const i=x(),s=we(),o=Bi(2);s.firstUpdatePass&&YP(s,n,o,r),e!==ce&&vn(i,o,e)&&ZP(s,s.data[Rn()],i,i[oe],n,i[o+1]=function oQ(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Lt(Ts(n)))),n}(e,t),r,o)}(n,e,null,!0),Sc}function KP(n){!function qr(n,e,t,r){const i=we(),s=Bi(2);i.firstUpdatePass&&YP(i,null,s,r);const o=x();if(t!==ce&&vn(o,s,t)){const a=i.data[Rn()];if(eN(a,r)&&!QP(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=qy(c,t||"")),qb(i,a,o,t,r)}else!function sQ(n,e,t,r,i,s,o,a){i===ce&&(i=De);let c=0,l=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),null!==p&&ZP(n,e,t,r,p,g,o,a),u=c<i.length?i[c]:null,d=l<s.length?s[l]:null}}(i,a,o,o[oe],o[s+1],o[s+1]=function rQ(n,e,t){if(null==t||""===t)return De;const r=[],i=Ts(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(iQ,fi,n,!0)}function fi(n,e){for(let t=function WK(n){return function zP(n){Ut.key=0,Ut.keyEnd=0,Ut.value=0,Ut.valueEnd=0,Ut.textEnd=n.length}(n),$P(n,Ic(n,0,Ut.textEnd))}(e);t>=0;t=$P(e,t))sr(n,jP(e),!0)}function QP(n,e){return e>=n.expandoStartIndex}function YP(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Rn()],o=QP(n,t);eN(s,r)&&null===e&&!o&&(e=!1),e=function JK(n,e,t,r){const i=function bv(n){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ru(t=Jb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Jb(i,n,e,t,r),null===s){let c=function eQ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Mo(r))return n[xs(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Jb(null,n,e,c[1],r),c=Ru(c,e.attrs,r),function tQ(n,e,t,r){n[xs(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function nQ(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ru(r,n[s].hostAttrs,t);return Ru(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function HK(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xs(o),c=Mo(o);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ja(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const h=xs(n[a+1]);n[r+1]=Rp(h,a),0!==h&&(n[h+1]=Xb(n[h+1],r)),n[a+1]=function jK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Rp(a,0),0!==a&&(n[a+1]=Xb(n[a+1],r)),a=r;else n[r+1]=Rp(c,0),0===a?a=r:n[c+1]=Xb(n[c+1],r),c=r;l&&(n[r+1]=Yb(n[r+1])),UP(n,u,r,!0),UP(n,u,r,!1),function zK(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ja(s,e)>=0&&(t[r+1]=Zb(t[r+1]))}(e,u,n,r,s),o=Rp(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Jb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ru(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ru(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),sr(n,o,!!t||e[++s]))}return void 0===n?null:n}function iQ(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&sr(n,r,t)}function ZP(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function $K(n){return 1==(1&n)}(l)?JP(c,e,t,i,Mo(l),o):void 0;kp(u)||(kp(s)||function UK(n){return 2==(2&n)}(l)&&(s=JP(c,null,t,i,a,o)),function zW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Ds.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ds.Important),n.setStyle(t,r,i,s))}}(r,o,Nf(Rn(),t),i,s))}function JP(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===ce&&(h=d?De:void 0);let f=d?kv(h,r):u===r?h:void 0;if(l&&!kp(f)&&(f=kv(c,r)),kp(f)&&(a=f,o))return a;const p=n[i+1];i=o?xs(p):Mo(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=kv(c,r))}return a}function kp(n){return void 0!==n}function eN(n,e){return 0!=(n.flags&(e?8:16))}function S(n,e=""){const t=x(),r=we(),i=n+me,s=r.firstCreatePass?fc(r,i,1,e,null):r.data[i],o=tN(r,t,s,e,n);t[i]=o,Ff()&&ip(r,t,o,s),ci(s,!1)}let tN=(n,e,t,r,i)=>(Ss(!0),function ep(n,e){return n.createText(e)}(e[oe],r));function Op(n){return ku("",n,""),Op}function ku(n,e,t){const r=x(),i=function gc(n,e,t,r){return vn(n,Ga(),t)?e+se(t)+r:ce}(r,n,e,t);return i!==ce&&function Hi(n,e,t){const r=Nf(e,n);!function bk(n,e,t){n.setValue(e,t)}(n[oe],r,t)}(r,Rn(),i),ku}function Pp(n,e,t){const r=x();return vn(r,Ga(),e)&&or(we(),at(),r,n,e,r[oe],t,!0),Pp}const Tc="en-US";let CN=Tc;function nw(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)nw(n[s],e,t,r,i);else{const s=we(),o=x(),a=rn();let c=To(n)?n:ne(n.provide);const l=eO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(To(n)||!n.multi){const f=new ru(l,i,T),p=iw(c,e,i?u:u+h,d);-1===p?(Mv(jf(a,o),s,c),rw(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=iw(c,e,u+h,d),p=iw(c,e,u,u+h),_=p>=0&&t[p];if(i&&!_||!i&&!(f>=0&&t[f])){Mv(jf(a,o),s,c);const w=function TY(n,e,t,r,i){const s=new ru(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,WN(s,i,r&&!t),s}(i?DY:SY,t.length,i,r,l);!i&&_&&(t[p].providerFactory=w),rw(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),o.push(w)}else rw(s,n,f>-1?f:p,WN(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function rw(n,e,t,r){const i=To(e),s=function b8(n){return!!n.useClass}(e);if(i||s){const c=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function WN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function iw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function SY(n,e,t,r){return sw(this.multi,[])}function DY(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=So(t,t[U],this.providerFactory.index,r);s=a.slice(0,o),sw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],sw(i,s);return s}function sw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function IY(n,e,t){const r=we();if(r.firstCreatePass){const i=Ur(n);nw(t,r.data,r.blueprint,i,!0),nw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ro{}class KN{}class ow extends Ro{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eP(this);const i=rr(e);this._bootstrapComponents=$i(i.bootstrap),this._r3Injector=hO(e,t,[{provide:Ro,useValue:this},{provide:As,useValue:this.componentFactoryResolver},...r],Lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class aw extends KN{constructor(e){super(),this.moduleType=e}create(e){return new ow(this.moduleType,e,[])}}class QN extends Ro{constructor(e){super(),this.componentFactoryResolver=new eP(this),this.instance=null;const t=new hp([...e.providers,{provide:Ro,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],e.parent||dp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function cw(n,e,t=null){return new QN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let xY=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Yk(0,t.type),i=r.length>0?cw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(D(Dr))})}return n})();function YN(n){n.getStandaloneInjector=e=>e.get(xY).getOrCreateStandaloneInjector(n)}function uw(n,e,t,r){return function iF(n,e,t,r,i,s){const o=e+t;return vn(n,o,i)?di(n,o+1,s?r.call(s,i):r(i)):function Vu(n,e){const t=n[e];return t===ce?void 0:t}(n,o+1)}(x(),xn(),n,e,t,r)}function eX(){return this._results[Symbol.iterator]()}class dw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Re)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=dw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=eX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Sr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function W9(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nX(n,e,t,r=!0){const i=e[U];if(function FW(n,e,t,r){const i=tn+r,s=t.length;r>0&&(t[i-1][Br]=e),r<s-tn?(e[Br]=t[i],Y1(t,tn+r,e)):(t.push(e),e[Br]=null),e[rt]=t;const o=e[Yl];null!==o&&t!==o&&function LW(n,e){const t=n[ja];e[bt]!==e[rt][rt][bt]&&(n[QR]=!0),null===t?n[ja]=[e]:t.push(e)}(o,e);const a=e[si];null!==a&&a.insertView(n),e[le]|=128}(i,e,n,t),r){const s=Wv(t,n),o=e[oe],a=rp(o,n[oi]);null!==a&&function OW(n,e,t,r,i,s){r[ft]=i,r[_n]=e,fu(n,r,t,1,i,s)}(i,n[_n],o,e,a,s)}}let pi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sX}return n})();const rX=pi,iX=class extends rX{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function tX(n,e,t,r){const i=e.tView,a=wp(n,i,t,4096&n[le]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Yl]=n[e.index];const l=n[si];return null!==l&&(a[si]=l.createEmbeddedView(i)),Bb(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Iu(i)}};function sX(){return Bp(rn(),x())}function Bp(n,e){return 4&n.type?new iX(e,n,lc(n,e)):null}let Mr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=dX}return n})();function dX(){return gF(rn(),x())}const hX=Mr,fF=class extends hX{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const e=$f(this._hostTNode,this._hostLView);if(Dv(e)){const t=su(e,this._hostLView),r=iu(e);return new kn(t[U].data[r+8],t)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=pF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function au(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Su(be(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?l:this.parentInjector).get(Dr,null);_&&(s=_)}be(c.componentType??{});const f=c.create(l,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function a9(n){return Mn(n[rt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[rt],u=new fF(l,l[_n],l[rt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return nX(a,i,o,!r),e.attachToViewContainerRef(),Y1(hw(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=pF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=np(this._lContainer,t);r&&(Gf(hw(this._lContainer),t),Hv(r[U],r))}detach(e){const t=this._adjustIndex(e,-1),r=np(this._lContainer,t);return r&&null!=Gf(hw(this._lContainer),t)?new Iu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pF(n){return n[8]}function hw(n){return n[8]||(n[8]=[])}function gF(n,e){let t;const r=e[n.index];return Mn(r)?t=r:(t=$O(r,e,null,n),e[n.index]=t,Cp(e,t)),mF(t,e,n,r),new fF(t,n,e)}let mF=function _F(n,e,t,r){if(n[oi])return;let i;i=8&t.type?qe(r):function fX(n,e){const t=n[oe],r=t.createComment(""),i=zn(e,n);return Do(t,rp(t,i),r,function jW(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[oi]=i};class fw{constructor(e){this.queryList=e,this.matches=null}clone(){return new fw(this.queryList)}setDirty(){this.queryList.setDirty()}}class pw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new pw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==CF(e,t).matches&&this.queries[t].setDirty()}}class yF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class gw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new gw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class mw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new mw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,mX(t,s)),this.matchTNodeWithReadOption(e,t,Hf(t,e,s,!1,!1))}else r===pi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bt||i===Mr||i===pi&&4&t.type)this.addMatch(t.index,-2);else{const s=Hf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function mX(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function yX(n,e,t,r){return-1===t?function _X(n,e){return 11&n.type?lc(n,e):4&n.type?Bp(n,e):null}(e,n):-2===t?function vX(n,e,t){return t===Bt?lc(e,n):t===pi?Bp(e,n):t===Mr?gF(e,n):void 0}(n,e,r):So(n,n[U],t,e)}function vF(n,e,t,r){const i=e[si].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:yX(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function _w(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=vF(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=tn;d<u.length;d++){const h=u[d];h[Yl]===h[rt]&&_w(h[U],h,l,r)}if(null!==u[ja]){const d=u[ja];for(let h=0;h<d.length;h++){const f=d[h];_w(f[U],f,l,r)}}}}}return r}function zi(n){const e=x(),t=we(),r=M1();wv(r+1);const i=CF(t,r);if(n.dirty&&function s9(n){return 4==(4&n[le])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?_w(t,e,r,[]):vF(t,e,i,r);n.reset(s,j8),n.notifyOnChanges()}return!0}return!1}function ko(n,e,t){const r=we();r.firstCreatePass&&(wF(r,new yF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),bF(r,x(),e)}function yw(n,e,t,r){const i=we();if(i.firstCreatePass){const s=rn();wF(i,new yF(e,t,r),s.index),function wX(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}bF(i,x(),t)}function Gi(){return function bX(n,e){return n[si].queries[e].queryList}(x(),M1())}function bF(n,e,t){const r=new dw(4==(4&t));(function y7(n,e,t,r){const i=zO(e);i.push(t),n.firstCreatePass&&GO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[si]&&(e[si]=new pw),e[si].queries.push(new fw(r))}function wF(n,e,t){null===n.queries&&(n.queries=new gw),n.queries.track(new mw(e,t))}function CF(n,e){return n.queries.getByIndex(e)}const ju=new N("Application Initializer");let Iw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=$(ju,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(xu(s))t.push(s);else if(IP(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const qi=new N("LocaleId",{providedIn:"root",factory:()=>$(qi,ge.Optional|ge.SkipSelf)||function HX(){return typeof $localize<"u"&&$localize.locale||Tc}()});let UF=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let jF=(()=>{class n{compileModuleSync(t){return new aw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=$i(rr(t).declarations).reduce((o,a)=>{const c=be(a);return c&&o.push(new Su(c)),o},[]);return new qX(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GF=new N(""),Hp=new N("");let Mw,Tw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mw||(function hZ(n){Mw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(D(re),D(Aw),D(Hp))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Aw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Mw?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Rs=null;const qF=new N("AllowMultipleToken"),xw=new N("PlatformDestroyListeners"),Rw=new N("appBootstrapListener");class KF{constructor(e,t){this.name=e,this.token=t}}function YF(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=kw();if(!o||o.injector.get(qF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function gZ(n){if(Rs&&!Rs.get(qF,!1))throw new I(400,!1);(function WF(){!function q6(n){c1=n}(()=>{throw new I(600,!1)})})(),Rs=n;const e=n.get(ZF);(function QF(n){n.get(tO,null)?.forEach(t=>t())})(n)}(function XF(n=[],e){return Ze.create({name:e,providers:[{provide:sb,useValue:"platform"},{provide:xw,useValue:new Set([()=>Rs=null])},...n]})}(a,r))}return function _Z(n){const e=kw();if(!e)throw new I(401,!1);return e}()}}function kw(){return Rs?.get(ZF)??null}let ZF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function yZ(n="zone.js",e){return"noop"===n?new t7:"zone.js"===n?new re(e):n}(r?.ngZone,function JF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function MY(n,e,t){return new ow(n,e,t)}(t.moduleType,this.injector,function iL(n){return[{provide:re,useFactory:n},{provide:_u,multi:!0,useFactory:()=>{const e=$(bZ,{optional:!0});return()=>e.initialize()}},{provide:rL,useFactory:vZ},{provide:_O,useFactory:yO}]}(()=>i)),o=s.injector.get(ji,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{zp(this._modules,s),a.unsubscribe()})}),function eL(n,e,t){try{const r=t();return xu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Iw);return a.runInitializers(),a.donePromise.then(()=>(function EN(n){vr(n,"Expected localeId to be defined"),"string"==typeof n&&(CN=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(qi,Tc)||Tc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=tL({},r);return function fZ(n,e,t){const r=new aw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ks);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(xw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(D(Ze))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function tL(n,e){return Array.isArray(e)?e.reduce(tL,n):{...n,...e}}let ks=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(rL),this.zoneIsStable=$(_O),this.componentTypes=[],this.components=[],this.isStable=$(UF).hasPendingTasks.pipe(tr(t=>t?X(!1):this.zoneIsStable),SR(),IR()),this._injector=$(Dr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof sO;if(!this._injector.get(Iw).done)throw!i&&function Fa(n){const e=be(n)||en(n)||An(n);return null!==e&&e.standalone}(t),new I(405,!1);let o;o=i?t:this._injector.get(As).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function pZ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ro),l=o.create(Ze.NULL,[],r||o.selector,a),u=l.location.nativeElement,d=l.injector.get(GF,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),zp(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;zp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Rw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const rL=new N("",{providedIn:"root",factory:()=>$(ji).handleError.bind(void 0)});function vZ(){const n=$(re),e=$(ji);return t=>n.runOutsideAngular(()=>e.handleError(t))}let bZ=(()=>{class n{constructor(){this.zone=$(re),this.applicationRef=$(ks)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Hu=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=CZ}return n})();function CZ(n){return function EZ(n,e,t){if(Co(n)&&!t){const r=ir(n.index,e);return new Iu(r,r)}return 47&n.type?new Iu(e[bt],e):null}(rn(),x(),16==(16&n))}class cL{constructor(){}supports(e){return Dp(e)}create(e){return new MZ(e)}}const AZ=(n,e)=>e;class MZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||AZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<uL(r,i,s)?t:r,a=uL(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Dp(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function uK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new xZ(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class xZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class lL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new RZ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class dL{constructor(){}supports(e){return e instanceof Map||Ub(e)}create(){return new kZ}}class kZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ub(e)))throw new I(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new OZ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class OZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hL(){return new Wp([new cL])}let Wp=(()=>{class n{static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:hL});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hL()),deps:[[n,new Wf,new wt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return n})();function fL(){return new zu([new dL])}let zu=(()=>{class n{static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:fL});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fL()),deps:[[n,new Wf,new wt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new I(901,!1)}}return n})();const FZ=YF(null,"core",[]);let LZ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(D(ks))};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();function xc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Vw=null;function Os(){return Vw}class XZ{}const je=new N("DocumentToken");let Bw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return $(JZ)},providedIn:"platform"})}return n})();const ZZ=new N("Location Initialized");let JZ=(()=>{class n extends Bw{constructor(){super(),this._doc=$(je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Os().getBaseHref(this._doc)}onPopState(t){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Uw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function CL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Wi(n){return n&&"?"!==n[0]?"?"+n:n}let Po=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return $(IL)},providedIn:"root"})}return n})();const EL=new N("appBaseHref");let IL=(()=>{class n extends Po{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Uw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Wi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Wi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bw),D(EL,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eJ=(()=>{class n extends Po{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Uw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Wi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Wi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bw),D(EL,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Qp=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function rJ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(CL(SL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wi(r))}normalize(t){return n.stripTrailingSlash(function nJ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,SL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Wi;static#t=this.joinWithSlash=Uw;static#n=this.stripTrailingSlash=CL;static#r=this.\u0275fac=function(r){return new(r||n)(D(Po))};static#i=this.\u0275prov=F({token:n,factory:function(){return function tJ(){return new Qp(D(Po))}()},providedIn:"root"})}return n})();function SL(n){return n.replace(/\/index.html$/,"")}const Yw=/\s+/,PL=[];let og=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=PL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Yw):PL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Yw):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Yw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(T(Wp),T(zu),T(Bt),T($r))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),ag=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new GJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){LL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){LL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(T(Mr),T(pi))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class GJ{constructor(){this.$implicit=null,this.ngIf=null}}function LL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Lt(e)}'.`)}let BL=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Ds.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(T(Bt),T(zu),T($r))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Kn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();const jL="browser";function tC(n){return n===jL}function $L(n){return"server"===n}let bee=(()=>{class n{static#e=this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new wee(D(je),window)})}return n})();class wee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cee(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qee extends XZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iC extends qee{static makeCurrent(){!function YZ(n){Vw||(Vw=n)}(new iC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wee(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==t?null:function Kee(n){ug=ug||document.createElement("a"),ug.setAttribute("href",n);const e=ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function jJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ug,Ku=null,Yee=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();const sC=new N("EventManagerPlugins");let WL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(D(sC),D(re))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();class KL{constructor(e){this._doc=e}}const oC="ng-app-id";let QL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$L(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${oC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(oC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(oC,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(D(je),D(fp),D(ub,8),D(jr))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();const aC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cC=/%COMP%/g,ete=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function XL(n,e){return e.map(t=>t.replace(cC,n))}let lC=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$L(a),this.defaultRenderer=new uC(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===br.ShadowDom&&(r={...r,encapsulation:br.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof JL?i.applyToHost(t):i instanceof dC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case br.Emulated:s=new JL(c,l,r,this.appId,u,o,a,d);break;case br.ShadowDom:return new ite(c,l,t,r,o,a,this.nonce,d);default:s=new dC(c,l,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(D(WL),D(QL),D(fp),D(ete),D(je),D(jr),D(re),D(ub))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();class uC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(aC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ZL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ZL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=aC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=aC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ds.DashCase|Ds.Important)?e.style.setProperty(t,r,i&Ds.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ds.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Os().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ZL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ite extends uC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=XL(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dC extends uC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?XL(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JL extends dC{constructor(e,t,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=function tte(n){return"_ngcontent-%COMP%".replace(cC,n)}(l),this.hostAttr=function nte(n){return"_nghost-%COMP%".replace(cC,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ste=(()=>{class n extends KL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(D(je))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();const e2=["alt","control","meta","shift"],ote={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ate={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cte=(()=>{class n extends KL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Os().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),e2.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=ote[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),e2.forEach(o=>{o!==i&&(0,ate[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(D(je))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();const n2=[{provide:jr,useValue:jL},{provide:tO,useValue:function lte(){iC.makeCurrent()},multi:!0},{provide:je,useFactory:function dte(){return function QW(n){Yv=n}(document),document},deps:[]}],hte=YF(FZ,"browser",n2),fte=new N(""),r2=[{provide:Hp,useClass:class Qee{addToWindow(e){Ge.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new I(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements(),Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(r=>{const i=Ge.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Os().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:GF,useClass:Tw,deps:[re,Aw,Hp]},{provide:Tw,useClass:Tw,deps:[re,Aw,Hp]}],s2=[{provide:sb,useValue:"root"},{provide:ji,useFactory:function ute(){return new ji},deps:[]},{provide:sC,useClass:ste,multi:!0,deps:[je,re,jr]},{provide:sC,useClass:cte,multi:!0,deps:[je]},lC,QL,WL,{provide:bu,useExisting:lC},{provide:class Eee{},useClass:Yee,deps:[]},[]];let o2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:fp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(D(fte,12))};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({providers:[...s2,...r2],imports:[Kn,LZ]})}return n})(),hC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(D(je))};static#t=this.\u0275prov=F({token:n,factory:function(r){let i=null;return i=r?new r:function gte(){return new hC(D(je))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:wte}=Array,{getPrototypeOf:Cte,prototype:Ete,keys:Ite}=Object;function u2(n){if(1===n.length){const e=n[0];if(wte(e))return{args:e,keys:null};if(function Ste(n){return n&&"object"==typeof n&&Cte(n)===Ete}(e)){const t=Ite(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Dte}=Array;function pC(n){return Te(e=>function Tte(n,e){return Dte(e)?n(...e):n(e)}(n,e))}function d2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function dg(...n){const e=Hl(n),t=wR(n),{args:r,keys:i}=u2(n);if(0===r.length)return Ft([],e);const s=new Ue(function Ate(n,e,t=ys){return r=>{h2(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)h2(e,()=>{const l=Ft(n[c],e);let u=!1;l.subscribe(Xe(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>d2(i,o):ys));return t?s.pipe(pC(t)):s}function h2(n,e,t){n?Pi(t,n,e):e()}const hg=jl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fg(...n){return function Mte(){return Pa(1)}()(Ft(n,Hl(n)))}function f2(n){return new Ue(e=>{mn(n()).subscribe(e)})}function Qu(n,e){const t=ye(n)?n:()=>n,r=i=>i.error(t());return new Ue(e?i=>e.schedule(r,0,i):r)}function gC(){return ot((n,e)=>{let t=null;n._refCount++;const r=Xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class p2 extends Ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jt;const t=this.getSubject();e.add(this.source.subscribe(Xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jt.EMPTY)}return e}refCount(){return gC()(this)}}function Qn(n){return n<=0?()=>ri:ot((e,t)=>{let r=0;e.subscribe(Xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pg(...n){const e=Hl(n);return ot((t,r)=>{(e?fg(n,t,e):fg(n,t)).subscribe(r)})}function Fn(n,e){return ot((t,r)=>{let i=0;t.subscribe(Xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function gg(n){return ot((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function g2(n=xte){return ot((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xte(){return new hg}function No(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,s)=>n(i,s,r)):ys,Qn(1),t?gg(e):g2(()=>new hg))}function Yu(n,e){return ye(e)?Nt(n,e,1):Nt(n,1)}function on(n,e,t){const r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Xe(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ys}function Fo(n){return ot((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Xe(t,void 0,void 0,o=>{s=mn(n(o,Fo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function mC(n){return n<=0?()=>ri:ot((e,t)=>{let r=[];e.subscribe(Xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _C(n){return ot((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xu(n){return ot((e,t)=>{mn(n).subscribe(Xe(t,()=>t.complete(),Ry)),!t.closed&&e.subscribe(t)})}const de="primary",Zu=Symbol("RouteTitle");class Nte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kc(n){return new Nte(n)}function Fte(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!m2(n[i],e[i]))return!1;return!0}function m2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _2(n){return n.length>0?n[n.length-1]:null}function Ns(n){return function bte(n){return!!n&&(n instanceof Ue||ye(n.lift)&&ye(n.subscribe))}(n)?n:xu(n)?Ft(Promise.resolve(n)):X(n)}const Vte={exact:function b2(n,e,t){if(!Lo(n.segments,e.segments)||!mg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!b2(n.children[r],e.children[r],t))return!1;return!0},subset:w2},y2={exact:function Bte(n,e){return gi(n,e)},subset:function Ute(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>m2(n[t],e[t]))},ignored:()=>!0};function v2(n,e,t){return Vte[t.paths](n.root,e.root,t.matrixParams)&&y2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function w2(n,e,t){return C2(n,e,e.segments,t)}function C2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Lo(i,t)||e.hasChildren()||!mg(i,t,r))}if(n.segments.length===t.length){if(!Lo(n.segments,t)||!mg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!w2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Lo(n.segments,i)&&mg(n.segments,i,r)&&n.children[de])&&C2(n.children[de],e,s,r)}}function mg(n,e,t){return e.every((r,i)=>y2[t](n[i].parameters,r.parameters))}class Oc{constructor(e=new Fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return Hte.serialize(this)}}class Fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _g(this)}}class Ju{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kc(this.parameters)),this._parameterMap}toString(){return S2(this)}}function Lo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ed=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return new yC},providedIn:"root"})}return n})();class yC{parse(e){const t=new ene(e);return new Oc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${td(e.root,!0)}`,r=function qte(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yg(t)}=${yg(i)}`).join("&"):`${yg(t)}=${yg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function zte(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hte=new yC;function _g(n){return n.segments.map(e=>S2(e)).join("/")}function td(n,e){if(!n.hasChildren())return _g(n);if(e){const t=n.children[de]?td(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${td(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $te(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===de?[td(n.children[de],!1)]:[`${i}:${td(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[de]?`${_g(n)}/${t[0]}`:`${_g(n)}/(${t.join("//")})`}}function E2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return E2(n).replace(/%3B/gi,";")}function vC(n){return E2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vg(n){return decodeURIComponent(n)}function I2(n){return vg(n.replace(/\+/g,"%20"))}function S2(n){return`${vC(n.path)}${function Gte(n){return Object.keys(n).map(e=>`;${vC(e)}=${vC(n[e])}`).join("")}(n.parameters)}`}const Wte=/^[^\/()?;#]+/;function bC(n){const e=n.match(Wte);return e?e[0]:""}const Kte=/^[^\/()?;=#]+/,Yte=/^[^=?&#]+/,Zte=/^[^&#]+/;class ene{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Fe(e,t)),r}parseSegment(){const e=bC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Ju(vg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Qte(n){const e=n.match(Kte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bC(this.remaining);i&&(r=i,this.capture(r))}e[vg(t)]=vg(r)}parseQueryParam(e){const t=function Xte(n){const e=n.match(Yte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Jte(n){const e=n.match(Zte);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=I2(t),s=I2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[de]:new Fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}}function D2(n){return n.segments.length>0?new Fe([],{[de]:n}):n}function T2(n){const e={};for(const r of Object.keys(n.children)){const s=T2(n.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function tne(n){if(1===n.numberOfChildren&&n.children[de]){const e=n.children[de];return new Fe(n.segments.concat(e.segments),e.children)}return n}(new Fe(n.segments,e))}function Vo(n){return n instanceof Oc}function A2(n){let e;const i=D2(function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new Fe(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function M2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return wC(i,i,i,t,r);const s=function rne(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new R2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new R2(t,e,r)}(e);if(s.toRoot())return wC(i,i,new Fe([],{}),t,r);const o=function ine(n,e,t){if(n.isAbsolute)return new wg(e,!0,0);if(!t)return new wg(e,!1,NaN);if(null===t.parent)return new wg(t,!0,0);const r=bg(n.commands[0])?0:1;return function sne(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new wg(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?rd(o.segmentGroup,o.index,s.commands):k2(o.segmentGroup,o.index,s.commands);return wC(i,o.segmentGroup,a,t,r)}function bg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nd(n){return"object"==typeof n&&null!=n&&n.outlets}function wC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:x2(n,e,t);const a=D2(T2(o));return new Oc(a,s,i)}function x2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:x2(s,e,t)}),new Fe(n.segments,r)}class R2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bg(r[0]))throw new I(4003,!1);const i=r.find(nd);if(i&&i!==_2(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function k2(n,e,t){if(n||(n=new Fe([],{})),0===n.segments.length&&n.hasChildren())return rd(n,e,t);const r=function ane(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(nd(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!P2(c,l,o))return s;r+=2}else{if(!P2(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Fe(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new Fe(n.segments.slice(r.pathIndex),n.children),rd(s,0,i)}return r.match&&0===i.length?new Fe(n.segments,{}):r.match&&!n.hasChildren()?CC(n,e,t):r.match?rd(n,0,i):CC(n,e,t)}function rd(n,e,t){if(0===t.length)return new Fe(n.segments,{});{const r=function one(n){return nd(n[0])?n[0].outlets:{[de]:n}}(t),i={};if(Object.keys(r).some(s=>s!==de)&&n.children[de]&&1===n.numberOfChildren&&0===n.children[de].segments.length){const s=rd(n.children[de],e,t);return new Fe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=k2(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Fe(n.segments,i)}}function CC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(nd(s)){const c=cne(s.outlets);return new Fe(r,c)}if(0===i&&bg(t[0])){r.push(new Ju(n.segments[e].path,O2(t[0]))),i++;continue}const o=nd(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&bg(a)?(r.push(new Ju(o,O2(a))),i+=2):(r.push(new Ju(o,{})),i++)}return new Fe(r,{})}function cne(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=CC(new Fe([],{}),0,r))}),e}function O2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function P2(n,e,t){return n==t.path&&gi(e,t.parameters)}const id="imperative";class mi{constructor(e,t){this.id=e,this.url=t}}class Cg extends mi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fs extends mi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sd extends mi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pc extends mi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Eg extends mi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class N2 extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lne extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class une extends mi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dne extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne extends mi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class EC{}class IC{constructor(e){this.url=e}}class yne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new od,this.attachRef=null}}let od=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yne,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class V2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=SC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=SC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=DC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return DC(e,this._root).map(t=>t.value)}}function SC(n,e){if(n===e.value)return e;for(const t of e.children){const r=SC(n,t);if(r)return r}return null}function DC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=DC(n,t);if(r.length)return r.unshift(e),r}return[]}class Yi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class B2 extends V2{constructor(e,t){super(e),this.snapshot=t,TC(this,e)}toString(){return this.snapshot.toString()}}function U2(n,e){const t=function vne(n,e){const o=new Ig([],{},{},"",{},de,e,null,{});return new $2("",new Yi(o,[]))}(0,e),r=new yr([new Ju("",{})]),i=new yr({}),s=new yr({}),o=new yr({}),a=new yr(""),c=new Fc(r,i,o,a,s,de,e,t.root);return c.snapshot=t.root,new B2(new Yi(c,[]),t)}class Fc{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Te(l=>l[Zu]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>kc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>kc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bne(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ig{get title(){return this.data?.[Zu]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $2 extends V2{constructor(e,t){super(t),this.url=e,TC(this,t)}toString(){return H2(this._root)}}function TC(n,e){e.value._routerState=n,e.children.forEach(t=>TC(n,t))}function H2(n){const e=n.children.length>0?` { ${n.children.map(H2).join(", ")} } `:"";return`${n.value}${e}`}function AC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gi(e.params,t.params)||n.paramsSubject.next(t.params),function Lte(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),gi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function MC(n,e){const t=gi(n.params,e.params)&&function jte(n,e){return Lo(n,e)&&n.every((t,r)=>gi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||MC(n.parent,e.parent))}let xC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=$(od),this.location=$(Mr),this.changeDetector=$(Hu),this.environmentInjector=$(Dr),this.inputBinder=$(Sg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wne(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Y({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]})}return n})();class wne{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fc?this.route:e===od?this.childContexts:this.parent.get(e,t)}}const Sg=new N("");let z2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=dg([r.queryParams,r.params,r.data]).pipe(tr(([s,o,a],c)=>(a={...s,...o,...a},0===c?X(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function QZ(n){const e=be(n);if(!e)return null;const t=new Su(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function ad(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ene(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ad(n,r,i);return ad(n,r)})}(n,e,t);return new Yi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ad(n,a)),o}}const r=function Ine(n){return new Fc(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ad(n,s));return new Yi(r,i)}}const RC="ngNavigationCancelingError";function G2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=q2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function q2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[RC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function W2(n){return n&&n[RC]}let kC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["ng-component"]],standalone:!0,features:[YN],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[xC],encapsulation:2})}return n})();function OC(n){const e=n.children&&n.children.map(OC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=kC),t}function Qr(n){return n.outlet||de}function cd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kne{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),AC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Nc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Nc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new F2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mne(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(AC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),AC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=cd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class K2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dg{constructor(e,t){this.component=e,this.route=t}}function One(n,e,t){const r=n._root;return ld(r,e?e._root:null,t,[r.value])}function Lc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function d6(n){return null!==Ef(n)}(n)?e.get(n):n:r}function ld(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nc(e);return n.children.forEach(o=>{(function Nne(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Fne(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lo(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MC(n,e)||!gi(n.queryParams,e.queryParams);default:return!MC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new K2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ld(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Dg(a.outlet.component,o))}else o&&ud(e,a,i),i.canActivateChecks.push(new K2(r)),ld(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ud(a,t.getContext(o),i)),i}function ud(n,e,t){const r=Nc(n),i=n.value;Object.entries(r).forEach(([s,o])=>{ud(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Dg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function dd(n){return"function"==typeof n}function Q2(n){return n instanceof hg||"EmptyError"===n?.name}const Tg=Symbol("INITIAL_VALUE");function Vc(){return tr(n=>dg(n.map(e=>e.pipe(Qn(1),pg(Tg)))).pipe(Te(e=>{for(const t of e)if(!0!==t){if(t===Tg)return Tg;if(!1===t||t instanceof Oc)return t}return!0}),Fn(e=>e!==Tg),Qn(1)))}function Y2(n){return function yq(...n){return rR(n)}(on(e=>{if(Vo(e))throw G2(0,e)}),Te(e=>!0===e))}class Ag{constructor(e){this.segmentGroup=e||null}}class X2{constructor(e){this.urlTree=e}}function Bc(n){return Qu(new Ag(n))}function Z2(n){return Qu(new X2(n))}class nre{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new I(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[de])return Qu(new I(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Oc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const PC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rre(n,e,t,r,i){const s=NC(n,e,t);return s.matched?(r=function Dne(n,e){return n.providers&&!n._injector&&(n._injector=cw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Jne(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?X(i.map(o=>{const a=Lc(o,n);return Ns(function $ne(n){return n&&dd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vc(),Y2()):X(!0)}(r,e,t).pipe(Te(o=>!0===o?s:{...PC}))):X(s)}function NC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fte)(t,n,e);if(!i)return{...PC};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function J2(n,e,t,r){return t.length>0&&function ore(n,e,t){return t.some(r=>Mg(n,e,r)&&Qr(r)!==de)}(n,t,r)?{segmentGroup:new Fe(e,sre(r,new Fe(t,n.children))),slicedSegments:[]}:0===t.length&&function are(n,e,t){return t.some(r=>Mg(n,e,r))}(n,t,r)?{segmentGroup:new Fe(n.segments,ire(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Fe(n.segments,n.children),slicedSegments:t}}function ire(n,e,t,r,i){const s={};for(const o of r)if(Mg(n,t,o)&&!i[Qr(o)]){const a=new Fe([],{});s[Qr(o)]=a}return{...i,...s}}function sre(n,e){const t={};t[de]=e;for(const r of n)if(""===r.path&&Qr(r)!==de){const i=new Fe([],{});t[Qr(r)]=i}return t}function Mg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class dre{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new nre(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,!1)}recognize(){const e=J2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Fo(t=>{if(t instanceof X2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ag?this.noMatchError(t):t}),Te(t=>{const r=new Ig([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Yi(r,t),s=new $2("",i),o=function nne(n,e,t=null,r=null){return M2(A2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(Fo(r=>{throw r instanceof Ag?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=j2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ft(i).pipe(Yu(s=>{const o=r.children[s],a=function xne(n,e){const t=n.filter(r=>Qr(r)===e);return t.push(...n.filter(r=>Qr(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function kte(n,e){return ot(function Rte(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Xe(o,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),gg(null),function Ote(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,s)=>n(i,s,r)):ys,mC(1),t?gg(e):g2(()=>new hg))}(),Nt(s=>{if(null===s)return Bc(r);const o=eV(s);return function hre(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}(o),X(o)}))}processSegment(e,t,r,i,s,o){return Ft(t).pipe(Yu(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Fo(c=>{if(c instanceof Ag)return X(null);throw c}))),No(a=>!!a),Fo(a=>{if(Q2(a))return function lre(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?X([]):Bc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function cre(n,e,t,r){return!!(Qr(n)===r||r!==de&&Mg(e,t,n))&&("**"===n.path||NC(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Bc(i):Bc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Z2(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Nt(o=>{const a=new Fe(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=NC(t,i,s);if(!a)return Bc(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?Z2(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Nt(h=>this.processSegment(e,r,t,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?_2(i).parameters:{};a=X({snapshot:new Ig(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tV(r),Qr(r),r.component??r._loadedComponent??null,r,nV(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=rre(t,r,i,e).pipe(Te(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Ig(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tV(r),Qr(r),r.component??r._loadedComponent??null,r,nV(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(tr(c=>null===c?Bc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(tr(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=J2(t,h,f,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Te(w=>null===w?null:[new Yi(d,w)]));if(0===l.length&&0===g.length)return X([new Yi(d,[])]);const _=Qr(r)===s;return this.processSegment(u,l,p,g,_?de:s,!0).pipe(Te(w=>[new Yi(d,w)]))}))))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?X({routes:t._loadedRoutes,injector:t._loadedInjector}):function Zne(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(o=>{const a=Lc(o,n);return Ns(function Vne(n){return n&&dd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vc(),Y2())}(e,t,r).pipe(Nt(i=>i?this.configLoader.loadChildren(e,t).pipe(on(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function tre(n){return Qu(q2(!1,3))}())):X({routes:[],injector:e})}}function fre(n){const e=n.value.routeConfig;return e&&""===e.path}function eV(n){const e=[],t=new Set;for(const r of n){if(!fre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=eV(r.children);e.push(new Yi(r.value,i))}return e.filter(r=>!t.has(r))}function tV(n){return n.data||{}}function nV(n){return n.resolve||{}}function rV(n){return"string"==typeof n.title||null===n.title}function FC(n){return tr(e=>{const t=n(e);return t?Ft(t).pipe(Te(()=>e)):X(e)})}const Uc=new N("ROUTES");let LC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(jF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ns(t.loadComponent()).pipe(Te(iV),on(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),_C(()=>{this.componentLoaders.delete(t)})),i=new p2(r,()=>new ze).pipe(gC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function bre(n,e,t,r){return Ns(n.loadChildren()).pipe(Te(iV),Nt(i=>i instanceof KN||Array.isArray(i)?X(i):Ft(e.compileModuleAsync(i))),Te(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:o.map(OC),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(_C(()=>{this.childrenLoaders.delete(r)})),o=new p2(s,()=>new ze).pipe(gC());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iV(n){return function wre(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=$(LC),this.environmentInjector=$(Dr),this.urlSerializer=$(ed),this.rootContexts=$(od),this.inputBindingEnabled=null!==$(Sg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new pne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fne(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new yr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:id,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fn(s=>0!==s.id),Te(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),tr(s=>{this.currentTransition=s;let o=!1,a=!1;return X(s).pipe(on(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tr(c=>{const l=c.currentBrowserUrl.toString(),u=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Pc(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),ri}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return X(c).pipe(tr(h=>{const f=this.transitions?.getValue();return this.events.next(new Cg(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ri:Promise.resolve(h)}),function pre(n,e,t,r,i,s){return Nt(o=>function ure(n,e,t,r,i,s,o="emptyOnly"){return new dre(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),on(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new N2(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=c,w=new Cg(h,this.urlSerializer.serialize(f),p,g);this.events.next(w);const y=U2(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},X(s)}{const h="";return this.events.next(new Pc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),ri}}),on(c=>{const l=new lne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Te(c=>(this.currentTransition=s={...c,guards:One(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function zne(n,e){return Nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?X({...t,guardsResult:!0}):function Gne(n,e,t,r){return Ft(n).pipe(Nt(i=>function Xne(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const c=cd(e)??i,l=Lc(a,c);return Ns(function jne(n){return n&&dd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(No())})).pipe(Vc()):X(!0)}(i.component,i.route,t,e,r)),No(i=>!0!==i,!0))}(o,r,i,n).pipe(Nt(a=>a&&function Lne(n){return"boolean"==typeof n}(a)?function qne(n,e,t,r){return Ft(e).pipe(Yu(i=>fg(function Kne(n,e){return null!==n&&e&&e(new gne(n)),X(!0)}(i.route.parent,r),function Wne(n,e){return null!==n&&e&&e(new _ne(n)),X(!0)}(i.route,r),function Yne(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Pne(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>f2(()=>X(o.guards.map(c=>{const l=cd(o.node)??t,u=Lc(c,l);return Ns(function Une(n){return n&&dd(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(No())})).pipe(Vc())));return X(s).pipe(Vc())}(n,i.path,t),function Qne(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>f2(()=>{const o=cd(e)??t,a=Lc(s,o);return Ns(function Bne(n){return n&&dd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(No())}));return X(i).pipe(Vc())}(n,i.route,t))),No(i=>!0!==i,!0))}(r,s,n,e):X(a)),Te(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),on(c=>{if(s.guardsResult=c.guardsResult,Vo(c.guardsResult))throw G2(0,c.guardsResult);const l=new une(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Fn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),FC(c=>{if(c.guards.canActivateChecks.length)return X(c).pipe(on(l=>{const u=new dne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),tr(l=>{let u=!1;return X(l).pipe(function gre(n,e){return Nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let s=0;return Ft(i).pipe(Yu(o=>function mre(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!rV(i)&&(s[Zu]=i.title),function _re(n,e,t,r){const i=function yre(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return X({});const s={};return Ft(i).pipe(Nt(o=>function vre(n,e,t,r){const i=cd(e)??r,s=Lc(n,i);return Ns(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(No(),on(a=>{s[o]=a}))),mC(1),function Pte(n){return Te(()=>n)}(s),Fo(o=>Q2(o)?ri:Qu(o)))}(s,n,e,r).pipe(Te(o=>(n._resolvedData=o,n.data=j2(n,t).resolve,i&&rV(i)&&(n.data[Zu]=i.title),null)))}(o.route,r,n,e)),on(()=>s++),mC(1),Nt(o=>s===i.length?X(t):ri))})}(t.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),on(l=>{const u=new hne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),FC(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(on(h=>{u.component=h}),Te(()=>{})));for(const h of u.children)d.push(...l(h));return d};return dg(l(c.targetSnapshot.root)).pipe(gg(),Qn(1))}),FC(()=>this.afterPreactivation()),Te(c=>{const l=function Cne(n,e,t){const r=ad(n,e._root,t?t._root:void 0);return new B2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),on(()=>{this.events.next(new EC)}),((n,e,t,r)=>Te(i=>(new kne(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qn(1),on({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Xu(this.transitionAbortSubject.pipe(on(c=>{throw c}))),_C(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Fo(c=>{if(a=!0,W2(c))this.events.next(new sd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Sne(n){return W2(n)&&Vo(n.url)}(c)?this.events.next(new IC(c.url)):s.resolve(!1);else{this.events.next(new Eg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(l){s.reject(l)}}return ri}))}))}cancelNavigationTransition(t,r,i){const s=new sd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sV(n){return n!==id}let oV=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[Zu]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return $(Cre)},providedIn:"root"})}return n})(),Cre=(()=>{class n extends oV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(D(hC))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ere=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return $(Sre)},providedIn:"root"})}return n})();class Ire{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Sre=(()=>{class n extends Ire{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=sn(n)))(i||n)}}();static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rg=new N("",{providedIn:"root",factory:()=>({})});let Dre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:function(){return $(Tre)},providedIn:"root"})}return n})(),Tre=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hd=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(hd||{});function aV(n,e){n.events.pipe(Fn(t=>t instanceof Fs||t instanceof sd||t instanceof Eg||t instanceof Pc),Te(t=>t instanceof Fs||t instanceof Pc?hd.COMPLETE:t instanceof sd&&(0===t.code||1===t.code)?hd.REDIRECTING:hd.FAILED),Fn(t=>t!==hd.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function Are(n){throw n}function Mre(n,e,t){return e.parse("/")}const xre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$(BF),this.isNgZoneEnabled=!1,this._events=new ze,this.options=$(Rg,{optional:!0})||{},this.pendingTasks=$(UF),this.errorHandler=this.options.errorHandler||Are,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$(Dre),this.routeReuseStrategy=$(Ere),this.titleStrategy=$(oV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$(Uc,{optional:!0})?.flat()??[],this.navigationTransitions=$(xg),this.urlSerializer=$(ed),this.location=$(Qp),this.componentInputBindingEnabled=!!$(Sg,{optional:!0}),this.eventsSubscription=new Jt,this.isNgZoneEnabled=$(re)instanceof re&&re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Oc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=U2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(cV(r)&&this._events.next(r));if(r instanceof Cg)sV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Pc)this.rawUrlTree=i.rawUrl;else if(r instanceof N2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof EC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof sd)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof IC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sV(i.source)};this.scheduleNavigation(s,id,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Eg&&this.restoreHistory(i,!0),r instanceof Fs&&(this.navigated=!0),cV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),id,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(OC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=A2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return M2(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,id,null,r)}navigate(t,r={skipLocationChange:!1}){return function kre(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new I(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...xre}:!1===r?{...Rre}:r,Vo(t))return v2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return v2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return aV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cV(n){return!(n instanceof EC||n instanceof IC)}let _i=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function qk(n,e,t){return function _8(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Gk:zk}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(T(Yn),T(Fc),function zf(n){return function L9(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(LR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(rn(),n)}("tabindex"),T($r),T(Bt),T(Po))};static#t=this.\u0275dir=Y({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Ne("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Hr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",xc],skipLocationChange:["skipLocationChange","skipLocationChange",xc],replaceUrl:["replaceUrl","replaceUrl",xc],routerLink:"routerLink"},standalone:!0,features:[oP,Cr]})}return n})(),lV=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Fs&&this.update()})}ngAfterContentInit(){X(this.links.changes,X(null)).pipe(Pa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ft(t).pipe(Pa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Ore(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(T(Yn),T(Bt),T($r),T(Hu),T(_i,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&yw(s,_i,5),2&r){let o;zi(o=Gi())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Cr]})}return n})();class uV{}let Pre=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Fn(t=>t instanceof Fs),Yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=cw(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ft(i).pipe(Pa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):X(null);const s=i.pipe(Nt(o=>null===o?X(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Ft([s,this.loader.loadComponent(r)]).pipe(Pa()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(D(Yn),D(jF),D(Dr),D(uV),D(LC))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VC=new N("");let dV=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof L2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new L2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function OO(){throw new Error("invalid")}()};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function Xi(n,e){return{\u0275kind:n,\u0275providers:e}}function fV(){const n=$(Ze);return e=>{const t=n.get(ks);if(e!==t.components[0])return;const r=n.get(Yn),i=n.get(pV);1===n.get(BC)&&r.initialNavigation(),n.get(gV,null,ge.Optional)?.setUpPreloading(),n.get(VC,null,ge.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const pV=new N("",{factory:()=>new ze}),BC=new N("",{providedIn:"root",factory:()=>1}),gV=new N("");function Vre(n){return Xi(0,[{provide:gV,useExisting:Pre},{provide:uV,useExisting:n}])}const mV=new N("ROUTER_FORROOT_GUARD"),Ure=[Qp,{provide:ed,useClass:yC},Yn,od,{provide:Fc,useFactory:function hV(n){return n.routerState.root},deps:[Yn]},LC,[]];function jre(){return new KF("Router",Yn)}let UC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ure,[],{provide:Uc,multi:!0,useValue:t},{provide:mV,useFactory:Gre,deps:[[Yn,new wt,new Wf]]},{provide:Rg,useValue:r||{}},r?.useHash?{provide:Po,useClass:eJ}:{provide:Po,useClass:IL},{provide:VC,useFactory:()=>{const n=$(bee),e=$(re),t=$(Rg),r=$(xg),i=$(ed);return t.scrollOffset&&n.setOffset(t.scrollOffset),new dV(i,r,n,e,t)}},r?.preloadingStrategy?Vre(r.preloadingStrategy).\u0275providers:[],{provide:KF,multi:!0,useFactory:jre},r?.initialNavigation?qre(r):[],r?.bindToComponentInputs?Xi(8,[z2,{provide:Sg,useExisting:z2}]).\u0275providers:[],[{provide:_V,useFactory:fV},{provide:Rw,multi:!0,useExisting:_V}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Uc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(D(mV,8))};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();function Gre(n){return"guarded"}function qre(n){return["disabled"===n.initialNavigation?Xi(3,[{provide:ju,multi:!0,useFactory:()=>{const e=$(Yn);return()=>{e.setUpLocationChangeListener()}}},{provide:BC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xi(2,[{provide:BC,useValue:0},{provide:ju,multi:!0,deps:[Ze],useFactory:e=>{const t=e.get(ZZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Yn),s=e.get(pV);aV(i,()=>{r(!0)}),e.get(xg).afterPreactivation=()=>(r(!0),s.closed?X(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const _V=new N(""),Kre=["addListener","removeListener"],Qre=["addEventListener","removeEventListener"],Yre=["on","off"];function Ls(n,e,t,r){if(ye(t)&&(r=t,t=void 0),r)return Ls(n,e,t).pipe(pC(r));const[i,s]=function Jre(n){return ye(n.addEventListener)&&ye(n.removeEventListener)}(n)?Qre.map(o=>a=>n[o](e,a,t)):function Xre(n){return ye(n.addListener)&&ye(n.removeListener)}(n)?Kre.map(yV(n,e)):function Zre(n){return ye(n.on)&&ye(n.off)}(n)?Yre.map(yV(n,e)):[];if(!i&&Hy(n))return Nt(o=>Ls(o,e,t))(mn(n));if(!i)throw new TypeError("Invalid event target");return new Ue(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function yV(n,e){return t=>r=>n[t](e,r)}let eie=(()=>{class n{_elementRef;_renderer;constructor(t,r){this._elementRef=t,this._renderer=r}collapseClass=!0;collapseShow=new Re;collapseShown=new Re;collapseHide=new Re;collapseHidden=new Re;set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const t=this.host.scrollHeight;Ls(this.host,"transitionend").pipe(Qn(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,Ls(this.host,"transitionend").pipe(Qn(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,r){let i=!1;const o=r+5;Ls(t,"transitionend").pipe(Qn(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||t.dispatchEvent(new Event("transitionend"))},o)}static \u0275fac=function(r){return new(r||n)(T(Bt),T($r))};static \u0275dir=Y({type:n,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&Sc("collapse",i.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]})}return n})(),bV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({})}return n})(),Vs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-header"]],decls:34,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-white","shadow-0"],[1,"container"],["routerLink","/home",1,"navbar-brand","me-2"],["src","/live/assets/images/try-on-logo-big-icon.png","alt","TryOn Logo","loading","lazy"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],["id","navbarButtonsExample","mdbCollapse","",1,"collapse","navbar-collapse"],["buttonsNav","mdbCollapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/about-us","routerLinkActive","active",1,"nav-link"],["routerLink","/features","routerLinkActive","active",1,"nav-link"],["routerLink","/fitting-room","routerLinkActive","active",1,"nav-link"],["routerLink","/shop","routerLinkActive","active",1,"nav-link"],["href","#",1,"nav-link"],["routerLink","/login",1,"nav-link"],["routerLink","/contactUs","routerLinkActive","active",1,"nav-link"]],template:function(r,i){if(1&r){const s=Ms();v(0,"nav",0)(1,"div",1)(2,"a",2),j(3,"img",3),b(),v(4,"button",4),Ne("click",function(){return Er(s),Ir(zr(7).toggle())}),j(5,"i",5),b(),v(6,"div",6,7)(8,"ul",8)(9,"li",9)(10,"a",10),S(11,"HOME"),b()(),v(12,"li",9)(13,"a",11),S(14,"ABOUT US"),b()(),v(15,"li",9)(16,"a",12),S(17,"FEATURES"),b()(),v(18,"li",9)(19,"a",13),S(20,"FITTING ROOM"),b()(),v(21,"li",9)(22,"a",14),S(23,"SHOP"),b()(),v(24,"li",9)(25,"a",15),S(26,"PARTNERS"),b()(),v(27,"li",9)(28,"a",16)(29,"u"),S(30,"LOG IN"),b()()(),v(31,"li",9)(32,"a",17),S(33,"CONTACT"),b()()()()()()}},dependencies:[_i,lV,eie],styles:["ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,serif}button[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{color:#190101}@media only screen and (min-width: 0px){nav.navbar[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:32px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:2px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 375px){nav.navbar[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:40px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 414px){nav.navbar[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:48px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 820px){ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{text-align:center;font-size:medium}img[_ngcontent-%COMP%]{height:56px;margin-top:-1px}button[_ngcontent-%COMP%] > i.fas[_ngcontent-%COMP%]{font-size:1.5rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding:0 0 4px 4px}}@media only screen and (min-width: 992px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:medium;margin-right:0rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1200px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:medium;margin-right:1rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1300px){nav.navbar[_ngcontent-%COMP%]{padding-top:2.2rem;padding-bottom:2.2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:large;margin-right:.25rem}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}@media only screen and (min-width: 1400px){nav.navbar[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1.2rem}ul[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{font-size:large;margin-right:1.25rem}img[_ngcontent-%COMP%]{height:72px;margin-top:-1px}.active[_ngcontent-%COMP%]{border-bottom:4px solid #CF0A2C;padding-bottom:3px;padding-top:.5rem}}"]})}return n})();function fd(n){return null!=n&&"false"!=`${n}`}function kg(n){return Array.isArray(n)?n:[n]}function Mt(n){return null==n?"":"string"==typeof n?n:`${n}px`}class iie extends Jt{constructor(e,t){super()}schedule(e,t=0){return this}}const Og={setInterval(n,e,...t){const{delegate:r}=Og;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Og;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Pg extends iie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Og.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Og.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const wV={now:()=>(wV.delegate||Date).now(),delegate:void 0};class pd{constructor(e,t=pd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}pd.now=wV.now;class Ng extends pd{constructor(e,t=pd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Fg=new Ng(Pg),sie=Fg;let jC;try{jC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jC=!1}let Uo,Bo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?tC(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(D(jr))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cie(){if(null==Uo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Uo=!1,Uo;if("scrollBehavior"in document.documentElement.style)Uo=!0;else{const n=Element.prototype.scrollTo;Uo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Uo}function IV(n){return n.composedPath?n.composedPath()[0]:n.target}function SV(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let uie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();const DV=new Set;let jo,die=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function hie(n,e){if(!DV.has(n))try{jo||(jo=document.createElement("style"),e&&(jo.nonce=e),jo.setAttribute("type","text/css"),document.head.appendChild(jo)),jo.sheet&&(jo.sheet.insertRule(`@media ${n} {body{ }}`,0),DV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bo),D(ub,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pie=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ze}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return TV(kg(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=dg(TV(kg(t)).map(o=>this._registerQuery(o).observable));return s=fg(s.pipe(Qn(1)),s.pipe(function rie(n){return Fn((e,t)=>n<=t)}(1),function oie(n,e=Fg){return ot((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(Xe(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(Te(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ue(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(pg(r),Te(({matches:o})=>({query:t,matches:o})),Xu(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(D(die),D(re))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const gie=function(){return{3:"d-padding",2:"m-padding",1:"l-padding",0:"xl-padding"}};let AV=(()=>{class n{constructor(t){this.breakPointObserver=t,this.showNav=!0,this.topPadding=!0,this.breakpoints=["(min-width: 992px)","(min-width: 831px)","(min-width: 768px)","(min-width: 0px)"],this.useBreakpoint=3}ngOnInit(){this.topPadding&&this.breakPointObserver.observe(this.breakpoints).subscribe(t=>{for(let r=0;r<this.breakpoints.length;r++)if(t.breakpoints[this.breakpoints[r]]){this.useBreakpoint=r;break}})}static#e=this.\u0275fac=function(r){return new(r||n)(T(pie))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-about-us"]],inputs:{showNav:"showNav",topPadding:"topPadding"},decls:29,vars:3,consts:[[1,"container-fluid"],[1,"fixed-top",3,"hidden"],[1,"row"],[1,"col-md","text-white",3,"ngClass"],[1,"about-title"],["routerLink","/features","type","button"],[1,"col-md"],[1,"about-picture"]],template:function(r,i){1&r&&(v(0,"div",0),j(1,"app-header",1),v(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),S(6,"About Us"),b(),v(7,"p"),S(8,'We understand that e-commerce businesses have unique challenges compared to brick-and-mortar businesses. The most prominent challenge for online retailers has always been high product returns and refunds. For shoppers it is the "feel factor", the inability to touch, see, and fit a product as you would in a store. While returns and refunds are a standard part of the business model, they can considerably impact the brands\' profitability and reputation. That is why we created Try-On. '),b(),v(9,"p"),S(10,"An innovative-based solution that eliminates the need for "),v(11,"b"),S(12,"trail"),b(),S(13," and "),v(14,"b"),S(15,"error"),b(),S(16," and helps "),v(17,"b"),S(18,"bridge the gap between online and in-store shopping experiences"),b(),S(19," - improving customer satisfaction, reducing returns, and driving sales for online stores. "),b(),v(20,"p"),S(21,"Our innovation works for you, your business, and your customers."),b(),v(22,"p")(23,"u")(24,"b")(25,"a",5),S(26,"READ MORE"),b()()()()()(),v(27,"div",6),j(28,"div",7),b()()()),2&r&&(ct(1),lt("hidden",!i.showNav),ct(2),lt("ngClass",function rF(n,e,t){const r=xn()+n,i=x();return i[r]===ce?di(i,r,t?e.call(t):e()):function Du(n,e){return n[e]}(i,r)}(2,gie)[i.useBreakpoint]))},dependencies:[og,Vs,_i],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-family:Montserrat,serif}.about-title[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:2rem}.about-title[_ngcontent-%COMP%], .about-subtitle[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]{color:#fff}div.col-md.text-white[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:justify;word-break:keep-all}.d-padding[_ngcontent-%COMP%]{padding-top:5rem}.m-padding[_ngcontent-%COMP%]{padding-top:6rem}.l-padding[_ngcontent-%COMP%]{padding-top:7rem}.xl-padding[_ngcontent-%COMP%]{padding-top:10rem}@media only screen and (min-width: 0px){div.row[_ngcontent-%COMP%]{background-color:#cf0a2c;height:100%;width:100%;margin:0}div.text-white[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-right:1rem}.about-title[_ngcontent-%COMP%]{font-size:40px}.about-subtitle[_ngcontent-%COMP%]{font-size:16px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;height:50vh}}@media only screen and (min-width: 320px){.about-title[_ngcontent-%COMP%]{font-size:48px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 450px){.about-title[_ngcontent-%COMP%]{font-size:64px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 700px){.about-title[_ngcontent-%COMP%]{font-size:72px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (min-width: 768px){div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}.about-title[_ngcontent-%COMP%]{font-size:72px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 831px){div.row[_ngcontent-%COMP%]{background-color:#cf0a2c;height:100%;width:100%;margin:0}div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}}@media only screen and (min-width: 992px){div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:2rem}}@media only screen and (min-width: 1242px){.about-title[_ngcontent-%COMP%]{font-size:80px}.about-subtitle[_ngcontent-%COMP%]{font-size:24px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 1400px){p[_ngcontent-%COMP%]{font-size:20px}.about-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/about.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}"]})}return n})(),MV=(()=>{class n{constructor(){this.showNav=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-features"]],inputs:{showNav:"showNav"},decls:102,vars:1,consts:[[1,"container"],[1,"fixed-top",3,"hidden"],[1,"row","first-section"],[1,"col-md","feature-video"],["autoplay","","loop",""],["src","/live/assets/videos/features.mp4","type","video/mp4"],[1,"col-md"],[1,"feature-title","text-center"],[1,"future-list"],[1,"row"],[1,"col-1"],[1,"fas","fa-fingerprint","list-icon"],[1,"col-11"],[1,"fas","fa-gift","list-icon"],[1,"fas","fa-atom","list-icon"],[1,"row","second-section"],[1,"mb-4"],[1,"feature-title"],[1,"feature-list"],[1,"col-6"],[1,"avatar-picture"],[1,"row","create-heading"],[1,"text-center"],[1,"row","create"],[1,"col-md","create-avatar"],["type","button","mdbRipple","",1,"btn","btn-lg"],[1,"col-md","become-partner"],[1,"text-white"],["type","button",1,"btn","btn-lg"]],template:function(r,i){1&r&&(v(0,"div",0),j(1,"app-header",1),v(2,"div",2)(3,"div",3)(4,"video",4),j(5,"source",5),S(6," Your browser does not support the video tag. "),b()(),v(7,"div",6)(8,"h1",7),S(9," Welcome to the "),v(10,"span"),S(11,"Future"),b(),S(12," of"),j(13,"br"),v(14,"span"),S(15,"Online Shopping"),b(),S(16," with Try-On "),b(),v(17,"p"),S(18," Are you ready to revolutionise your online store and enhance the shopping experience for your customers? Look no further! Try-On is a game-changing solution that empowers e-commerce businesses to seamlessly integrate virtual try-on technology into their websites. Say goodbye to traditional shopping limitations and embrace the future of interactive online shopping! "),b(),v(19,"div",8)(20,"div",9)(21,"div",10),j(22,"i",11),b(),v(23,"div",12)(24,"h5"),S(25,"SEAMLESS INTEGRATION"),b(),v(26,"p"),S(27,"Easily integrate Try-On Plugin into your e-commerce website."),b()()(),v(28,"div",9)(29,"div",10),j(30,"i",13),b(),v(31,"div",12)(32,"h5"),S(33,"CUSTOMER ENGAGEMENT"),b(),v(34,"p"),S(35,"Shoppers can now enjoy a photo-realistic virtual try-on experience, helping them make confident buying decisions. "),b()()(),v(36,"div",9)(37,"div",10),j(38,"i",14),b(),v(39,"div",12)(40,"h5"),S(41,"DATA ANALYTICS & INSIGHTS"),b(),v(42,"p"),S(43,"Leverage the data collected to improve your offerings and tailor marketing"),b()()()()()(),v(44,"div",15)(45,"div",6)(46,"h6",16),S(47,"FEATURES"),b(),v(48,"h1",17),S(49," Easily create a 3D photo-realistic avatar "),b(),v(50,"p"),S(51,"The app provides shoppers with accurate size recommendations & fit based on their precise body measurements. "),b(),v(52,"div",18)(53,"div",9)(54,"div",19)(55,"div"),S(56,"SEAMLESS INTEGRATION"),b()(),v(57,"div",19)(58,"div"),S(59,"VIRTUAL FITTING ROOM"),b()()(),v(60,"div",9)(61,"div",19)(62,"div"),S(63,"2D - 3D CONVERSION"),b()(),v(64,"div",19)(65,"div"),S(66,"3D AVATARS & MANNEQUINS"),b()()(),v(67,"div",9)(68,"div",19)(69,"div"),S(70,"SIZE RECOMMENDATION"),b()(),v(71,"div",19)(72,"div"),S(73,"MIX AND MATCH"),b()()(),v(74,"div",9)(75,"div",19)(76,"div"),S(77,"DATA ANALYTICS"),b()(),v(78,"div",19)(79,"div"),S(80,"MOBILE FRIENDLY"),b()()()()(),v(81,"div",6),j(82,"div",20),b()(),v(83,"div",21)(84,"h1",22),S(85,'"we take the '),v(86,"span"),S(87,"guesswork"),b(),S(88,' out of online shopping"'),b()(),v(89,"div",23)(90,"div",24)(91,"div")(92,"p"),S(93,"Create your own personalised virtual twin"),b(),v(94,"button",25),S(95,"CREATE AVATAR"),b()()(),v(96,"div",26)(97,"div")(98,"p",27),S(99,"With just a click of a button, join the revolution today!"),b(),v(100,"button",28),S(101,"BECOME PARTNER"),b()()()()()),2&r&&(ct(1),lt("hidden",!i.showNav))},dependencies:[Vs],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]{padding:0;margin:0}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Montserrat,serif;color:#190101}div.row[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:400;color:#190101}h6[_ngcontent-%COMP%]{color:#cf0a2c}h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#cf0a2c}p[_ngcontent-%COMP%], div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%]{font-family:Garet,serif;color:#190101}div.first-section[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:justify;word-break:keep-all}@media only screen and (min-width: 0px){video[_ngcontent-%COMP%]{height:100%;width:100%;display:block;padding-left:2.5rem;margin:0 auto 1.5rem 0}.feature-title[_ngcontent-%COMP%]{padding-left:.5rem}.first-section[_ngcontent-%COMP%]{padding-top:5rem}.first-section[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:0 2rem}.future-list[_ngcontent-%COMP%]{padding-top:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-left:1rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-left:2.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:2.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-bottom:.5rem}.second-section[_ngcontent-%COMP%]{padding-top:9rem;padding-left:2rem;height:100%;width:100%}.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.5rem;border-radius:4px;font-size:10px;text-align:center;padding-top:1rem;padding-bottom:1rem}.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-position:center;height:50vh}}@media only screen and (min-width: 414px){.first-section[_ngcontent-%COMP%]{padding-top:6rem}}@media only screen and (min-width: 450px){.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.5rem;font-size:1em;border-radius:4px;text-align:center;padding-top:1rem;padding-bottom:1rem}}@media only screen and (min-width: 530px){.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-position:center;height:75vh}}@media only screen and (min-width: 768px){.first-section[_ngcontent-%COMP%]{padding-top:10rem;height:100%;width:100%}video[_ngcontent-%COMP%]{height:100%;width:100%}.future-list[_ngcontent-%COMP%]{padding-top:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-left:2rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-left:1.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-11[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding-left:1.5rem}.future-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{padding-bottom:.5rem}.second-section[_ngcontent-%COMP%]{padding-top:9rem;padding-left:5rem;height:100%;width:100%}.feature-list[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div.col-6[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;background-color:#cf0a2c;margin-bottom:1.8rem;border-radius:4px;text-align:center;padding:1rem}.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100%}}@media only screen and (min-width: 2156px){.avatar-picture[_ngcontent-%COMP%]{background-image:url(/live/assets/images/photorealistic-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:100vh}}.feature-title[_ngcontent-%COMP%]{padding-bottom:2rem}.list-icon[_ngcontent-%COMP%]{color:#cf0a2c;font-size:32px;padding:.5rem;border-style:solid;border-radius:100%;border-color:#cf0a2c;border-width:2px}.feature-list[_ngcontent-%COMP%]{padding-top:2rem}div.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-family:Montserrat,serif;font-weight:500;color:#fff;background-color:#cf0a2c}@media only screen and (min-width: 0px){div.row.create-heading[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{padding-top:7rem;padding-bottom:1rem}div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:2rem;position:absolute;bottom:0}.create-avatar[_ngcontent-%COMP%]{background-image:url(/live/assets/images/create-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:50vh;width:100%;margin:0 0 8px;position:relative}.become-partner[_ngcontent-%COMP%]{background-image:url(/live/assets/images/become-partner.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:50vh;width:100%;margin:0 0 8px;position:relative}}@media only screen and (min-width: 768px){.create-avatar[_ngcontent-%COMP%]{background-image:url(/live/assets/images/create-avatar.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:75vh;width:100%;margin:0 8px 8px 0;position:relative}.become-partner[_ngcontent-%COMP%]{background-image:url(/live/assets/images/become-partner.jpg);background-size:cover;background-origin:content-box;background-position:center center;height:75vh;width:100%;margin:0 0 8px 8px}}@media only screen and (min-width: 838px){div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:.5rem;position:absolute;bottom:0}}@media only screen and (min-width: 1000px){div.row.create-heading[_ngcontent-%COMP%] > h1.text-center[_ngcontent-%COMP%]{padding-top:9rem;padding-bottom:3rem}div.row.create[_ngcontent-%COMP%] > div.col-md[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:3rem;padding-bottom:1rem;position:absolute;bottom:0}}"]})}return n})(),mie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-shop-landing"]],decls:54,vars:0,consts:[[1,"container-fluid",2,"margin","8rem 0 3rem 0"],[1,"row"],[1,"col-md-3","d-flex","flex-column"],["src","/live/assets/icons/tryon_icon.png",1,"m-3","pe-3","tryon-icon"],["src","/live/assets/images/reebok-x-cardi-b-body-suit-closeup.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],[1,"text-center"],["routerLink","/shop",1,"btn"],["src","/live/assets/images/satin-tracksuit-top-closeup.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/saint-laurent-sneakers-closeup.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/reebok-x-cardi-b-jacket-closeup.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"div",1)(2,"div",2),j(3,"img",3)(4,"img",4),v(5,"div",5)(6,"h6"),S(7,"REEBOK X CARDI B BODY SUIT"),b(),v(8,"p"),S(9,"Reebok"),b(),v(10,"p")(11,"b"),S(12,"R599"),b()(),v(13,"button",6),S(14,"SHOP"),b()()(),v(15,"div",2),j(16,"img",3)(17,"img",7),v(18,"div",5)(19,"h6"),S(20,"TRUWORTHS ST TRACKSUIT TOP"),b(),v(21,"p"),S(22,"Truworths"),b(),v(23,"p")(24,"b"),S(25,"R899"),b()(),v(26,"button",6),S(27,"SHOP"),b()()(),v(28,"div",2),j(29,"img",3)(30,"img",8),v(31,"div",5)(32,"h6"),S(33,"SAINT LAURENT SNEAKERS"),b(),v(34,"p"),S(35,"Saint Laurent"),b(),v(36,"p")(37,"b"),S(38,"R2 599"),b()(),v(39,"button",6),S(40,"SHOP"),b()()(),v(41,"div",2),j(42,"img",3)(43,"img",9),v(44,"div",5)(45,"h6"),S(46,"REEBOK X CARDI B ST JACKET"),b(),v(47,"p"),S(48,"Reebok"),b(),v(49,"p")(50,"b"),S(51,"R899"),b()(),v(52,"button",6),S(53,"SHOP"),b()()()()())},dependencies:[_i],styles:["h1[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-family:Montserrat,serif;color:#190101}h1[_ngcontent-%COMP%]{font-size:48px}p[_ngcontent-%COMP%]{font-family:Garet,serif;color:#190101;margin:0}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:1rem;font-family:Montserrat,serif;font-weight:600;color:#fff;background-color:#cf0a2c}div.col-md-3.d-flex.flex-column[_ngcontent-%COMP%]{align-items:center;position:relative}.tryon-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:36px}@media only screen and (min-width: 0px){h1[_ngcontent-%COMP%]{padding-top:5rem;font-size:32px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2rem}.tryon-icon[_ngcontent-%COMP%]{width:64px}}@media only screen and (min-width: 414px){h1[_ngcontent-%COMP%]{padding-top:8rem;font-size:40px}}@media only screen and (min-width: 768px){h1[_ngcontent-%COMP%]{padding-top:10rem;font-size:48px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:0}.tryon-icon[_ngcontent-%COMP%]{width:36px}}"]})}return n})();function xV(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){xV(s,r,i,o,a,"next",c)}function a(c){xV(s,r,i,o,a,"throw",c)}o(void 0)})}}let RV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(T($r),T(Bt))};static#t=this.\u0275dir=Y({type:n})}return n})(),$o=(()=>{class n extends RV{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=sn(n)))(i||n)}}();static#t=this.\u0275dir=Y({type:n,features:[ke]})}return n})();const cr=new N("NgValueAccessor"),vie={provide:cr,useExisting:Pe(()=>md),multi:!0},wie=new N("CompositionEventMode");let md=(()=>{class n extends RV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bie(){const n=Os()?Os().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(T($r),T(Bt),T(wie,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ne("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$e([vie]),ke]})}return n})();function Bs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function OV(n){return null!=n&&"number"==typeof n.length}const bn=new N("NgValidators"),Us=new N("NgAsyncValidators"),Cie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kr{static min(e){return function PV(n){return e=>{if(Bs(e.value)||Bs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function NV(n){return e=>{if(Bs(e.value)||Bs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return FV(e)}static requiredTrue(e){return function LV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function VV(n){return Bs(n.value)||Cie.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function BV(n){return e=>Bs(e.value)||!OV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function UV(n){return e=>OV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jV(n){if(!n)return Vg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return WV(e)}static composeAsync(e){return KV(e)}}function FV(n){return Bs(n.value)?{required:!0}:null}function Vg(n){return null}function $V(n){return null!=n}function HV(n){return xu(n)?Ft(n):n}function zV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GV(n,e){return e.map(t=>t(n))}function qV(n){return n.map(e=>function Eie(n){return!n.validate}(e)?e:t=>e.validate(t))}function WV(n){if(!n)return null;const e=n.filter($V);return 0==e.length?null:function(t){return zV(GV(t,e))}}function HC(n){return null!=n?WV(qV(n)):null}function KV(n){if(!n)return null;const e=n.filter($V);return 0==e.length?null:function(t){return function _ie(...n){const e=wR(n),{args:t,keys:r}=u2(n),i=new Ue(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;mn(t[u]).subscribe(Xe(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?d2(r,a):a),s.complete())}))}});return e?i.pipe(pC(e)):i}(GV(t,e).map(HV)).pipe(Te(zV))}}function zC(n){return null!=n?KV(qV(n)):null}function QV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YV(n){return n._rawValidators}function XV(n){return n._rawAsyncValidators}function GC(n){return n?Array.isArray(n)?n:[n]:[]}function Bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZV(n,e){const t=GC(e);return GC(n).forEach(i=>{Bg(t,i)||t.push(i)}),t}function JV(n,e){return GC(e).filter(t=>!Bg(n,t))}class eB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ln extends eB{get formDirective(){return null}get path(){return null}}class js extends eB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qC=(()=>{class n extends tB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(T(js,2))};static#t=this.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Sc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ke]})}return n})(),WC=(()=>{class n extends tB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(T(Ln,10))};static#t=this.\u0275dir=Y({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Sc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ke]})}return n})();const _d="VALID",jg="INVALID",$c="PENDING",yd="DISABLED";function YC(n){return($g(n)?n.validators:n)||null}function XC(n,e){return($g(e)?e.asyncValidators:n)||null}function $g(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function rB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")}function iB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,"")})}class Hg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_d}get invalid(){return this.status===jg}get pending(){return this.status==$c}get disabled(){return this.status===yd}get enabled(){return this.status!==yd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JV(e,this._rawAsyncValidators))}hasValidator(e){return Bg(this._rawValidators,e)}hasAsyncValidator(e){return Bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$c,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_d,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_d||this.status===$c)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yd:_d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$c,this._hasOwnPendingAsyncValidator=!0;const t=HV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?yd:this.errors?jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($c)?$c:this._anyControlsHaveStatus(jg)?jg:_d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$g(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Tie(n){return Array.isArray(n)?HC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Aie(n){return Array.isArray(n)?zC(n):n||null}(this._rawAsyncValidators)}}class vd extends Hg{constructor(e,t,r){super(YC(t),XC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iB(this,0,e),Object.keys(e).forEach(r=>{rB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sB extends vd{}const Ho=new N("CallSetDisabledState",{providedIn:"root",factory:()=>bd}),bd="always";function wd(n,e,t=bd){ZC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function xie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oB(n,e)})}(n,e),function kie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Mie(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZC(n,e){const t=YV(n);null!==e.validator?n.setValidators(QV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=XV(n);null!==e.asyncValidator?n.setAsyncValidators(QV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qg(e._rawValidators,i),qg(e._rawAsyncValidators,i)}function Wg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=YV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=XV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return qg(e._rawValidators,r),qg(e._rawAsyncValidators,r),t}function oB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lr=class extends Hg{constructor(e=null,t,r){super(YC(t),XC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$g(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let rE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),mB=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();const iE=new N("NgModelWithFormControlWarning"),qie={provide:Ln,useExisting:Pe(()=>Ed)};let Ed=(()=>{class n extends Ln{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return wd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Gg(t.control||null,t,!1),function Fie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function cB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Gg(r||null,t),(n=>n instanceof lr)(i)&&(wd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function aB(n,e){ZC(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Oie(n,e){return Wg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZC(this.form,this),this._oldForm&&Wg(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(T(bn,10),T(Us,10),T(Ho,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Ne("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([qie]),ke,Cr]})}return n})();const Qie={provide:js,useExisting:Pe(()=>Kg)};let Kg=(()=>{class n extends js{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===md?t=s:function Nie(n){return Object.getPrototypeOf(n.constructor)===$o}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function eE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function zg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(T(Ln,13),T(bn,10),T(Us,10),T(cr,10),T(iE,8))};static#n=this.\u0275dir=Y({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([Qie]),ke,Cr]})}return n})(),zo=(()=>{class n{constructor(){this._validator=Vg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Y({type:n,features:[Cr]})}return n})();const ise={provide:bn,useExisting:Pe(()=>Id),multi:!0};let Id=(()=>{class n extends zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xc,this.createValidator=t=>FV}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=sn(n)))(i||n)}}();static#t=this.\u0275dir=Y({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Hr("required",i._enabled?"":null)},inputs:{required:"required"},features:[$e([ise]),ke]})}return n})(),kB=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[mB]})}return n})();class OB extends Hg{constructor(e,t,r){super(YC(t),XC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){iB(this,0,e),e.forEach((r,i)=>{rB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function PB(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let NB=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return PB(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new vd(i,s)}record(t,r=null){const i=this._reduceControls(t);return new sB(i,r)}control(t,r,i){let s={};return this.useNonNullable?(PB(r)?s=r:(s.validators=r,s.asyncValidators=i),new lr(t,{...s,nonNullable:!0})):new lr(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new OB(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof lr||t instanceof Hg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ho,useValue:t.callSetDisabledState??bd}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[kB]})}return n})(),use=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iE,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ho,useValue:t.callSetDisabledState??bd}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[kB]})}return n})();const FB=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FB(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new pse;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qg=function(n){return function(n){const e=FB(n);return uE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Yg=function(n){try{return uE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xg=()=>{try{return function _se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},VB=n=>{var e,t;return null===(t=null===(e=Xg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},BB=()=>{var n;return null===(n=Xg())||void 0===n?void 0:n.config},UB=n=>{var e;return null===(e=Xg())||void 0===e?void 0:e[`_${n}`]};class Zg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function $s(){try{return"object"==typeof indexedDB}catch{return!1}}function Hc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Jg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Or extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yr.prototype.create)}}class Yr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Ase(n,e){return n.replace(Mse,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Or(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Mse=/\{\$([^}]+)}/g;function Dd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if($B(s)&&$B(o)){if(!Dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function $B(n){return null!==n&&"object"==typeof n}function tm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Td(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ad(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class kse{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Ose(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=hE),void 0===i.error&&(i.error=hE),void 0===i.complete&&(i.complete=hE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hE(){}const Pse=1e3,Nse=2,Fse=144e5,Lse=.5;function pE(n,e=Pse,t=Nse){const r=e*Math.pow(t,n),i=Math.round(Lse*r*(Math.random()-.5)*2);return Math.min(Fse,r+i)}function it(n){return n&&n._delegate?n._delegate:n}class an{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Go="[DEFAULT]";class Bse{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Zg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function jse(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Go?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $se{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bse(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gE=[];var Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{});const HB={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Hse=Ce.INFO,zse={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Gse=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=zse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class qo{constructor(e){this.name=e,this._logLevel=Hse,this._logHandler=Gse,this._userLogHandler=null,gE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const qse=(n,e)=>e.some(t=>n instanceof t);let zB,GB;const qB=new WeakMap,mE=new WeakMap,WB=new WeakMap,_E=new WeakMap,yE=new WeakMap;let vE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WB.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Jse(n){return"function"==typeof n?function Zse(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kse(){return GB||(GB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(bE(this),e),Hs(qB.get(this))}:function(...e){return Hs(n.apply(bE(this),e))}:function(e,...t){const r=n.call(bE(this),e,...t);return WB.set(r,e.sort?e.sort():[e]),Hs(r)}}(n):(n instanceof IDBTransaction&&function Yse(n){if(mE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});mE.set(n,e)}(n),qse(n,function Wse(){return zB||(zB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,vE):n)}function Hs(n){if(n instanceof IDBRequest)return function Qse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Hs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qB.set(t,n)}).catch(()=>{}),yE.set(e,n),e}(n);if(_E.has(n))return _E.get(n);const e=Jse(n);return e!==n&&(_E.set(n,e),yE.set(e,n)),e}const bE=n=>yE.get(n),toe=["get","getKey","getAll","getAllKeys","count"],noe=["put","add","delete","clear"],wE=new Map;function KB(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(wE.get(e))return wE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=noe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!toe.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return wE.set(e,s),s}!function Xse(n){vE=n(vE)}(n=>({...n,get:(e,t,r)=>KB(e,t)||n.get(e,t,r),has:(e,t)=>!!KB(e,t)||n.has(e,t)}));class roe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ioe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const CE="@firebase/app",Wo=new qo("@firebase/app"),nm="[DEFAULT]",xoe={[CE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ko=new Map,rm=new Map;function Roe(n,e){try{n.container.addComponent(e)}catch(t){Wo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wn(n){const e=n.name;if(rm.has(e))return Wo.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,n);for(const t of Ko.values())Roe(t,n);return!0}function yi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Zi=new Yr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ooe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}const Qo="9.23.0";function YB(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(t||(t=BB()),!t)throw Zi.create("no-options");const s=Ko.get(i);if(s){if(Dd(t,s.options)&&Dd(r,s.config))return s;throw Zi.create("duplicate-app",{appName:i})}const o=new $se(i);for(const c of rm.values())o.addComponent(c);const a=new Ooe(t,r,o);return Ko.set(i,a),a}function zc(n=nm){const e=Ko.get(n);if(!e&&n===nm&&BB())return YB();if(!e)throw Zi.create("no-app",{appName:n});return e}function XB(){return Array.from(Ko.values())}function Le(n,e,t){var r;let i=null!==(r=xoe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wo.warn(a.join(" "))}wn(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Poe="firebase-heartbeat-database",Noe=1,Md="firebase-heartbeat-store";let IE=null;function ZB(){return IE||(IE=function eoe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Hs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hs(o.result),c.oldVersion,c.newVersion,Hs(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Poe,Noe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Md)}}).catch(n=>{throw Zi.create("idb-open",{originalErrorMessage:n.message})})),IE}function SE(){return(SE=m(function*(n){try{return yield(yield ZB()).transaction(Md).objectStore(Md).get(eU(n))}catch(e){if(e instanceof Or)Wo.warn(e.message);else{const t=Zi.create("idb-get",{originalErrorMessage:e?.message});Wo.warn(t.message)}}})).apply(this,arguments)}function JB(n,e){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(n,e){try{const r=(yield ZB()).transaction(Md,"readwrite");yield r.objectStore(Md).put(e,eU(n)),yield r.done}catch(t){if(t instanceof Or)Wo.warn(t.message);else{const r=Zi.create("idb-set",{originalErrorMessage:t?.message});Wo.warn(r.message)}}})).apply(this,arguments)}function eU(n){return`${n.name}!${n.options.appId}`}class Boe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new joe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=tU(),{heartbeatsToSend:r,unsentEntries:i}=function Uoe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function tU(){return(new Date).toISOString().substring(0,10)}class joe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!$s()&&Hc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Foe(n){return SE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return JB(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return JB(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function nU(n){return Qg(JSON.stringify({version:2,heartbeats:n})).length}!function $oe(n){wn(new an("platform-logger",e=>new roe(e),"PRIVATE")),wn(new an("heartbeat",e=>new Boe(e),"PRIVATE")),Le(CE,"0.9.13",n),Le(CE,"0.9.13","esm2017"),Le("fire-js","")}(""),Le("firebase","9.23.0","app");const Goe=(n,e)=>e.some(t=>n instanceof t);let rU,iU;const sU=new WeakMap,TE=new WeakMap,oU=new WeakMap,AE=new WeakMap,ME=new WeakMap;let xE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return TE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||oU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Zoe(n){return"function"==typeof n?function Xoe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Woe(){return iU||(iU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(RE(this),e),zs(sU.get(this))}:function(...e){return zs(n.apply(RE(this),e))}:function(e,...t){const r=n.call(RE(this),e,...t);return oU.set(r,e.sort?e.sort():[e]),zs(r)}}(n):(n instanceof IDBTransaction&&function Qoe(n){if(TE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});TE.set(n,e)}(n),Goe(n,function qoe(){return rU||(rU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,xE):n)}function zs(n){if(n instanceof IDBRequest)return function Koe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(zs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&sU.set(t,n)}).catch(()=>{}),ME.set(e,n),e}(n);if(AE.has(n))return AE.get(n);const e=Zoe(n);return e!==n&&(AE.set(n,e),ME.set(e,n)),e}const RE=n=>ME.get(n),eae=["get","getKey","getAll","getAllKeys","count"],tae=["put","add","delete","clear"],kE=new Map;function aU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(kE.get(e))return kE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!eae.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return kE.set(e,s),s}!function Yoe(n){xE=n(xE)}(n=>({...n,get:(e,t,r)=>aU(e,t)||n.get(e,t,r),has:(e,t)=>!!aU(e,t)||n.has(e,t)}));const cU="@firebase/installations",OE="0.6.4",lU=1e4,uU=`w:${OE}`,dU="FIS_v2",nae="https://firebaseinstallations.googleapis.com/v1",rae=36e5,Ji=new Yr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hU(n){return n instanceof Or&&n.code.includes("request-failed")}function PE({projectId:n}){return`${nae}/projects/${n}/installations`}function fU(n){return{token:n.token,requestStatus:2,expiresIn:aae(n.expiresIn),creationTime:Date.now()}}function NE(n,e){return FE.apply(this,arguments)}function FE(){return(FE=m(function*(n,e){const r=(yield e.json()).error;return Ji.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function pU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function LE(n){return VE.apply(this,arguments)}function VE(){return(VE=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function aae(n){return Number(n.replace("s","000"))}function BE(){return(BE=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=PE(n),i=pU(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:dU,appId:n.appId,sdkVersion:uU})},c=yield LE(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:fU(l.authToken)}}throw yield NE("Create Installation",c)})).apply(this,arguments)}function mU(n){return new Promise(e=>{setTimeout(e,n)})}const dae=/^[cdef][\w-]{21}$/,UE="";function hae(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function fae(n){return function uae(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return dae.test(t)?t:UE}catch{return UE}}function Gc(n){return`${n.appName}!${n.appId}`}const qc=new Map;function _U(n,e){const t=Gc(n);yU(t,e),function mae(n,e){const t=function vU(){return!Yo&&"BroadcastChannel"in self&&(Yo=new BroadcastChannel("[Firebase] FID Change"),Yo.onmessage=n=>{yU(n.data.key,n.data.fid)}),Yo}();t&&t.postMessage({key:n,fid:e}),function bU(){0===qc.size&&Yo&&(Yo.close(),Yo=null)}()}(t,e)}function yU(n,e){const t=qc.get(n);if(t)for(const r of t)r(e)}let Yo=null;const _ae="firebase-installations-database",yae=1,Xo="firebase-installations-store";let jE=null;function $E(){return jE||(jE=function Joe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zs(o.result),c.oldVersion,c.newVersion,zs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(_ae,yae,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xo)}})),jE}function im(n,e){return HE.apply(this,arguments)}function HE(){return(HE=m(function*(n,e){const t=Gc(n),i=(yield $E()).transaction(Xo,"readwrite"),s=i.objectStore(Xo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&_U(n,e.fid),e})).apply(this,arguments)}function zE(n){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(n){const e=Gc(n),r=(yield $E()).transaction(Xo,"readwrite");yield r.objectStore(Xo).delete(e),yield r.done})).apply(this,arguments)}function xd(n,e){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(n,e){const t=Gc(n),i=(yield $E()).transaction(Xo,"readwrite"),s=i.objectStore(Xo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&_U(n,a.fid),a})).apply(this,arguments)}function WE(n){return KE.apply(this,arguments)}function KE(){return KE=m(function*(n){let e;const t=yield xd(n.appConfig,r=>{const i=function vae(n){return CU(n||{fid:hae(),registrationStatus:0})}(r),s=function bae(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ji.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function wae(n,e){return QE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cae(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===UE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),KE.apply(this,arguments)}function QE(){return QE=m(function*(n,e){try{const t=yield function lae(n,e){return BE.apply(this,arguments)}(n,e);return im(n.appConfig,t)}catch(t){throw hU(t)&&409===t.customData.serverCode?yield zE(n.appConfig):yield im(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),QE.apply(this,arguments)}function Cae(n){return YE.apply(this,arguments)}function YE(){return(YE=m(function*(n){let e=yield wU(n.appConfig);for(;1===e.registrationStatus;)yield mU(100),e=yield wU(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield WE(n);return r||t}return e})).apply(this,arguments)}function wU(n){return xd(n,e=>{if(!e)throw Ji.create("installation-not-found");return CU(e)})}function CU(n){return function Eae(n){return 1===n.registrationStatus&&n.registrationTime+lU<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function XE(){return(XE=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Sae(n,{fid:e}){return`${PE(n)}/${e}/authTokens:generate`}(n,t),i=function gU(n,{refreshToken:e}){const t=pU(n);return t.append("Authorization",function cae(n){return`${dU} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:uU,appId:n.appId}})},c=yield LE(()=>fetch(r,a));if(c.ok)return fU(yield c.json());throw yield NE("Generate Auth Token",c)})).apply(this,arguments)}function ZE(n){return JE.apply(this,arguments)}function JE(){return JE=m(function*(n,e=!1){let t;const r=yield xd(n.appConfig,s=>{if(!IU(s))throw Ji.create("not-registered");const o=s.authToken;if(!e&&function Aae(n){return 2===n.requestStatus&&!function Mae(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+rae}(n)}(o))return s;if(1===o.requestStatus)return t=function Dae(n,e){return eI.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Ji.create("app-offline");const a=function xae(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Tae(n,e){return tI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),JE.apply(this,arguments)}function eI(){return(eI=m(function*(n,e){let t=yield EU(n.appConfig);for(;1===t.authToken.requestStatus;)yield mU(100),t=yield EU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ZE(n,e):r})).apply(this,arguments)}function EU(n){return xd(n,e=>{if(!IU(e))throw Ji.create("not-registered");return function Rae(n){return 1===n.requestStatus&&n.requestTime+lU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function tI(){return tI=m(function*(n,e){try{const t=yield function Iae(n,e){return XE.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield im(n.appConfig,r),t}catch(t){if(!hU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield im(n.appConfig,r)}else yield zE(n.appConfig);throw t}}),tI.apply(this,arguments)}function IU(n){return void 0!==n&&2===n.registrationStatus}function nI(){return(nI=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield WE(e);return r?r.catch(console.error):ZE(e).catch(console.error),t.fid})).apply(this,arguments)}function rI(){return rI=m(function*(n,e=!1){const t=n;return yield function Pae(n){return iI.apply(this,arguments)}(t),(yield ZE(t,e)).token}),rI.apply(this,arguments)}function iI(){return(iI=m(function*(n){const{registrationPromise:e}=yield WE(n);e&&(yield e)})).apply(this,arguments)}function aI(n){return Ji.create("missing-app-config-values",{valueName:n})}const SU="installations",Bae=n=>{const e=n.getProvider("app").getImmediate(),t=function Lae(n){if(!n||!n.options)throw aI("App Configuration");if(!n.name)throw aI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw aI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:yi(e,"heartbeat"),_delete:()=>Promise.resolve()}},Uae=n=>{const t=yi(n.getProvider("app").getImmediate(),SU).getImmediate();return{getId:()=>function kae(n){return nI.apply(this,arguments)}(t),getToken:i=>function Oae(n){return rI.apply(this,arguments)}(t,i)}};(function jae(){wn(new an(SU,Bae,"PUBLIC")),wn(new an("installations-internal",Uae,"PRIVATE"))})(),Le(cU,OE),Le(cU,OE,"esm2017");const cI="@firebase/remote-config",Xn=new Yr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zae{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Jae(n=navigator){return n.languages&&n.languages[0]||n.language}class ece{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Jae()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const M=new Error("The operation was aborted.");M.name="AbortError",y(M)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(w){let y="fetch-client-network";throw"AbortError"===w?.name&&(y="fetch-timeout"),Xn.create(y,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw Xn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class rce{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function tce(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function nce(n){if(!(n instanceof Or&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+pE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class oce{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function om(n,e){const t=n.target.error||void 0;return Xn.create(e,{originalErrorMessage:t&&t?.message})}const Zo="app_namespace_store";class uce{constructor(e,t,r,i=function lce(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(om(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zo,{keyPath:"compositeKey"})}}catch(t){e(Xn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zo],"readonly").objectStore(Zo),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(om(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){s(Xn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Zo],"readwrite").objectStore(Zo),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{o(om(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Xn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zo],"readwrite").objectStore(Zo),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(om(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Xn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class dce{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function fce(){return fI.apply(this,arguments)}function fI(){return(fI=m(function*(){if(!$s())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}!function hce(){wn(new an("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!$s())throw Xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Xn.create("registration-project-id");if(!o)throw Xn.create("registration-api-key");if(!a)throw Xn.create("registration-app-id");const c=new uce(a,r.name,t=t||"firebase"),l=new dce(c),u=new qo(cI);u.logLevel=Ce.ERROR;const d=new ece(i,Qo,t,s,o,a),h=new rce(d,c),f=new Zae(h,c,l,u),p=new oce(r,f,l,c,u);return function Qae(n){const e=it(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Le(cI,"0.4.4"),Le(cI,"0.4.4","esm2017")}();const pce=(n,e)=>e.some(t=>n instanceof t);let MU,xU;const RU=new WeakMap,pI=new WeakMap,kU=new WeakMap,gI=new WeakMap,mI=new WeakMap;let _I={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return pI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||kU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function wce(n){return"function"==typeof n?function bce(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mce(){return xU||(xU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(yI(this),e),es(RU.get(this))}:function(...e){return es(n.apply(yI(this),e))}:function(e,...t){const r=n.call(yI(this),e,...t);return kU.set(r,e.sort?e.sort():[e]),es(r)}}(n):(n instanceof IDBTransaction&&function yce(n){if(pI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});pI.set(n,e)}(n),pce(n,function gce(){return MU||(MU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,_I):n)}function es(n){if(n instanceof IDBRequest)return function _ce(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(es(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&RU.set(t,n)}).catch(()=>{}),mI.set(e,n),e}(n);if(gI.has(n))return gI.get(n);const e=wce(n);return e!==n&&(gI.set(n,e),mI.set(e,n)),e}const yI=n=>mI.get(n);function OU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=es(o);return r&&o.addEventListener("upgradeneeded",c=>{r(es(o.result),c.oldVersion,c.newVersion,es(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function vI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),es(t).then(()=>{})}const Cce=["get","getKey","getAll","getAllKeys","count"],Ece=["put","add","delete","clear"],bI=new Map;function PU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(bI.get(e))return bI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ece.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cce.includes(t))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return bI.set(e,s),s}!function vce(n){_I=n(_I)}(n=>({...n,get:(e,t,r)=>PU(e,t)||n.get(e,t,r),has:(e,t)=>!!PU(e,t)||n.has(e,t)}));const Ice="/firebase-messaging-sw.js",Sce="/firebase-cloud-messaging-push-scope",NU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dce="https://fcmregistrations.googleapis.com/v1",FU="google.c.a.c_id",Tce="google.c.a.c_l",Ace="google.c.a.ts";var am=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(am||{});function ts(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rce(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const wI="fcm_token_details_db",kce=5,LU="fcm_token_object_Store";function CI(){return CI=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(wI))return null;let e=null;return(yield OU(wI,kce,{upgrade:(r=m(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(LU))return;const l=a.objectStore(LU),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ts(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield vI(wI),yield vI("fcm_vapid_details_db"),yield vI("undefined"),function Pce(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),CI.apply(this,arguments)}const Nce="firebase-messaging-database",Fce=1,Jo="firebase-messaging-store";let EI=null;function II(){return EI||(EI=OU(Nce,Fce,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jo)}})),EI}function VU(n){return SI.apply(this,arguments)}function SI(){return SI=m(function*(n){const e=MI(n),r=yield(yield II()).transaction(Jo).objectStore(Jo).get(e);if(r)return r;{const i=yield function Oce(n){return CI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield DI(n,i),i}}),SI.apply(this,arguments)}function DI(n,e){return TI.apply(this,arguments)}function TI(){return(TI=m(function*(n,e){const t=MI(n),i=(yield II()).transaction(Jo,"readwrite");return yield i.objectStore(Jo).put(e,t),yield i.done,e})).apply(this,arguments)}function AI(){return(AI=m(function*(n){const e=MI(n),r=(yield II()).transaction(Jo,"readwrite");yield r.objectStore(Jo).delete(e),yield r.done})).apply(this,arguments)}function MI({appConfig:n}){return n.appId}const cn=new Yr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bce(n,e){return xI.apply(this,arguments)}function xI(){return(xI=m(function*(n,e){const t=yield PI(n),r=UU(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(OI(n.appConfig),i)).json()}catch(o){throw cn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw cn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw cn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function RI(){return(RI=m(function*(n,e){const t=yield PI(n),r=UU(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${OI(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw cn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw cn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw cn.create("token-update-no-token");return s.token})).apply(this,arguments)}function BU(n,e){return kI.apply(this,arguments)}function kI(){return(kI=m(function*(n,e){const r={method:"DELETE",headers:yield PI(n)};try{const s=yield(yield fetch(`${OI(n.appConfig)}/${e}`,r)).json();if(s.error)throw cn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw cn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function OI({projectId:n}){return`${Dce}/projects/${n}/registrations`}function PI(n){return NI.apply(this,arguments)}function NI(){return(NI=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function UU({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==NU&&(i.web.applicationPubKey=r),i}const jce=6048e5;function FI(){return FI=m(function*(n){const e=yield function zce(n,e){return UI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ts(e.getKey("auth")),p256dh:ts(e.getKey("p256dh"))},r=yield VU(n.firebaseDependencies);if(r){if(function Gce(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+jce?function Hce(n,e){return VI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield BU(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return $U(n.firebaseDependencies,t)}return $U(n.firebaseDependencies,t)}),FI.apply(this,arguments)}function LI(){return LI=m(function*(n){const e=yield VU(n.firebaseDependencies);e&&(yield BU(n.firebaseDependencies,e.token),yield function Lce(n){return AI.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),LI.apply(this,arguments)}function VI(){return VI=m(function*(n,e){try{const t=yield function Uce(n,e){return RI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield DI(n.firebaseDependencies,r),t}catch(t){throw yield function jU(n){return LI.apply(this,arguments)}(n),t}}),VI.apply(this,arguments)}function $U(n,e){return BI.apply(this,arguments)}function BI(){return(BI=m(function*(n,e){const r={token:yield Bce(n,e),createTime:Date.now(),subscriptionOptions:e};return yield DI(n,r),r.token})).apply(this,arguments)}function UI(){return(UI=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rce(e)})})).apply(this,arguments)}function HU(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function qce(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Wce(n,e){e.data&&(n.data=e.data)}(e,n),function Kce(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function zU(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function jI(n){return cn.create("missing-app-config-values",{valueName:n})}zU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xce{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Yce(n){if(!n||!n.options)throw jI("App Configuration Object");if(!n.name)throw jI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw jI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $I(){return($I=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ice,{scope:Sce}),n.swRegistration.update().catch(()=>{})}catch(e){throw cn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function HI(){return(HI=m(function*(n,e){if(!e&&!n.swRegistration&&(yield function GU(n){return $I.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function zI(){return(zI=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=NU)})).apply(this,arguments)}function GI(){return GI=m(function*(n,e){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield function Jce(n,e){return zI.apply(this,arguments)}(n,e?.vapidKey),yield function Zce(n,e){return HI.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function $ce(n){return FI.apply(this,arguments)}(n)}),GI.apply(this,arguments)}function qI(){return(qI=m(function*(n,e,t){const r=function tle(n){switch(n){case am.NOTIFICATION_CLICKED:return"notification_open";case am.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[FU],message_name:t[Tce],message_time:t[Ace],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function WI(){return WI=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===am.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(HU(t)):n.onMessageHandler.next(HU(t)));const r=t.data;(function Qce(n){return"object"==typeof n&&!!n&&FU in n})(r)&&"1"===r["google.c.a.e"]&&(yield function ele(n,e,t){return qI.apply(this,arguments)}(n,t.messageType,r))}),WI.apply(this,arguments)}const WU="@firebase/messaging",rle=n=>{const e=new Xce(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function nle(n,e){return WI.apply(this,arguments)}(e,t)),e},ile=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function qU(n,e){return GI.apply(this,arguments)}(e,r)}};function QU(){return KI.apply(this,arguments)}function KI(){return(KI=m(function*(){try{yield Hc()}catch{return!1}return typeof window<"u"&&$s()&&Jg()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function cle(n=zc()){return QU().then(e=>{if(!e)throw cn.create("unsupported-browser")},e=>{throw cn.create("indexed-db-unsupported")}),yi(it(n),"messaging").getImmediate()}!function sle(){wn(new an("messaging",rle,"PUBLIC")),wn(new an("messaging-internal",ile,"PRIVATE")),Le(WU,"0.12.4"),Le(WU,"0.12.4","esm2017")}();const cm="analytics",lle="firebase_id",ule="origin",dle=6e4,hle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XI="https://www.googletagmanager.com/gtag/js",zt=new qo("@firebase/analytics"),Vn=new Yr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ple(n){if(!n.startsWith(XI)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return zt.warn(e.message),""}return n}function YU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ZI(){return(ZI=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield YU(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zt.error(a)}n("config",i,s)})).apply(this,arguments)}function JI(){return(JI=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield YU(t);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){zt.error(s)}})).apply(this,arguments)}const Ele=30,XU=new class Sle{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Dle(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function e0(){return(e0=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Dle(r)},s=hle.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function t0(){return(t0=m(function*(n,e=XU,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Vn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Rle;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:dle),ZU({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function ZU(n,e,t){return n0.apply(this,arguments)}function n0(){return n0=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=XU){var s;const{appId:o,measurementId:a}=n;try{yield function Mle(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Tle(n){return e0.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function xle(n){if(!(n instanceof Or&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?pE(t,i.intervalMillis,Ele):pE(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),zt.debug(`Calling attemptFetch again in ${u} millis`),ZU(n,d,r,i)}}),n0.apply(this,arguments)}class Rle{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let r0,d0;function s0(){return(s0=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function a0(){return(a0=m(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function h0(){return(h0=m(function*(){if(!$s())return zt.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Hc()}catch(n){return zt.warn(Vn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function f0(){return f0=m(function*(n,e,t,r,i,s,o){var a;const c=function Ale(n){return t0.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>zt.error(f)),e.push(c);const l=function Vle(){return h0.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function Cle(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(XI)&&t.src.includes(n))return t;return null})(s)||function mle(n,e){const t=function gle(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:ple}),r=document.createElement("script"),i=`${XI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),d0&&(i("consent","default",d0),function JU(n){d0=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[ule]="firebase",h.update=!0,null!=d&&(h[lle]=d),i("config",u.measurementId,h),r0&&(i("set",r0),function ej(n){r0=n}(void 0)),u.measurementId}),f0.apply(this,arguments)}class Ule{constructor(e){this.app=e}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},tj=[];const nj={};let ij,bi,lm="dataLayer",p0=!1;function $le(n,e,t){!function jle(){const n=[];if(dE()&&n.push("This is a browser extension environment."),Jg()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});zt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Vn.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[r])throw Vn.create("already-exists",{id:r});if(!p0){!function _le(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(lm);const{wrappedGtag:s,gtagCore:o}=function wle(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ble(n,e,t,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function vle(n,e,t,r,i){return JI.apply(this,arguments)}(n,e,t,c,l)}else if("config"===o){const[c,l]=a;yield function yle(n,e,t,r,i,s){return ZI.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,l,u]=a;n("get",c,l,u)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){zt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(vi,tj,nj,lm,"gtag");bi=s,ij=o,p0=!0}return vi[r]=function Ble(n,e,t,r,i,s,o){return f0.apply(this,arguments)}(n,tj,nj,e,ij,lm,t),new Ule(n)}function Hle(n=zc()){const e=yi(n=it(n),cm);return e.isInitialized()?e.getImmediate():function zle(n,e={}){const t=yi(n,cm);if(t.isInitialized()){const i=t.getImmediate();if(Dd(e,t.getOptions()))return i;throw Vn.create("already-initialized")}return t.initialize({options:e})}(n)}function Gle(){return g0.apply(this,arguments)}function g0(){return(g0=m(function*(){if(dE()||!Jg()||!$s())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}function qle(n,e,t){n=it(n),function Ple(n,e,t,r){return a0.apply(this,arguments)}(bi,vi[n.app.options.appId],e,t).catch(r=>zt.error(r))}function sj(n,e,t,r){n=it(n),function kle(n,e,t,r,i){return s0.apply(this,arguments)}(bi,vi[n.app.options.appId],e,t,r).catch(i=>zt.error(i))}const oj="@firebase/analytics";!function Wle(){wn(new an(cm,(e,{options:t})=>$le(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),wn(new an("analytics-internal",function n(e){try{const t=e.getProvider(cm).getImmediate();return{logEvent:(r,i,s)=>sj(t,r,i,s)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Le(oj,"0.10.0"),Le(oj,"0.10.0","esm2017")}();const Yle=new class Qle extends Ng{}(class Kle extends Pg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),ns=new uc("7.6.1"),_0="__angularfire_symbol__analyticsIsSupportedValue",y0="__angularfire_symbol__analyticsIsSupported",v0="__angularfire_symbol__remoteConfigIsSupportedValue",b0="__angularfire_symbol__remoteConfigIsSupported",w0="__angularfire_symbol__messagingIsSupportedValue",C0="__angularfire_symbol__messagingIsSupported";globalThis[y0]||(globalThis[y0]=Gle().then(n=>globalThis[_0]=n).catch(()=>globalThis[_0]=!1)),globalThis[C0]||(globalThis[C0]=QU().then(n=>globalThis[w0]=n).catch(()=>globalThis[w0]=!1)),globalThis[b0]||(globalThis[b0]=fce().then(n=>globalThis[v0]=n).catch(()=>globalThis[v0]=!1));const E0=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,um={async:()=>globalThis[C0],sync:()=>{const n=globalThis[w0];if(void 0===n)throw new Error(E0("Messaging"));return n}},dm={async:()=>globalThis[y0],sync:()=>{const n=globalThis[_0];if(void 0===n)throw new Error(E0("Analytics"));return n}};function Wc(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Kc=(n,e)=>{const t=e?[e]:XB(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Qc(){}class cj{constructor(e,t=Yle){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Xle{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qc,{},Qc,Qc)),t.pipe(on({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yc=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cj(Zone.current)),this.insideAngular=t.run(()=>new cj(Zone.current,Fg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(D(re))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ea(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ta(n){return ea().ngZone.run(()=>n())}function Jle(n){return ea(),function eue(n){return function(t){return(t=t.lift(new Xle(n.ngZone))).pipe(bf(n.outsideAngular),vf(n.insideAngular))}}(ea())(n)}const tue=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ta(()=>n.apply(void 0,r))},xt=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=ta(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qc,{},Qc,Qc)))),r[s]=tue(r[s],t));const i=function Zle(n){return ea().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ue){const s=ea();return i.pipe(bf(s.outsideAngular),vf(s.insideAngular))}return ta(()=>i)}return i instanceof Ue?i.pipe(Jle):i instanceof Promise?ta(()=>new Promise((s,o)=>i.then(a=>ta(()=>s(a)),a=>ta(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ta(()=>i)};class rs{constructor(e){return e}}class Xc{constructor(){return XB()}}const I0=new N("angularfire2._apps"),rue={provide:rs,useFactory:function nue(n){return n&&1===n.length?n[0]:new rs(zc())},deps:[[new wt,I0]]},iue={provide:Xc,deps:[[new wt,I0]]};function sue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rs(r)}}let oue=(()=>{class n{constructor(t){Le("angularfire",ns.full,"core"),Le("angularfire",ns.full,"app"),Le("angular",aO.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(D(jr))},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[rue,iue]}),n})();function aue(n,...e){return{ngModule:oue,providers:[{provide:I0,useFactory:sue(n),multi:!0,deps:[re,Ze,Yc,...e]}]}}const cue=xt(YB,!0),S0=new Map,lj={activated:!1,tokenObservers:[]},lue={initialized:!1,enabled:!1};function gt(n){return S0.get(n)||Object.assign({},lj)}function hm(){return lue}const D0="https://content-firebaseappcheck.googleapis.com/v1",fue="exchangeDebugToken",uj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gue{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new Zg,yield function mue(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zg,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ln=new Yr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function T0(n){if(!gt(n).activated)throw ln.create("use-before-activation",{appName:n.name})}function gm(n,e){return M0.apply(this,arguments)}function M0(){return(M0=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw ln.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw ln.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw ln.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function dj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${D0}/projects/${t}/apps/${r}:${fue}?key=${i}`,body:{debug_token:e}}}const bue="firebase-app-check-database",wue=1,Rd="firebase-app-check-store";let mm=null;function x0(){return(x0=m(function*(n,e){const r=(yield function fj(){return mm||(mm=new Promise((n,e)=>{try{const t=indexedDB.open(bue,wue);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rd,{keyPath:"compositeKey"})}}catch(t){e(ln.create("storage-open",{originalErrorMessage:t?.message}))}}),mm)}()).transaction(Rd,"readwrite"),s=r.objectStore(Rd).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(ln.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const kd=new qo("@firebase/app-check");function O0(n,e){return $s()?function Eue(n,e){return function pj(n,e){return x0.apply(this,arguments)}(function mj(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function N0(){return hm().enabled}function F0(){return L0.apply(this,arguments)}function L0(){return(L0=m(function*(){const n=hm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mue={error:"UNKNOWN_ERROR"};function xue(n){return uE.encodeString(JSON.stringify(n),!1)}function _m(n){return V0.apply(this,arguments)}function V0(){return(V0=m(function*(n,e=!1){const t=n.app;T0(t);const r=gt(t);let s,i=r.token;if(i&&!Zc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Zc(c)?i=c:yield O0(t,void 0))}if(!e&&i&&Zc(i))return{token:i.token};let a,o=!1;if(N0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gm(dj(t,yield F0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield O0(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield gt(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?kd.warn(c.message):kd.error(c),s=c}return i?s?a=Zc(i)?{token:i.token,internalError:s}:bj(s):(a={token:i.token},r.token=i,yield O0(t,i)):a=bj(s),o&&function vj(n,e){const t=gt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function _j(n){return B0.apply(this,arguments)}function B0(){return(B0=m(function*(n){const e=n.app;T0(e);const{provider:t}=gt(e);if(N0()){const r=yield F0(),{token:i}=yield gm(dj(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function j0(n,e){const t=gt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yj(n){const{app:e}=n,t=gt(e);let r=t.tokenRefresher;r||(r=function Rue(n){const{app:e}=n;return new gue(m(function*(){let r;if(r=gt(e).token?yield _m(n,!0):yield _m(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},uj.RETRIAL_MIN_WAIT,uj.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Zc(n){return n.expireTimeMillis-Date.now()>0}function bj(n){return{token:xue(Mue),error:n}}class kue{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gt(this.app);for(const t of e)j0(this.app,t.next);return Promise.resolve()}}const Aj="app-check-internal";!function que(){wn(new an("app-check",n=>function Oue(n,e){return new kue(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Aj).initialize()})),wn(new an(Aj,n=>function Pue(n){return{getToken:e=>_m(n,e),getLimitedUseToken:()=>_j(n),addTokenListener:e=>function U0(n,e,t,r){const{app:i}=n,s=gt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Zc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),yj(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>yj(n))}(n,"INTERNAL",e),removeTokenListener:e=>j0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Le("@firebase/app-check","0.8.0")}();class G0{constructor(){return Kc("app-check")}}typeof window<"u"&&window;const Xue=function xj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rj=new Yr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vm=new qo("@firebase/auth");function bm(n,...e){vm.logLevel<=Ce.ERROR&&vm.error(`Auth (${Qo}): ${n}`,...e)}function Zn(n,...e){throw W0(n,...e)}function wi(n,...e){return W0(n,...e)}function W0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rj.create(n,...e)}function P(n,e,...t){if(!n)throw W0(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bm(e),new Error(e)}function Gs(n,e){n||Ci(e)}function Od(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Oj(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Pd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gs(t>e,"Short delay should be less than long delay!"),this.isMobile=function Ese(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}()||function Sse(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Jue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function K0(){return"http:"===Oj()||"https:"===Oj()}()||dE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q0(n,e){Gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Pj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nde=new Pd(3e4,6e4);function ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function mt(n,e,t,r){return Y0.apply(this,arguments)}function Y0(){return(Y0=m(function*(n,e,t,r,i={}){return Nj(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=tm(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),Pj.fetch()(Fj(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Nj(n,e,t){return X0.apply(this,arguments)}function X0(){return(X0=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tde),e);try{const i=new rde(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Nd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Nd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Nd(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw Nd(n,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function kj(n,e,t){const r=Object.assign(Object.assign({},Xue()),{[e]:t});return new Yr("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);Zn(n,u)}}catch(i){if(i instanceof Or)throw i;Zn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function is(n,e,t,r){return Z0.apply(this,arguments)}function Z0(){return(Z0=m(function*(n,e,t,r,i={}){const s=yield mt(n,e,t,r,i);return"mfaPendingCredential"in s&&Zn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Fj(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Q0(n.config,i):`${n.config.apiScheme}://${i}`}class rde{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),nde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=wi(n,e,r);return i.customData._tokenResponse=t,i}function J0(){return(J0=m(function*(n,e){return mt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tS(){return(tS=m(function*(n,e){return mt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Fd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nS(){return(nS=m(function*(n,e=!1){const t=it(n),r=yield t.getIdToken(e),i=wm(r);P(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Fd(rS(i.auth_time)),issuedAtTime:Fd(rS(i.iat)),expirationTime:Fd(rS(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function rS(n){return 1e3*Number(n)}function wm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return bm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yg(t);return i?JSON.parse(i):(bm("Failed to decode base64 JWT payload"),null)}catch(i){return bm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ss(n,e){return iS.apply(this,arguments)}function iS(){return(iS=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Or&&function lde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ude{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Lj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fd(this.lastLoginAt),this.creationTime=Fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ld(n){return sS.apply(this,arguments)}function sS(){return sS=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ss(n,function ode(n,e){return tS.apply(this,arguments)}(t,{idToken:r}));P(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function fde(n){return n.map(e=>{var{providerId:t}=e,r=By(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function hde(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lj(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),sS.apply(this,arguments)}function oS(){return(oS=m(function*(n){const e=it(n);yield Ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function aS(){return(aS=m(function*(n,e){const t=yield Nj(n,{},m(function*(){const r=tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Fj(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pj.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cde(n){const e=wm(n);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function pde(n,e){return aS.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Vd;return r&&(P("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vd,this.toJSON())}_performRefresh(){return Ci("not implemented")}}function qs(n,e){P("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class na{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=By(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ude(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lj(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield ss(t,t.stsTokenManager.getToken(t.auth,e));return P(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function ade(n){return nS.apply(this,arguments)}(this,e)}reload(){return function dde(n){return oS.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ld(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield ss(e,function ide(n,e){return J0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,w=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:M,emailVerified:O,isAnonymous:z,providerData:K,stsTokenManager:ue}=t;P(M&&ue,e,"internal-error");const Ye=Vd.fromJSON(this.name,ue);P("string"==typeof M,e,"internal-error"),qs(d,e.name),qs(h,e.name),P("boolean"==typeof O,e,"internal-error"),P("boolean"==typeof z,e,"internal-error"),qs(f,e.name),qs(p,e.name),qs(g,e.name),qs(_,e.name),qs(w,e.name),qs(y,e.name);const Pt=new na({uid:M,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ye,createdAt:w,lastLoginAt:y});return K&&Array.isArray(K)&&(Pt.providerData=K.map(mr=>Object.assign({},mr))),_&&(Pt._redirectEventId=_),Pt}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new Vd;i.updateFromServerResponse(t);const s=new na({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ld(s),s})()}}const Vj=new Map;function os(n){Gs(n instanceof Function,"Expected a class definition");let e=Vj.get(n);return e?(Gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Vj.set(n,e),e)}const Bj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Cm(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?na._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new el(os(Bj),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||os(Bj);const o=Cm(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(o);if(u){const d=na._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new el(s,e,r)):new el(s,e,r)})()}}function Uj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gj(e))return"Blackberry";if(qj(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||$j(e))&&!e.includes("edge/"))return"Chrome";if(zj(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function jj(n=Ht()){return/firefox\//i.test(n)}function cS(n=Ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $j(n=Ht()){return/crios\//i.test(n)}function Hj(n=Ht()){return/iemobile/i.test(n)}function zj(n=Ht()){return/android/i.test(n)}function Gj(n=Ht()){return/blackberry/i.test(n)}function qj(n=Ht()){return/webos/i.test(n)}function Em(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Wj(n=Ht()){return Em(n)||zj(n)||qj(n)||Gj(n)||/windows phone/i.test(n)||Hj(n)}function Kj(n,e=[]){let t;switch(n){case"Browser":t=Uj(Ht());break;case"Worker":t=`${Uj(Ht())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qo}/${r}`}function Qj(n,e){return uS.apply(this,arguments)}function uS(){return(uS=m(function*(n,e){return mt(n,"GET","/v2/recaptchaConfig",ut(n,e))})).apply(this,arguments)}function Xj(n){return void 0!==n&&void 0!==n.enterprise}class Zj{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function dS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=wi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function vde(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Jj(n){return`__${n}${Math.floor(1e6*Math.random())}`}class e${constructor(e){this.type="recaptcha-enterprise",this.auth=Gt(e)}verify(e="verify",t=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){Qj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Zj(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;Xj(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&Xj(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));dS("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Ws(n,e,t){return hS.apply(this,arguments)}function hS(){return(hS=m(function*(n,e,t,r=!1){const i=new e$(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Ede{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ide{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t$(this),this.idTokenSubscription=new t$(this),this.beforeStateQueue=new Ede(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield el.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return P(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Ld(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ede(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?it(e):null;return r&&P(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(os(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield Qj(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Zj(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new e$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&os(e)||t._popupRedirectResolver;P(r,t,"argument-error"),t.redirectPersistenceManager=yield el.create(t,[os(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Zue(n,...e){vm.logLevel<=Ce.WARN&&vm.warn(`Auth (${Qo}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Gt(n){return it(n)}class t${constructor(e){this.auth=e,this.observer=null,this.addObserver=function Rse(n,e){const t=new kse(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function n$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function r$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class i${constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}function o$(n,e){return pS.apply(this,arguments)}function pS(){return(pS=m(function*(n,e){return mt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function mS(n,e){return _S.apply(this,arguments)}function _S(){return(_S=m(function*(n,e){return is(n,"POST","/v1/accounts:signInWithPassword",ut(n,e))})).apply(this,arguments)}function Im(n,e){return yS.apply(this,arguments)}function yS(){return(yS=m(function*(n,e){return mt(n,"POST","/v1/accounts:sendOobCode",ut(n,e))})).apply(this,arguments)}function vS(){return(vS=m(function*(n,e){return Im(n,e)})).apply(this,arguments)}function bS(n,e){return wS.apply(this,arguments)}function wS(){return(wS=m(function*(n,e){return Im(n,e)})).apply(this,arguments)}function SS(){return(SS=m(function*(n,e){return is(n,"POST","/v1/accounts:signInWithEmailLink",ut(n,e))})).apply(this,arguments)}function DS(){return(DS=m(function*(n,e){return is(n,"POST","/v1/accounts:signInWithEmailLink",ut(n,e))})).apply(this,arguments)}class Bd extends i${constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Bd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Bd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Ws(e,i,"signInWithPassword");return mS(e,s)}return mS(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Ws(e,i,"signInWithPassword");return mS(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Ode(n,e){return SS.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Zn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return o$(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Pde(n,e){return DS.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Zn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function as(n,e){return TS.apply(this,arguments)}function TS(){return(TS=m(function*(n,e){return is(n,"POST","/v1/accounts:signInWithIdp",ut(n,e))})).apply(this,arguments)}class $d{constructor(e){var t,r,i,s,o,a;const c=Td(Ad(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function jde(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);P(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function $de(n){const e=Td(Ad(n)).link,t=e?Td(Ad(e)).deep_link_id:null,r=Td(Ad(n)).deep_link_id;return(r?Td(Ad(r)).link:null)||r||t||e||n}(e);try{return new $d(t)}catch{return null}}}let a$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Bd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=$d.parseLink(r);return P(i,"argument-error"),Bd._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hde extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Dm(n,e){return OS.apply(this,arguments)}function OS(){return(OS=m(function*(n,e){return is(n,"POST","/v1/accounts:signUp",ut(n,e))})).apply(this,arguments)}class Pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield na._fromIdTokenResponse(e,r,i),o=c$(r);return new Pr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=c$(r);return new Pr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function c$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tm extends Or{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Tm(e,t,r,i)}}function l$(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Tm._fromErrorAndOperation(n,s,e,r):s})}function LS(){return(LS=m(function*(n,e,t=!1){const r=yield ss(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Pr._forOperation(n,"link",r)})).apply(this,arguments)}function BS(){return(BS=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield ss(n,l$(r,i,e,n),t);P(s.idToken,r,"internal-error");const o=wm(s.idToken);P(o,r,"internal-error");const{sub:a}=o;return P(n.uid===a,r,"user-mismatch"),Pr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Zn(r,"user-mismatch"),s}})).apply(this,arguments)}function h$(n,e){return US.apply(this,arguments)}function US(){return(US=m(function*(n,e,t=!1){const r="signIn",i=yield l$(n,r,e),s=yield Pr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function $S(){return($S=m(function*(n,e){return h$(Gt(n),e)})).apply(this,arguments)}function tl(n,e,t){var r;P((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),P(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(P(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(P(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Qde(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=m(function*(n,e,t){var r;const i=Gt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Ws(i,s,"getOobCode",!0);t&&tl(i,o,t),yield bS(i,o)}else t&&tl(i,s,t),yield bS(i,s).catch(function(){var o=m(function*(a){if("auth/missing-recaptcha-token"!==a.code)return Promise.reject(a);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const c=yield Ws(i,s,"getOobCode",!0);t&&tl(i,c,t),yield bS(i,c)}});return function(a){return o.apply(this,arguments)}}())}),YS.apply(this,arguments)}function Xde(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=m(function*(n,e,t){var r;const i=Gt(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Ws(i,s,"signUpPassword");o=Dm(i,l)}else o=Dm(i,s).catch(function(){var l=m(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Ws(i,s,"signUpPassword");return Dm(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield o.catch(l=>Promise.reject(l)),c=yield Pr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),tD.apply(this,arguments)}function Zde(n,e,t){return function jS(n,e){return $S.apply(this,arguments)}(it(n),a$.credential(e,t))}function ehe(n,e){return oD.apply(this,arguments)}function oD(){return oD=m(function*(n,e){const t=it(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&tl(t.auth,i,e);const{email:s}=yield function Rde(n,e){return vS.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),oD.apply(this,arguments)}const Mm="__sak";class p${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _he=(()=>{class n extends p${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function phe(){const n=Ht();return cS(n)||Em(n)}()&&function _de(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wj(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function mde(){return function Dse(){const n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),g$=(()=>{class n extends p${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let vhe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function yhe(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function mD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class bhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=mD("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Rt(){return window}function _D(){return typeof Rt().WorkerGlobalScope<"u"&&"function"==typeof Rt().importScripts}function yD(){return(yD=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const m$="firebaseLocalStorageDb",xm="firebaseLocalStorage",_$="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rm(n,e){return n.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function vD(){const n=indexedDB.open(m$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xm,{keyPath:_$})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),yield function Dhe(){const n=indexedDB.deleteDatabase(m$);return new zd(n).toPromise()}(),e(yield vD()))}))})}function y$(n,e,t){return bD.apply(this,arguments)}function bD(){return(bD=m(function*(n,e,t){const r=Rm(n,!0).put({[_$]:e,value:t});return new zd(r).toPromise()})).apply(this,arguments)}function wD(){return(wD=m(function*(n,e){const t=Rm(n,!1).get(e),r=yield new zd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function v$(n,e){const t=Rm(n,!0).delete(e);return new zd(t).toPromise()}const xhe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield vD()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return _D()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=vhe._getInstance(function Ihe(){return _D()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function Che(){return yD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new bhe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Ehe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield vD();return yield y$(t,Mm,"1"),yield v$(t,Mm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>y$(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function The(n,e){return wD.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>v$(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Rm(o,!1).getAll();return new zd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();Jj("rcb"),new Pd(3e4,6e4);class xD extends i${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,t){return as(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qhe(n){return h$(n.auth,new xD(n),n.bypassAuthState)}function Whe(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function d$(n,e){return BS.apply(this,arguments)}(t,new xD(n),n.bypassAuthState)}function Khe(n){return RD.apply(this,arguments)}function RD(){return(RD=m(function*(n){const{auth:e,user:t}=n;return P(t,e,"internal-error"),function FS(n,e){return LS.apply(this,arguments)}(t,new xD(n),n.bypassAuthState)})).apply(this,arguments)}class Qhe{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qhe;case"linkViaPopup":case"linkViaRedirect":return Khe;case"reauthViaPopup":case"reauthViaRedirect":return Whe;default:Zn(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Pd(2e3,1e4);const Yhe="pendingRedirect",Gd=new Map;class Xhe extends Qhe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=Gd.get(t.auth._key());if(!r){try{const s=(yield function Zhe(n,e){return FD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Gd.set(t.auth._key(),r)}return t.bypassAuthState||Gd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function FD(){return(FD=m(function*(n,e){const t=function C$(n){return Cm(Yhe,n.config.apiKey,n.name)}(e),r=function w$(n){return os(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Jhe(n,e){Gd.set(n._key(),e)}function E$(n,e){return HD.apply(this,arguments)}function HD(){return(HD=m(function*(n,e,t=!1){const r=Gt(n),i=function ia(n,e){return e?os(e):(P(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new Xhe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ife{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function sfe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!D$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(wi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S$(e))}saveEventToCache(e){this.cachedEventUids.add(S$(e)),this.lastProcessedEventTime=Date.now()}}function S$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function D$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function GD(){return(GD=m(function*(n,e={}){return mt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const afe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cfe=/^https?/;function qD(){return qD=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function ofe(n){return GD.apply(this,arguments)}(n);for(const t of e)try{if(ufe(t))return}catch{}Zn(n,"unauthorized-domain")}),qD.apply(this,arguments)}function ufe(n){const e=Od(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!cfe.test(t))return!1;if(afe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dfe=new Pd(3e4,6e4);function T$(){const n=Rt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Om=null;const pfe=new Pd(5e3,15e3),gfe="__/auth/iframe",mfe="emulator/auth/iframe",_fe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vfe(n){const e=n.config;P(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Q0(e,mfe):`https://${n.config.authDomain}/${gfe}`,r={apiKey:e.apiKey,appName:n.name,v:Qo},i=yfe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${tm(r).slice(1)}`}function WD(){return WD=m(function*(n){const e=yield function ffe(n){return Om=Om||function hfe(n){return new Promise((e,t)=>{var r,i,s;function o(){T$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T$(),t(wi(n,"network-request-failed"))},timeout:dfe.get()})}if(null!==(i=null===(r=Rt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Rt().gapi)||void 0===s||!s.load){const a=Jj("iframefcb");return Rt()[a]=()=>{gapi.load?o():t(wi(n,"network-request-failed"))},dS(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw Om=null,e})}(n),Om}(n),t=Rt().gapi;return P(t,n,"internal-error"),e.open({where:document.body,url:vfe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_fe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=wi(n,"network-request-failed"),c=Rt().setTimeout(()=>{o(a)},pfe.get());function l(){Rt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),WD.apply(this,arguments)}const wfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class A${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Afe="__/auth/handler",Mfe="emulator/auth/handler",xfe=encodeURIComponent("fac");function M$(n,e,t,r,i,s){return KD.apply(this,arguments)}function KD(){return(KD=m(function*(n,e,t,r,i,s){P(n.config.authDomain,n,"auth-domain-config-required"),P(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qo,eventId:i};if(e instanceof Ks){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function xse(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Hde){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${xfe}=${encodeURIComponent(c)}`:"";return`${function Rfe({config:n}){return n.emulator?Q0(n,Mfe):`https://${n.authDomain}/${Afe}`}(n)}?${tm(a).slice(1)}${l}`})).apply(this,arguments)}const QD="webStorageSupport",Ofe=class kfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g$,this._completeRedirectFn=E$,this._overrideRedirectResult=Jhe}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Gs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield M$(e,t,r,Od(),i);return function Dfe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},wfe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ht().toLowerCase();t&&(a=$j(l)?"_blank":t),jj(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function gde(n=Ht()){var e;return Em(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Tfe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new A$(null);const d=window.open(e||"",a,u);P(d,n,"popup-blocked");try{d.focus()}catch{}return new A$(d)}(e,a,mD())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function whe(n){Rt().location.href=n}(yield M$(e,t,r,Od(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function bfe(n){return WD.apply(this,arguments)}(e),i=new ife(e);return r.register("authEvent",s=>(P(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(QD,{type:QD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[QD];void 0!==o&&t(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function lfe(n){return qD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wj()||cS()||Em()}};var k$="@firebase/auth";class Pfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vfe=UB("authIdTokenMaxAge")||300;let P$=null;const Bfe=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Vfe)return;const s=r?.token;P$!==s&&(P$=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Ufe(n=zc()){const e=yi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Sde(n,e){const t=yi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Dd(t.getOptions(),e??{}))return i;Zn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Ofe,persistence:[xhe,_he,g$]}),r=UB("authTokenSyncURL");if(r){const s=Bfe(r);(function che(n,e,t){it(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function ahe(n,e,t,r){it(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=VB("auth");return i&&function Tde(n,e,t){const r=Gt(n);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=n$(e),{host:o,port:a}=function Ade(n){const e=n$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:r$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:r$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Mde(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function jfe(n){return new Ue(function(e){var t=function lhe(n,e,t,r){return it(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function Ffe(n){wn(new an("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;P(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kj(n)},l=new Ide(r,i,s,c);return function Dde(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(os);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wn(new an("auth-internal",e=>{const t=Gt(e.getProvider("auth").getImmediate());return new Pfe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(k$,"0.23.2",function Nfe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Le(k$,"0.23.2","esm2017")}("Browser");class qd{constructor(e){return e}}class F${constructor(){return Kc("auth")}}const XD=new N("angularfire2.auth-instances");function zfe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qd(r)}}const Gfe={provide:F$,deps:[[new wt,XD]]},qfe={provide:qd,useFactory:function Hfe(n,e){const t=Wc("auth",n,e);return t&&new qd(t)},deps:[[new wt,XD],rs]};let Wfe=(()=>{class n{constructor(){Le("angularfire",ns.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[qfe,Gfe]}),n})();function Kfe(n,...e){return{ngModule:Wfe,providers:[{provide:XD,useFactory:zfe(n),multi:!0,deps:[re,Ze,Yc,Xc,[new wt,G0],...e]}]}}const L$=xt(jfe,!0),V$=xt(Xde,!0),Qfe=xt(Ufe,!0),Yfe=xt(ehe,!0),Xfe=xt(Qde,!0),Zfe=xt(Zde,!0);var B,Jfe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xr={},ZD=ZD||{},ae=Jfe||self;function Nm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JD="closure_uid_"+(1e9*Math.random()>>>0),tpe=0;function npe(n,e,t){return n.call.apply(n.bind,arguments)}function rpe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Cn(n,e,t){return(Cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?npe:rpe).apply(null,arguments)}function Fm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qs(){this.s=this.s,this.o=this.o}Qs.prototype.s=!1,Qs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function epe(n){Object.prototype.hasOwnProperty.call(n,JD)&&n[JD]||(n[JD]=++tpe)}(this)},Qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function eT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function U$(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Nm(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function En(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var spe=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return n}();function Kd(n){return/^[\s\xa0]*$/.test(n)}function Lm(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function Ei(n){return-1!=Lm().indexOf(n)}function tT(n){return tT[" "](n),n}tT[" "]=function(){};var rT,n,ape=Ei("Opera"),nl=Ei("Trident")||Ei("MSIE"),j$=Ei("Edge"),nT=j$||nl,$$=Ei("Gecko")&&!(-1!=Lm().toLowerCase().indexOf("webkit")&&!Ei("Edge"))&&!(Ei("Trident")||Ei("MSIE"))&&!Ei("Edge"),cpe=-1!=Lm().toLowerCase().indexOf("webkit")&&!Ei("Edge");function H$(){var n=ae.document;return n?n.documentMode:void 0}e:{var iT="",sT=(n=Lm(),$$?/rv:([^\);]+)(\)|;)/.exec(n):j$?/Edge\/([\d\.]+)/.exec(n):nl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cpe?/WebKit\/(\S+)/.exec(n):ape?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sT&&(iT=sT?sT[1]:""),nl){var oT=H$();if(null!=oT&&oT>parseFloat(iT)){rT=String(oT);break e}}rT=iT}var lpe=ae.document&&nl&&(H$()||parseInt(rT,10))||void 0;function Qd(n,e){if(En.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($$){e:{try{tT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:upe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qd.$.h.call(this)}}qt(Qd,En);var upe={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),dpe=0;function hpe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++dpe,this.fa=this.ia=!1}function Vm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function G$(n){const e={};for(const t in n)e[t]=n[t];return e}const q$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<q$.length;s++)t=q$[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Bm(n){this.src=n,this.g={},this.h=0}function lT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=B$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Bm.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=uT(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new hpe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var dT="closure_lm_"+(1e6*Math.random()|0),hT={};function K$(n,e,t,r,i){if(r&&r.once)return Y$(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K$(n,e[s],t,r,i);return null}return t=mT(t),n&&n[Yd]?n.O(e,t,Wd(r)?!!r.capture:!!r,i):Q$(n,e,t,!1,r,i)}function Q$(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Wd(i)?!!i.capture:!!i,a=pT(n);if(a||(n[dT]=a=new Bm(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function ppe(){const e=gpe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)spe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Z$(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Y$(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y$(n,e[s],t,r,i);return null}return t=mT(t),n&&n[Yd]?n.P(e,t,Wd(r)?!!r.capture:!!r,i):Q$(n,e,t,!0,r,i)}function X$(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X$(n,e[s],t,r,i);else r=Wd(r)?!!r.capture:!!r,t=mT(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uT(s=n.g[e],t,r,i))&&(Vm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=pT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uT(e,t,r,i)),(t=-1<n?e[n]:null)&&fT(t))}function fT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yd])lT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Z$(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pT(e))?(lT(t,n),0==t.h&&(t.src=null,e[dT]=null)):Vm(n)}}}function Z$(n){return n in hT?hT[n]:hT[n]="on"+n}function gpe(n,e){if(n.fa)n=!0;else{e=new Qd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&fT(n),n=t.call(r,e)}return n}function pT(n){return(n=n[dT])instanceof Bm?n:null}var gT="__closure_events_fn_"+(1e9*Math.random()>>>0);function mT(n){return"function"==typeof n?n:(n[gT]||(n[gT]=function(e){return n.handleEvent(e)}),n[gT])}function Wt(){Qs.call(this),this.i=new Bm(this),this.S=this,this.J=null}function un(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new En(e,n);else if(e instanceof En)e.target=e.target||n;else{var i=e;W$(e=new En(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Um(o,r,!0,e)&&i}if(i=Um(o=e.g=n,r,!0,e)&&i,i=Um(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Um(o=e.g=t[s],r,!1,e)&&i}function Um(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&lT(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}qt(Wt,Qs),Wt.prototype[Yd]=!0,Wt.prototype.removeEventListener=function(n,e,t,r){X$(this,n,e,t,r)},Wt.prototype.N=function(){if(Wt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vm(t[r]);delete n.g[e],n.h--}}this.J=null},Wt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _T=ae.JSON.stringify;function _pe(){var n=yT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var J$=new class mpe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vpe,n=>n.reset());class vpe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bpe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function wpe(n){ae.setTimeout(()=>{throw n},0)}let Xd,Zd=!1,yT=new class ype{constructor(){this.h=this.g=null}add(e,t){const r=J$.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eH=()=>{const n=ae.Promise.resolve(void 0);Xd=()=>{n.then(Cpe)}};var Cpe=()=>{for(var n;n=_pe();){try{n.h.call(n.g)}catch(t){wpe(t)}var e=J$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zd=!1};function jm(n,e){Wt.call(this),this.h=n||1,this.g=e||ae,this.j=Cn(this.qb,this),this.l=Date.now()}function vT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bT(n,e,t){if("function"==typeof n)t&&(n=Cn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function tH(n){n.g=bT(()=>{n.g=null,n.i&&(n.i=!1,tH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qt(jm,Wt),(B=jm.prototype).ga=!1,B.T=null,B.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),un(this,"tick"),this.ga&&(vT(this),this.start()))}},B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.N=function(){jm.$.N.call(this),vT(this),delete this.g};class Epe extends Qs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tH(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jd(n){Qs.call(this),this.h=n,this.g={}}qt(Jd,Qs);var nH=[];function rH(n,e,t,r){Array.isArray(t)||(t&&(nH[0]=t.toString()),t=nH);for(var i=0;i<t.length;i++){var s=K$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function iH(n){cT(n.g,function(e,t){this.g.hasOwnProperty(t)&&fT(e)},n),n.g={}}function $m(){this.g=!0}function rl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tpe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _T(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jd.prototype.N=function(){Jd.$.N.call(this),iH(this)},Jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$m.prototype.Ea=function(){this.g=!1},$m.prototype.info=function(){};var sa={},sH=null;function Hm(){return sH=sH||new Wt}function oH(n){En.call(this,sa.Ta,n)}function eh(n){const e=Hm();un(e,new oH(e))}function aH(n,e){En.call(this,sa.STAT_EVENT,n),this.stat=e}function Bn(n){const e=Hm();un(e,new aH(e,n))}function cH(n,e){En.call(this,sa.Ua,n),this.size=e}function th(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}sa.Ta="serverreachability",qt(oH,En),sa.STAT_EVENT="statevent",qt(aH,En),sa.Ua="timingevent",qt(cH,En);var zm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wT(){}function dH(){}wT.prototype.h=null;var IT,nh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CT(){En.call(this,"d")}function ET(){En.call(this,"c")}function Gm(){}function rh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jd(this),this.P=Ape,this.V=new jm(n=nT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hH}function hH(){this.i=null,this.g="",this.h=!1}qt(CT,En),qt(ET,En),qt(Gm,wT),Gm.prototype.g=function(){return new XMLHttpRequest},Gm.prototype.i=function(){return{}},IT=new Gm;var Ape=45e3,ST={},qm={};function DT(n,e,t){n.L=1,n.v=Ym(cs(e)),n.s=t,n.S=!0,fH(n,null)}function fH(n,e){n.G=Date.now(),ih(n),n.A=cs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),EH(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hH,n.g=WH(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Epe(Cn(n.Pa,n,n.g),n.O)),rH(n.U,n.g,"readystatechange",n.nb),e=n.I?G$(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),eh(),function Ipe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gH(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Mpe(n,t),i==qm){4==e&&(n.o=4,Bn(14),r=!1),rl(n.j,n.m,null,"[Incomplete Response]");break}if(i==ST){n.o=4,Bn(15),rl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rl(n.j,n.m,i,null),TT(n,i)}pH(n)&&i!=qm&&i!=ST&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),PT(e),e.M=!0,Bn(11))):(rl(n.j,n.m,t,"[Invalid Chunked Response]"),oa(n),sh(n))}function Mpe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qm:(t=Number(e.substring(t,r)),isNaN(t)?ST:(r+=1)+t>e.length?qm:(e=e.slice(r,r+t),n.C=r+t,e))}function ih(n){n.Y=Date.now()+n.P,mH(n,n.P)}function mH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=th(Cn(n.lb,n),e)}function Wm(n){n.B&&(ae.clearTimeout(n.B),n.B=null)}function sh(n){0==n.l.H||n.J||HH(n.l,n)}function oa(n){Wm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,vT(n.V),iH(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function TT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||AT(t.i,n)))if(!n.K&&AT(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;n_(t),e_(t)}OT(t),Bn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=th(Cn(t.ib,t),6e3));if(1>=DH(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ca(t,11)}else if((n.K||t.g==n)&&n_(t),!Kd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(MT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Je(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=qH(r,r.J?r.pa:null,r.Y),o.K){TH(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Wm(a),ih(a)),r.g=o}else jH(r);0<t.j.length&&t_(t)}else"stop"!=l[0]&&"close"!=l[0]||ca(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ca(t,7):kT(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}eh()}catch{}}function _H(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Nm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Rpe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Nm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function xpe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Nm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(B=rh.prototype).setTimeout=function(n){this.P=n},B.nb=function(n){n=n.target;const e=this.M;e&&3==Ii(n)?e.l():this.Pa(n)},B.Pa=function(n){try{if(n==this.g)e:{const u=Ii(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||nT||this.g&&(this.h.h||this.g.ja()||NH(this.g)))){this.J||4!=u||7==e||eh(),Wm(this);var t=this.g.da();this.ca=t;t:if(pH(this)){var r=NH(this.g);n="";var i=r.length,s=4==Ii(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oa(this),sh(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Spe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kd(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Bn(12),oa(this),sh(this);break e}rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TT(this,t)}this.S?(gH(this,u,o),nT&&this.i&&3==u&&(rH(this.U,this.V,"tick",this.mb),this.V.start())):(rl(this.j,this.m,o,null),TT(this,o)),4==u&&oa(this),this.i&&!this.J&&(4==u?HH(this.l,this):(this.i=!1,ih(this)))}else(function Qpe(n){const e={};n=(n.g&&2<=Ii(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Kd(n[r]))continue;var t=bpe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function fpe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),oa(this),sh(this)}}}catch{}},B.mb=function(){if(this.g){var n=Ii(this.g),e=this.g.ja();this.C<e.length&&(Wm(this),gH(this,n,e),this.i&&4!=n&&ih(this))}},B.cancel=function(){this.J=!0,oa(this)},B.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Dpe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(eh(),Bn(17)),oa(this),this.o=2,sh(this)):mH(this,this.Y-n)};var yH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof aa){this.h=n.h,Km(this,n.j),this.s=n.s,this.g=n.g,Qm(this,n.m),this.l=n.l;var e=n.i,t=new ch;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),vH(this,t),this.o=n.o}else n&&(e=String(n).match(yH))?(this.h=!1,Km(this,e[1]||"",!0),this.s=oh(e[2]||""),this.g=oh(e[3]||"",!0),Qm(this,e[4]),this.l=oh(e[5]||"",!0),vH(this,e[6]||"",!0),this.o=oh(e[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}function cs(n){return new aa(n)}function Km(n,e,t){n.j=t?oh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vH(n,e,t){e instanceof ch?(n.i=e,function Vpe(n,e){e&&!n.j&&(Ys(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wH(this,r),EH(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ah(e,Fpe)),n.i=new ch(e,n.h))}function Je(n,e,t){n.i.set(e,t)}function Ym(n){return Je(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ah(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ope),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ope(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}aa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ah(e,bH,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ah(e,bH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ah(t,"/"==t.charAt(0)?Npe:Ppe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ah(t,Lpe)),n.join("")};var bH=/[#\/\?@]/g,Ppe=/[#\?:]/g,Npe=/[#\?]/g,Fpe=/[#\?@]/g,Lpe=/#/g;function ch(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ys(n){n.g||(n.g=new Map,n.h=0,n.i&&function kpe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wH(n,e){Ys(n),e=il(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function CH(n,e){return Ys(n),e=il(n,e),n.g.has(e)}function EH(n,e,t){wH(n,e),0<t.length&&(n.i=null,n.g.set(il(n,e),eT(t)),n.h+=t.length)}function il(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IH(n){this.l=n||Upe,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=ch.prototype).add=function(n,e){Ys(this),this.i=null,n=il(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){Ys(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},B.ta=function(){Ys(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},B.Z=function(n){Ys(this);let e=[];if("string"==typeof n)CH(this,n)&&(e=e.concat(this.g.get(il(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},B.set=function(n,e){return Ys(this),this.i=null,CH(this,n=il(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Upe=10;function SH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DH(n){return n.h?1:n.g?n.g.size:0}function AT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function MT(n,e){n.g?n.g.add(e):n.h=e}function TH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return eT(n.i)}IH.prototype.cancel=function(){if(this.i=AH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var jpe=class{stringify(n){return ae.JSON.stringify(n,void 0)}parse(n){return ae.JSON.parse(n,void 0)}};function $pe(){this.g=new jpe}function Hpe(n,e,t){const r=t||"";try{_H(n,function(i,s){let o=i;Wd(i)&&(o=_T(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lh(n){this.l=n.fc||null,this.j=n.ob||!1}function Zm(n,e){Wt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=xT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(lh,wT),lh.prototype.g=function(){return new Zm(this.l,this.j)},lh.prototype.i=function(n){return function(){return n}}({}),qt(Zm,Wt);var xT=0;function MH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function uh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dh(n)}function dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=Zm.prototype).open=function(n,e){if(this.readyState!=xT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dh(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uh(this)),this.readyState=xT},B.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},B.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uh(this):dh(this),3==this.readyState&&MH(this)}},B.Za=function(n){this.g&&(this.response=this.responseText=n,uh(this))},B.Ya=function(n){this.g&&(this.response=n,uh(this))},B.ka=function(){this.g&&uh(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Zm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Gpe=ae.JSON.parse;function _t(n){Wt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xH,this.L=this.M=!1}qt(_t,Wt);var xH="",qpe=/^https?$/i,Wpe=["POST","PUT"];function RH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kH(n),Jm(n)}function kH(n){n.F||(n.F=!0,un(n,"complete"),un(n,"error"))}function OH(n){if(n.h&&typeof ZD<"u"&&(!n.C[1]||4!=Ii(n)||2!=n.da()))if(n.v&&4==Ii(n))bT(n.La,0,n);else if(un(n,"readystatechange"),4==Ii(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(yH)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!qpe.test(i?i.toLowerCase():"")}t=r}if(t)un(n,"complete"),un(n,"success");else{n.m=6;try{var s=2<Ii(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",kH(n)}}finally{Jm(n)}}}function Jm(n,e){if(n.g){PH(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||un(n,"ready");try{t.onreadystatechange=r}catch{}}}function PH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function Ii(n){return n.g?n.g.readyState:0}function NH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case xH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FH(n){let e="";return cT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function RT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Je(n,e,t))}function hh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LH(n){this.Ga=0,this.j=[],this.l=new $m,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hh("baseRetryDelayMs",5e3,n),this.hb=hh("retryDelaySeedMs",1e4,n),this.eb=hh("forwardChannelMaxRetries",2,n),this.xa=hh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new IH(n&&n.concurrentRequestLimit),this.Ja=new $pe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kT(n){if(VH(n),3==n.H){var e=n.W++,t=cs(n.I);if(Je(t,"SID",n.K),Je(t,"RID",e),Je(t,"TYPE","terminate"),fh(n,t),(e=new rh(n,n.l,e)).L=2,e.v=Ym(cs(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=WH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ih(e)}GH(n)}function e_(n){n.g&&(PT(n),n.g.cancel(),n.g=null)}function VH(n){e_(n),n.u&&(ae.clearTimeout(n.u),n.u=null),n_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function t_(n){if(!SH(n.i)&&!n.m){n.m=!0;var e=n.Na;Xd||eH(),Zd||(Xd(),Zd=!0),yT.add(e,n),n.C=0}}function BH(n,e){var t;t=e?e.m:n.W++;const r=cs(n.I);Je(r,"SID",n.K),Je(r,"RID",t),Je(r,"AID",n.V),fh(n,r),n.o&&n.s&&RT(r,n.o,n.s),t=new rh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=UH(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),MT(n.i,t),DT(t,r,e)}function fh(n,e){n.na&&cT(n.na,function(t,r){Je(e,r,t)}),n.h&&_H({},function(t,r){Je(e,r,t)})}function UH(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Cn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Hpe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jH(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Xd||eH(),Zd||(Xd(),Zd=!0),yT.add(e,n),n.A=0}}function OT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=th(Cn(n.Ma,n),zH(n,n.A)),n.A++,0))}function PT(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function $H(n){n.g=new rh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=cs(n.wa);Je(e,"RID","rpc"),Je(e,"SID",n.K),Je(e,"AID",n.V),Je(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Je(e,"TO",n.qa),Je(e,"TYPE","xmlhttp"),fh(n,e),n.o&&n.s&&RT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ym(cs(e)),t.s=null,t.S=!0,fH(t,n)}function n_(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function HH(n,e){var t=null;if(n.g==e){n_(n),PT(n),n.g=null;var r=2}else{if(!AT(n.i,e))return;t=e.F,TH(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;un(r=Hm(),new cH(r,t)),t_(n)}else jH(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ype(n,e){return!(DH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=th(Cn(n.Na,n,e),zH(n,n.C)),n.C++,0)))}(n,e)||2==r&&OT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ca(n,5);break;case 4:ca(n,10);break;case 3:ca(n,6);break;default:ca(n,2)}}function zH(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ca(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Cn(n.pb,n);t||(t=new aa("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Km(t,"https"),Ym(t)),function zpe(n,e){const t=new $m;if(ae.Image){const r=new Image;r.onload=Fm(Xm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fm(Xm,t,r,"TestLoadImage: error",!1,e),r.onabort=Fm(Xm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fm(Xm,t,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bn(2);n.H=0,n.h&&n.h.za(e),GH(n),VH(n)}function GH(n){if(n.H=0,n.ma=[],n.h){const e=AH(n.i);(0!=e.length||0!=n.j.length)&&(U$(n.ma,e),U$(n.ma,n.j),n.i.i.length=0,eT(n.j),n.j.length=0),n.h.ya()}}function qH(n,e,t){var r=t instanceof aa?cs(t):new aa(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Qm(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new aa(null);r&&Km(s,r),e&&(s.g=e),i&&Qm(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Je(r,t,e),Je(r,"VER",n.ra),fh(n,r),r}function WH(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _t(t&&n.Ha&&!n.va?new lh({ob:!0}):n.va)).Oa(n.J),e}function KH(){}function r_(){if(nl&&!(10<=Number(lpe)))throw Error("Environmental error: no available transport.")}function ur(n,e){Wt.call(this),this.g=new LH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sl(this)}function QH(n){CT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YH(){ET.call(this),this.status=1}function sl(n){this.g=n}function Zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NT(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ve(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(B=_t.prototype).Oa=function(n){this.M=n},B.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IT.g(),this.C=function uH(n){return n.h||(n.h=n.i())}(this.u?this.u:IT),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void RH(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ae.FormData&&n instanceof ae.FormData,!(0<=B$(Wpe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PH(this),0<this.B&&((this.L=function Kpe(n){return nl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=bT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){RH(this,s)}},B.ua=function(){typeof ZD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,un(this,"complete"),un(this,"abort"),Jm(this))},B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jm(this,!0)),_t.$.N.call(this)},B.La=function(){this.s||(this.G||this.v||this.l?OH(this):this.kb())},B.kb=function(){OH(this)},B.isActive=function(){return!!this.g},B.da=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Gpe(e)}},B.Ia=function(){return this.m},B.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=LH.prototype).ra=8,B.H=1,B.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new rh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=G$(s),W$(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UH(this,i,e),Je(t=cs(this.I),"RID",n),Je(t,"CVER",22),this.F&&Je(t,"X-HTTP-Session-Id",this.F),fh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(FH(s)))+"&"+e:this.o&&RT(t,this.o,s)),MT(this.i,i),this.bb&&Je(t,"TYPE","init"),this.P?(Je(t,"$req",e),Je(t,"SID","null"),i.aa=!0,DT(i,t,null)):DT(i,t,e),this.H=2}}else 3==this.H&&(n?BH(this,n):0==this.j.length||SH(this.i)||BH(this))},B.Ma=function(){if(this.u=null,$H(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=th(Cn(this.jb,this),n)}},B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),e_(this),$H(this))},B.ib=function(){null!=this.v&&(this.v=null,e_(this),OT(this),Bn(19))},B.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},B.isActive=function(){return!!this.h&&this.h.isActive(this)},(B=KH.prototype).Ba=function(){},B.Aa=function(){},B.za=function(){},B.ya=function(){},B.isActive=function(){return!0},B.Va=function(){},r_.prototype.g=function(n,e){return new ur(n,e)},qt(ur,Wt),ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qH(n,null,n.Y),t_(n)},ur.prototype.close=function(){kT(this.g)},ur.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_T(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&t_(e)},ur.prototype.N=function(){this.g.h=null,delete this.j,kT(this.g),delete this.g,ur.$.N.call(this)},qt(QH,CT),qt(YH,ET),qt(sl,KH),sl.prototype.Ba=function(){un(this.g,"a")},sl.prototype.Aa=function(n){un(this.g,new QH(n))},sl.prototype.za=function(n){un(this.g,new YH)},sl.prototype.ya=function(){un(this.g,"b")},qt(Zr,function Xpe(){this.blockSize=-1}),Zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)NT(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){NT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){NT(this,r),i=0;break}}this.h=i,this.i+=e},Zr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Zpe={};function FT(n){return-128<=n&&128>n?function ope(n,e){var t=Zpe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ve([0|e],0>e?-1:0)}):new Ve([0|n],0>n?-1:0)}function Si(n){if(isNaN(n)||!isFinite(n))return ol;if(0>n)return dn(Si(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=LT;return new Ve(e,0)}var LT=4294967296,ol=FT(0),VT=FT(1),ZH=FT(16777216);function ls(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Nr(n){return-1==n.h}function dn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ve(t,~n.h).add(VT)}function i_(n,e){return n.add(dn(e))}function s_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ph(n,e){this.g=n,this.h=e}function o_(n,e){if(ls(e))throw Error("division by zero");if(ls(n))return new ph(ol,ol);if(Nr(n))return e=o_(dn(n),e),new ph(dn(e.g),dn(e.h));if(Nr(e))return e=o_(n,dn(e)),new ph(dn(e.g),e.h);if(30<n.g.length){if(Nr(n)||Nr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=VT,r=e;0>=r.X(n);)t=JH(t),r=JH(r);var i=al(t,1),s=al(r,1);for(r=al(r,2),t=al(t,2);!ls(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=al(r,1),t=al(t,1)}return e=i_(n,i.R(e)),new ph(i,e)}for(i=ol;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Si(t)).R(e);Nr(o)||0<o.X(n);)o=(s=Si(t-=r)).R(e);ls(s)&&(s=VT),i=i.add(s),n=i_(n,o)}return new ph(i,n)}function JH(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ve(t,n.h)}function al(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ve(i,n.h)}(B=Ve.prototype).ea=function(){if(Nr(this))return-dn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:LT+r)*e,e*=LT}return n},B.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ls(this))return"0";if(Nr(this))return"-"+dn(this).toString(n);for(var e=Si(Math.pow(n,6)),t=this,r="";;){var i=o_(t,e).g,s=((0<(t=i_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ls(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},B.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},B.X=function(n){return Nr(n=i_(this,n))?-1:ls(n)?0:1},B.abs=function(){return Nr(this)?dn(this):this},B.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ve(t,-2147483648&t[t.length-1]?-1:0)},B.R=function(n){if(ls(this)||ls(n))return ol;if(Nr(this))return Nr(n)?dn(this).R(dn(n)):dn(dn(this).R(n));if(Nr(n))return dn(this.R(dn(n)));if(0>this.X(ZH)&&0>n.X(ZH))return Si(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,s_(t,2*r+2*i),t[2*r+2*i+1]+=s*c,s_(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,s_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,s_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ve(t,0)},B.gb=function(n){return o_(this,n).h},B.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ve(t,this.h&n.h)},B.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ve(t,this.h|n.h)},B.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ve(t,this.h^n.h)},r_.prototype.createWebChannel=r_.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,zm.NO_ERROR=0,zm.TIMEOUT=8,zm.HTTP_ERROR=6,lH.COMPLETE="complete",dH.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",Wt.prototype.listen=Wt.prototype.O,_t.prototype.listenOnce=_t.prototype.P,_t.prototype.getLastError=_t.prototype.Sa,_t.prototype.getLastErrorCode=_t.prototype.Ia,_t.prototype.getStatus=_t.prototype.da,_t.prototype.getResponseJson=_t.prototype.Wa,_t.prototype.getResponseText=_t.prototype.ja,_t.prototype.send=_t.prototype.ha,_t.prototype.setWithCredentials=_t.prototype.Oa,Zr.prototype.digest=Zr.prototype.l,Zr.prototype.reset=Zr.prototype.reset,Zr.prototype.update=Zr.prototype.j,Ve.prototype.add=Ve.prototype.add,Ve.prototype.multiply=Ve.prototype.R,Ve.prototype.modulo=Ve.prototype.gb,Ve.prototype.compare=Ve.prototype.X,Ve.prototype.toNumber=Ve.prototype.ea,Ve.prototype.toString=Ve.prototype.toString,Ve.prototype.getBits=Ve.prototype.D,Ve.fromNumber=Si,Ve.fromString=function XH(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return dn(XH(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Si(Math.pow(e,8)),r=ol,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Si(Math.pow(e,s)),r=r.R(s).add(Si(o))):r=(r=r.R(t)).add(Si(o))}return r};var Jpe=Xr.createWebChannelTransport=function(){return new r_},ege=Xr.getStatEventTarget=function(){return Hm()},BT=Xr.ErrorCode=zm,tge=Xr.EventType=lH,nge=Xr.Event=sa,ez=Xr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rge=Xr.FetchXmlHttpFactory=lh,a_=Xr.WebChannel=dH,ige=Xr.XhrIo=_t,sge=Xr.Md5=Zr,cl=Xr.Integer=Ve;const tz="@firebase/firestore";class Kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");let ll="9.23.0";const Xs=new qo("@firebase/firestore");function UT(){return Xs.logLevel}function k(n,...e){if(Xs.logLevel<=Ce.DEBUG){const t=e.map(jT);Xs.debug(`Firestore (${ll}): ${n}`,...t)}}function Et(n,...e){if(Xs.logLevel<=Ce.ERROR){const t=e.map(jT);Xs.error(`Firestore (${ll}): ${n}`,...t)}}function Jr(n,...e){if(Xs.logLevel<=Ce.WARN){const t=e.map(jT);Xs.warn(`Firestore (${ll}): ${n}`,...t)}}function jT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function H(n="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+n;throw Et(e),new Error(e)}function q(n,e){n||H()}function V(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class age{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cge{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new jt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new nz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Kt(e)}}class lge{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uge{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lge(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dge{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q("string"==typeof t.token),this.T=t.token,new rz(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hge(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class iz{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=hge(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ie(n,e){return n<e?-1:n>e?1:0}function ul(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new dt(0,0))}static max(){return new W(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gh{constructor(e,t,r){void 0===t?t=0:t>e.length&&H(),void 0===r?r=e.length-t:r>e.length-t&&H(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ee extends gh{construct(e,t,r){return new Ee(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ee(t)}static emptyPath(){return new Ee([])}}const fge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends gh{construct(e,t,r){return new It(e,t,r)}static isValidIdentifier(e){return fge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new R(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new R(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new R(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(t)}static emptyPath(){return new It([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Ee.fromString(e))}static fromName(e){return new L(Ee.fromString(e).popFirst(5))}static empty(){return new L(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Ee(e.slice()))}}function az(n){return new dr(n.readTime,n.key,-1)}class dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new dr(W.min(),L.empty(),-1)}static max(){return new dr(W.max(),L.empty(),-1)}}function HT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:ie(n.largestBatchId,e.largestBatchId))}const cz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zs(n){return zT.apply(this,arguments)}function zT(){return zT=m(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==cz)throw n;k("LocalStore","Unexpectedly lost primary lease")}),zT.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,r)=>{t(e)})}static reject(e){return new C((t,r)=>{r(e)})}static waitFor(e){return new C((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next(i=>i?C.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new C((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Js(n){return"IndexedDbTransactionError"===n.name}let hr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function yh(n){return null==n}function vh(n){return 0===n&&1/n==-1/0}function _z(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qe{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new Qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new h_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new h_(this.root,e,this.comparator,!1)}getReverseIterator(){return new h_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new h_(this.root,e,this.comparator,!0)}}class h_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??hn.RED,this.left=i??hn.EMPTY,this.right=s??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new hn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1,hn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(n,e,t,r,i){return this}insert(n,e,t){return new hn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vz(this.data.getIterator())}getIteratorFrom(e){return new vz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class vz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new et(It.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bz("Invalid base64 string: "+i):i}}(e);return new $t(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Bge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(n){if(q(!!n),"string"==typeof n){let e=0;const t=Bge.exec(n);if(q(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function us(n){return"string"==typeof n?$t.fromBase64String(n):$t.fromUint8Array(n)}function f_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function p_(n){const e=n.mapValue.fields.__previous_value__;return f_(e)?p_(e):e}function bh(n){const e=to(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}class Uge{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class da{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new da("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}const no={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f_(n)?4:Iz(n)?9007199254740991:10:H()}function Ti(n,e){if(n===e)return!0;const t=ro(n);if(t!==ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bh(n).isEqual(bh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=to(r.timestampValue),o=to(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,us(n.bytesValue).isEqual(us(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return yt(r.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yt(r.integerValue)===yt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=yt(r.doubleValue),o=yt(i.doubleValue);return s===o?vh(s)===vh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_z(s)!==_z(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ti(s[a],o[a])))return!1;return!0}(n,e);default:return H()}var i}function wh(n,e){return void 0!==(n.values||[]).find(t=>Ti(t,e))}function io(n,e){if(n===e)return 0;const t=ro(n),r=ro(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=yt(i.integerValue||i.doubleValue),a=yt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return wz(n.timestampValue,e.timestampValue);case 4:return wz(bh(n),bh(e));case 5:return ie(n.stringValue,e.stringValue);case 6:return function(i,s){const o=us(i),a=us(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=ie(o[c],a[c]);if(0!==l)return l}return ie(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(yt(i.latitude),yt(s.latitude));return 0!==o?o:ie(yt(i.longitude),yt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=io(o[c],a[c]);if(l)return l}return ie(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===no.mapValue&&s===no.mapValue)return 0;if(i===no.mapValue)return 1;if(s===no.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=ie(a[u],l[u]);if(0!==d)return d;const h=io(o[a[u]],c[l[u]]);if(0!==h)return h}return ie(a.length,l.length)}(n.mapValue,e.mapValue);default:throw H()}}function wz(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ie(n,e);const t=to(n),r=to(e),i=ie(t.seconds,r.seconds);return 0!==i?i:ie(t.nanos,r.nanos)}function hl(n){return WT(n)}function WT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=to(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?us(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=WT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${WT(r.fields[a])}`;return s+"}"}(n.mapValue):H();var e}function ha(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KT(n){return!!n&&"integerValue"in n}function Ch(n){return!!n&&"arrayValue"in n}function Cz(n){return!!n&&"nullValue"in n}function Ez(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function __(n){return!!n&&"mapValue"in n}function Eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Iz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!__(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(t)}setAll(e){let t=It.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Eh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());__(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];__(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(Eh(this.value))}}function Tz(n){const e=[];return eo(n.fields,(t,r)=>{const i=new It([t]);if(__(r)){const s=Tz(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}class tt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,W.min(),W.min(),W.min(),fn.empty(),0)}static newFoundDocument(e,t,r,i){return new tt(e,1,t,W.min(),r,i,0)}static newNoDocument(e,t){return new tt(e,2,t,W.min(),W.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,W.min(),W.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class so{constructor(e,t){this.position=e,this.inclusive=t}}function Az(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),t.key):io(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Mz(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ti(n.position[t],e.position[t]))return!1;return!0}class fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hge(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xz{}class _e extends xz{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new zge(e,t,r):"array-contains"===t?new Wge(e,r):"in"===t?new Fz(e,r):"not-in"===t?new Kge(e,r):"array-contains-any"===t?new Qge(e,r):new _e(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Gge(e,r):new qge(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(io(t,this.value)):null!==t&&ro(this.value)===ro(t)&&this.matchesComparison(io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Be extends xz{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Be(e,t)}matches(e){return pl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pl(n){return"and"===n.op}function YT(n){return function Rz(n){for(const e of n.filters)if(e instanceof Be)return!1;return!0}(n)&&pl(n)}function XT(n){if(n instanceof _e)return n.field.canonicalString()+n.op.toString()+hl(n.value);if(YT(n))return n.filters.map(e=>XT(e)).join(",");{const e=n.filters.map(t=>XT(t)).join(",");return`${n.op}(${e})`}}function kz(n,e){return n instanceof _e?(t=n,(r=e)instanceof _e&&t.op===r.op&&t.field.isEqual(r.field)&&Ti(t.value,r.value)):n instanceof Be?function(t,r){return r instanceof Be&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&kz(s,r.filters[o]),!0)}(n,e):void H();var t,r}function Pz(n){return n instanceof _e?`${(e=n).field.canonicalString()} ${e.op} ${hl(e.value)}`:n instanceof Be?function(e){return e.op.toString()+" {"+e.getFilters().map(Pz).join(" ,")+"}"}(n):"Filter";var e}class zge extends _e{constructor(e,t,r){super(e,t,r),this.key=L.fromName(r.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gge extends _e{constructor(e,t){super(e,"in",t),this.keys=Nz(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qge extends _e{constructor(e,t){super(e,"not-in",t),this.keys=Nz(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nz(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>L.fromName(r.referenceValue))}class Wge extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ch(t)&&wh(t.arrayValue,this.value)}}class Fz extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wh(this.value.arrayValue,t)}}class Kge extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wh(this.value.arrayValue,t)}}class Qge extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}class Yge{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function ZT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Yge(n,e,t,r,i,s,o)}function fa(n){const e=V(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>XT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hl(r)).join(",")),e.dt=t}return e.dt}function Ih(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hge(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kz(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mz(n.startAt,e.startAt)&&Mz(n.endAt,e.endAt)}function y_(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ds{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function gl(n){return new ds(n)}function Uz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function JT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function b_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eA(n){return null!==n.collectionGroup}function pa(n){const e=V(n);if(null===e.wt){e.wt=[];const t=b_(e),r=JT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new fl(t)),e.wt.push(new fl(It.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fl(It.keyField(),s))}}}return e.wt}function Un(n){const e=V(n);if(!e._t)if("F"===e.limitType)e._t=ZT(e.path,e.collectionGroup,pa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of pa(e))t.push(new fl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new so(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new so(e.startAt.position,e.startAt.inclusive):null;e._t=ZT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function tA(n,e){e.getFirstInequalityField(),b_(n);const t=n.filters.concat([e]);return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function w_(n,e,t){return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return Ih(Un(n),Un(e))&&n.limitType===e.limitType}function jz(n){return`${fa(Un(n))}|lt:${n.limitType}`}function nA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Pz(r)).join(", ")}]`),yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hl(r)).join(",")),`Target(${t})`}(Un(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):L.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of pa(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=Az(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,pa(t),r)||t.endAt&&!function(i,s,o){const a=Az(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,pa(t),r)));var t,r}function Hz(n){return(e,t)=>{let r=!1;for(const i of pa(n)){const s=Xge(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Xge(n,e,t){const r=n.field.isKeyField()?L.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?io(a,c):H()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yz(this.inner)}size(){return this.innerSize}}const Zge=new Qe(L.comparator);function er(){return Zge}const zz=new Qe(L.comparator);function Th(...n){let e=zz;for(const t of n)e=e.insert(t.key,t);return e}function Gz(n){let e=zz;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ai(){return Ah()}function qz(){return Ah()}function Ah(){return new hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jge=new Qe(L.comparator),eme=new et(L.comparator);function he(...n){let e=eme;for(const t of n)e=e.add(t);return e}const tme=new et(ie);function Wz(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function Kz(n){return{integerValue:""+n}}function Qz(n,e){return function uz(n){return"number"==typeof n&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Kz(e):Wz(n,e)}class C_{constructor(){this._=void 0}}function nme(n,e,t){return n instanceof ml?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&f_(i)&&(i=p_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ga?Xz(n,e):n instanceof ma?Zz(n,e):function(r,i){const s=Yz(r,i),o=Jz(s)+Jz(r.gt);return KT(s)&&KT(r.gt)?Kz(o):Wz(r.serializer,o)}(n,e)}function rme(n,e,t){return n instanceof ga?Xz(n,e):n instanceof ma?Zz(n,e):t}function Yz(n,e){return n instanceof _l?KT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ml extends C_{}class ga extends C_{constructor(e){super(),this.elements=e}}function Xz(n,e){const t=e4(e);for(const r of n.elements)t.some(i=>Ti(i,r))||t.push(r);return{arrayValue:{values:t}}}class ma extends C_{constructor(e){super(),this.elements=e}}function Zz(n,e){let t=e4(e);for(const r of n.elements)t=t.filter(i=>!Ti(i,r));return{arrayValue:{values:t}}}class _l extends C_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Jz(n){return yt(n.integerValue||n.doubleValue)}function e4(n){return Ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sme{constructor(e,t){this.version=e,this.transformResults=t}}class st{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new st}static exists(e){return new st(void 0,e)}static updateTime(e){return new st(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function E_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class I_{}function t4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vl(n.key,st.none()):new yl(n.key,n.data,st.none());{const t=n.data,r=fn.empty();let i=new et(It.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(n.key,r,new Jn(i.toArray()),st.none())}}function ome(n,e,t){n instanceof yl?function(r,i,s){const o=r.value.clone(),a=i4(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof fs?function(r,i,s){if(!E_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=i4(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(r4(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xh(n,e,t,r){return n instanceof yl?function(i,s,o,a){if(!E_(i.precondition,s))return o;const c=i.value.clone(),l=s4(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof fs?function(i,s,o,a){if(!E_(i.precondition,s))return o;const c=s4(i.fieldTransforms,a,s),l=s.data;return l.setAll(r4(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,E_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ame(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Yz(r.transform,i||null);null!=s&&(null===t&&(t=fn.empty()),t.set(r.field,s))}return t||null}function n4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ul(t,r,(i,s)=>function ime(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ga&&r instanceof ga||t instanceof ma&&r instanceof ma?ul(t.elements,r.elements,Ti):t instanceof _l&&r instanceof _l?Ti(t.gt,r.gt):t instanceof ml&&r instanceof ml);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class yl extends I_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends I_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function r4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i4(n,e,t){const r=new Map;q(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rme(o,a,t[i]))}return r}function s4(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,nme(s,o,e))}return r}class vl extends I_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iA extends I_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ome(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qz();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=t4(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,r)=>n4(t,r))&&ul(this.baseMutations,e.baseMutations,(t,r)=>n4(t,r))}}class oA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q(e.mutations.length===r.length);let i=Jge;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new oA(e,t,r,i)}}class aA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lme{constructor(e,t){this.count=e,this.unchangedNames=t}}var kt,Ie;function a4(n){if(void 0===n)return Et("GRPC error has no .code"),E.UNKNOWN;switch(n){case kt.OK:return E.OK;case kt.CANCELLED:return E.CANCELLED;case kt.UNKNOWN:return E.UNKNOWN;case kt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case kt.INTERNAL:return E.INTERNAL;case kt.UNAVAILABLE:return E.UNAVAILABLE;case kt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case kt.NOT_FOUND:return E.NOT_FOUND;case kt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case kt.ABORTED:return E.ABORTED;case kt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case kt.DATA_LOSS:return E.DATA_LOSS;default:return H()}}(Ie=kt||(kt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class cA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return S_}static getOrCreateInstance(){return null===S_&&(S_=new cA),S_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let S_=null;const ume=new cl([4294967295,4294967295],0);function l4(n){const e=function c4(){return new TextEncoder}().encode(n),t=new sge;return t.update(e),new Uint8Array(t.digest())}function u4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cl([t,r],0),new cl([i,s],0)]}class lA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rh(`Invalid padding: ${t}`);if(r<0)throw new Rh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Rh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Rh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cl.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(cl.fromNumber(r)));return 1===i.compare(ume)&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=l4(e),[r,i]=u4(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=l4(e),[r,i]=u4(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kh(W.min(),i,new Qe(ie),er(),he())}}class Oh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oh(r,t,he(),he(),he())}}class D_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class d4{constructor(e,t){this.targetId=e,this.Vt=t}}class h4{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class f4{constructor(){this.St=0,this.Dt=g4(),this.Ct=$t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),t=he(),r=he();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Oh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=g4()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class dme{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=er(),this.zt=p4(),this.Wt=new Qe(ie)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:H()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(y_(o))if(0===i){const a=new L(o.path);this.Yt(r,a,tt.newNoDocument(a,W.min()))}else q(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=cA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,p,g,_,w;const y={localCacheCount:u,existenceFilterCount:d.count},M=d.unchangedNames;return M&&(y.bloomFilter={applied:0===l,hashCount:null!==(h=M?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=M?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(_=M?.bits)||void 0===_?void 0:_.padding)&&void 0!==w?w:0}),y}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=us(s).toUint8Array()}catch(u){if(u instanceof bz)return Jr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new lA(c,o,a)}catch(u){return Jr(u instanceof Rh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&y_(a.target)){const c=new L(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,tt.newNoDocument(c,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=he();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new kh(e,t,this.Wt,this.jt,r);return this.jt=er(),this.zt=p4(),this.Wt=new Qe(ie),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new f4,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new et(ie),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new f4),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function p4(){return new Qe(L.comparator)}function g4(){return new Qe(L.comparator)}const hme={asc:"ASCENDING",desc:"DESCENDING"},fme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pme={and:"AND",or:"OR"};class gme{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uA(n,e){return n.useProto3Json||yh(e)?e:{value:e}}function bl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mme(n,e){return bl(n,e.toTimestamp())}function St(n){return q(!!n),W.fromTimestamp(function(e){const t=to(e);return new dt(t.seconds,t.nanos)}(n))}function dA(n,e){return(t=n,new Ee(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _4(n){const e=Ee.fromString(n);return q(D4(e)),e}function Ph(n,e){return dA(n.databaseId,e.path)}function Mi(n,e){const t=_4(e);if(t.get(1)!==n.databaseId.projectId)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(v4(t))}function hA(n,e){return dA(n.databaseId,e)}function Nh(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v4(n){return q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b4(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function C4(n,e){return{documents:[hA(n,e.path)]}}function pA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=hA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return S4(Be.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:oo((u=l).field),direction:wme(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=uA(n,e.limit);var a,c;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function E4(n){let e=function y4(n){const e=_4(n);return 4===e.length?Ee.emptyPath():v4(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=I4(u);return d instanceof Be&&YT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new fl(wl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,yh(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new so((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new so(u.values||[],!u.before)}(t.endAt)),function Bz(n,e,t,r,i,s,o,a){return new ds(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function I4(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wl(e.unaryFilter.field);return _e.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wl(e.unaryFilter.field);return _e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wl(e.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wl(e.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(n):void 0!==n.fieldFilter?_e.create(wl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Be.create(e.compositeFilter.filters.map(t=>I4(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(n):H();var e}function wme(n){return hme[n]}function Cme(n){return fme[n]}function Eme(n){return pme[n]}function oo(n){return{fieldPath:n.canonicalString()}}function wl(n){return It.fromServerFormat(n.fieldPath)}function S4(n){return n instanceof _e?function(e){if("=="===e.op){if(Ez(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NAN"}};if(Cz(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ez(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NAN"}};if(Cz(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(e.field),op:Cme(e.op),value:e.value}}}(n):n instanceof Be?function(e){const t=e.getFilters().map(r=>S4(r));return 1===t.length?t[0]:{compositeFilter:{op:Eme(e.op),filters:t}}}(n):H()}function Ime(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ps{constructor(e,t,r,i,s=W.min(),o=W.min(),a=$t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T4{constructor(e){this.fe=e}}function gA(n){const e=E4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?w_(e,e.limit,"L"):e}class ba{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yt(e.integerValue));else if("doubleValue"in e){const r=yt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),vh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(us(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Iz(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):H()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),L.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ba.Ve=new ba;class Ome{constructor(){this.rn=new wA}addToCollectionParentIndex(e,t){return this.rn.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(dr.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class wA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new et(Ee.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Ee.comparator)).toArray()}}new Uint8Array(0);class Sn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ca(0)}static Mn(){return new Ca(-1)}}class Bme{constructor(){this.changes=new hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $me{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class J4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&xh(r.mutation,i,Jn.empty(),dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=Ai();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Th();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=er();const o=Ah(),a=Ah();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof fs)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),xh(u.mutation,l,u.mutation.getFieldMask(),dt.now())):o.set(l.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new $me(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ah();let i=new Qe((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Jn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||he()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=qz();u.forEach(h=>{if(!s.has(h)){const f=t4(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return L.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):C.resolve(Ai());let a=-1,c=s;return o.next(l=>C.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,he())).next(u=>({batchId:a,changes:Gz(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(r=>{let i=Th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Th();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const c=(l=t,u=a.child(i),new ds(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,tt.newInvalidDocument(l)))});let o=Th();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&xh(l.mutation,c,Jn.empty(),dt.now()),Dh(t,c)&&(o=o.insert(a,c))}),o})}}class Hme{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return C.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:St(r.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:gA(r.bundledQuery),readTime:St(r.readTime)}),C.resolve();var r}}class zme{constructor(){this.overlays=new Qe(L.comparator),this.ls=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ai();return C.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=Ai(),s=t.length+1,o=new L(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Qe((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Ai(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ai(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return C.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aA(t,r));let s=this.ls.get(t);void 0===s&&(s=he(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class CA{constructor(){this.fs=new et(Yt.ds),this.ws=new et(Yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Yt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new L(new Ee([])),r=new Yt(t,e),i=new Yt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new L(new Ee([])),r=new Yt(t,e),i=new Yt(t,e+1);let s=he();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Yt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return L.comparator(e.key,t.key)||ie(e.As,t.As)}static _s(e,t){return ie(e.As,t.As)||L.comparator(e.key,t.key)}}class Gme{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new et(Yt.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new sA(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new et(ie);return t.forEach(i=>{const s=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new Yt(new L(s),0);let a=new et(ie);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),C.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return C.forEach(t.mutations,i=>{const s=new Yt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Yt(t,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qme{constructor(e){this.Ds=e,this.docs=new Qe(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let r=er();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=er();const o=t.path,a=new L(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||HT(az(u),r)<=0||(i.has(u.key)||Dh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,t,r,i){H()}Cs(e,t){return C.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wme(this)}getSize(e){return C.resolve(this.size)}}class Wme extends Bme{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Kme{constructor(e){this.persistence=e,this.xs=new hs(t=>fa(t),Ih),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new CA,this.targetCount=0,this.Ms=Ca.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),C.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ca(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Fn(t),C.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.ks.containsKey(t))}}class EA{constructor(e,t){this.$s={},this.overlays={},this.Os=new hr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kme(this),this.indexManager=new Ome,this.remoteDocumentCache=new qme(r=>this.referenceDelegate.Ls(r)),this.serializer=new T4(t),this.qs=new Hme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zme,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Gme(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){k("MemoryPersistence","Starting transaction:",e);const i=new Qme(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Qme extends mge{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Qs=new CA,this.js=null}static zs(e){return new N_(e)}get Ws(){if(this.js)return this.js;throw H()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),C.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return C.or([()=>C.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class TA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=he(),i=he();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TA(e,t.fromCache,r,i)}}class t3{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Uz(t))return C.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=w_(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(t,a);return this.zi(t,l,o,c.readTime)?this.Ki(e,w_(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,r,i){return Uz(t)||i.isEqual(W.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(UT()<=Ce.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nA(t)),this.Wi(e,o,t,function oz(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new dt(t+1,0):new dt(t,r));return new dr(i,L.empty(),e)}(i,-1)))})}ji(e,t){let r=new et(Hz(e));return t.forEach((i,s)=>{Dh(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return UT()<=Ce.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",nA(t)),this.Ui.getDocumentsMatchingQuery(e,t,dr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Xme{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Qe(ie),this.Yi=new hs(s=>fa(s),Ih),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function r3(n,e){return AA.apply(this,arguments)}function AA(){return AA=m(function*(n,e){const t=V(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=he();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),AA.apply(this,arguments)}function i3(n){const e=V(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function e_e(n,e){const t=V(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sl(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=m(function*(n,e,t){const r=V(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Js(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),MA.apply(this,arguments)}function V_(n,e,t){const r=V(n);let i=W.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=V(a),d=u.Yi.get(l);return void 0!==d?C.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:W.min(),t?s:he())).next(a=>(function c3(n,e,t){let r=n.Xi.get(e)||W.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function $z(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class PA{constructor(){this.activeTargetIds=function rA(){return tme}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d3{constructor(){this.Hr=new PA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new PA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r_e{Yr(e){}shutdown(){}}class h3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let j_=null;function FA(){return null===j_?j_=268435456+Math.round(2147483648*Math.random()):j_++,"0x"+j_.toString(16)}const i_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s_e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dn="WebChannelConnection";class o_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=FA(),a=this.To(e,t);k("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(k("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Jr("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ll,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${i_e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=FA();return new Promise((o,a)=>{const c=new ige;c.setWithCredentials(!0),c.listenOnce(tge.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case BT.NO_ERROR:const u=c.getResponseJson();k(Dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case BT.TIMEOUT:k(Dn,`RPC '${e}' ${s} timed out`),a(new R(E.DEADLINE_EXCEEDED,"Request time out"));break;case BT.HTTP_ERROR:const d=c.getStatus();if(k(Dn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(_)>=0?_:E.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new R(E.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{k(Dn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);k(Dn,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=FA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jpe(),a=ege(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new rge({})),this.Eo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=s.join("");k(Dn,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let h=!1,f=!1;const p=new s_e({ro:_=>{f?k(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(k(Dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k(Dn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),g=(_,w,y)=>{_.listen(w,M=>{try{y(M)}catch(O){setTimeout(()=>{throw O},0)}})};return g(d,a_.EventType.OPEN,()=>{f||k(Dn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,a_.EventType.CLOSE,()=>{f||(f=!0,k(Dn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,a_.EventType.ERROR,_=>{f||(f=!0,Jr(Dn,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new R(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,a_.EventType.MESSAGE,_=>{var w;if(!f){const y=_.data[0];q(!!y);const O=y.error||(null===(w=y[0])||void 0===w?void 0:w.error);if(O){k(Dn,`RPC '${e}' stream ${i} received error:`,O);const z=O.status;let K=function(Ye){const Pt=kt[Ye];if(void 0!==Pt)return a4(Pt)}(z),ue=O.message;void 0===K&&(K=E.INTERNAL,ue="Unknown error status: "+z+" with message "+O.message),f=!0,p.wo(new R(K,ue)),d.close()}else k(Dn,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,nge.STAT_EVENT,_=>{_.stat===ez.PROXY?k(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===ez.NOPROXY&&k(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function $_(){return typeof document<"u"?document:null}function Gh(n){return new gme(n,!0)}class LA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class p3{constructor(e,t,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new LA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(Et(t.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new R(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a_e extends p3{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function yme(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:H(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(q(void 0===l||"string"==typeof l),$t.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),$t.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?E.UNKNOWN:a4(c.code);return new R(l,c.message||"")}(o);t=new h4(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mi(n,r.document.name),s=St(r.document.updateTime),o=r.document.createTime?St(r.document.createTime):W.min(),a=new fn({mapValue:{fields:r.document.fields}}),c=tt.newFoundDocument(i,s,o,a);t=new D_(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Mi(n,r.document),s=r.readTime?St(r.readTime):W.min(),o=tt.newNoDocument(i,s);t=new D_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mi(n,r.document);t=new D_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new lme(i,s);t=new d4(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?St(s.readTime):W.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Nh(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=y_(a)?{documents:C4(i,a)}:{query:pA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=m4(i,s.resumeToken);const c=uA(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(W.min())>0){o.readTime=bl(i,s.snapshotVersion.toTimestamp());const c=uA(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function bme(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Nh(this.serializer),t.removeTarget=e,this.Wo(t)}}class c_e extends p3{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vme(n,e){return n&&n.length>0?(q(void 0!==e),n.map(t=>function(r,i){let s=St(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=St(i)),new sme(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.cu(r,t)}return q(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Fh(n,e){let t;if(e instanceof yl)t={update:b4(n,e.key,e.value)};else if(e instanceof vl)t={delete:Ph(n,e.key)};else if(e instanceof fs)t={update:b4(n,e.key,e.data),updateMask:Ime(e.fieldMask)};else{if(!(e instanceof iA))return H();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ml)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ga)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ma)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _l)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:mme(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),t;var i}(this.serializer,r))};this.Wo(t)}}class l_e extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(E.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class d_e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Et(t),this.mu=!1):k("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class h_e{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;uo(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=V(l);u.vu.add(4),yield Dl(u),u.bu.set("Unknown"),u.vu.delete(4),yield qh(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new d_e(r,i)}}function qh(n){return BA.apply(this,arguments)}function BA(){return BA=m(function*(n){if(uo(n))for(const e of n.Ru)yield e(!0)}),BA.apply(this,arguments)}function Dl(n){return UA.apply(this,arguments)}function UA(){return UA=m(function*(n){for(const e of n.Ru)yield e(!1)}),UA.apply(this,arguments)}function H_(n,e){const t=V(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),HA(t)?$A(t):Al(t).Ko()&&jA(t,e))}function Wh(n,e){const t=V(n),r=Al(t);t.Au.delete(e),r.Ko()&&g3(t,e),0===t.Au.size&&(r.Ko()?r.jo():uo(t)&&t.bu.set("Unknown"))}function jA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(n).su(e)}function g3(n,e){n.Vu.qt(e),Al(n).iu(e)}function $A(n){n.Vu=new dme({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Al(n).start(),n.bu.gu()}function HA(n){return uo(n)&&!Al(n).Uo()&&n.Au.size>0}function uo(n){return 0===V(n).vu.size}function m3(n){n.Vu=void 0}function f_e(n){return zA.apply(this,arguments)}function zA(){return zA=m(function*(n){n.Au.forEach((e,t)=>{jA(n,e)})}),zA.apply(this,arguments)}function p_e(n,e){return GA.apply(this,arguments)}function GA(){return GA=m(function*(n,e){m3(n),HA(n)?(n.bu.Iu(e),$A(n)):n.bu.set("Unknown")}),GA.apply(this,arguments)}function g_e(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof h4&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield z_(n,r)}else if(e instanceof D_?n.Vu.Ht(e):e instanceof d4?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(W.min()))try{const r=yield i3(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken($t.EMPTY_BYTE_STRING,l.snapshotVersion)),g3(i,a);const u=new ps(l.target,a,c,l.sequenceNumber);jA(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield z_(n,r)}var r}),qA.apply(this,arguments)}function z_(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=m(function*(n,e,t){if(!Js(e))throw e;n.vu.add(1),yield Dl(n),n.bu.set("Offline"),t||(t=()=>i3(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){k("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield qh(n)}))}),WA.apply(this,arguments)}function _3(n,e){return e().catch(t=>z_(n,t,e))}function Tl(n){return KA.apply(this,arguments)}function KA(){return KA=m(function*(n){const e=V(n),t=ho(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;m_e(e);)try{const i=yield e_e(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,__e(e,i)}catch(i){yield z_(e,i)}y3(e)&&v3(e)}),KA.apply(this,arguments)}function m_e(n){return uo(n)&&n.Eu.length<10}function __e(n,e){n.Eu.push(e);const t=ho(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function y3(n){return uo(n)&&!ho(n).Uo()&&n.Eu.length>0}function v3(n){ho(n).start()}function y_e(n){return QA.apply(this,arguments)}function QA(){return QA=m(function*(n){ho(n).hu()}),QA.apply(this,arguments)}function v_e(n){return YA.apply(this,arguments)}function YA(){return YA=m(function*(n){const e=ho(n);for(const t of n.Eu)e.uu(t.mutations)}),YA.apply(this,arguments)}function b_e(n,e,t){return XA.apply(this,arguments)}function XA(){return XA=m(function*(n,e,t){const r=n.Eu.shift(),i=oA.from(r,e,t);yield _3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Tl(n)}),XA.apply(this,arguments)}function w_e(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=m(function*(n,e){var t;e&&ho(n).ou&&(yield(t=m(function*(r,i){if(function o4(n){switch(n){default:return H();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();ho(r).Qo(),yield _3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Tl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),y3(n)&&v3(n)}),ZA.apply(this,arguments)}function b3(n,e){return JA.apply(this,arguments)}function JA(){return JA=m(function*(n,e){const t=V(n);t.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=uo(t);t.vu.add(3),yield Dl(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield qh(t)}),JA.apply(this,arguments)}function tM(){return tM=m(function*(n,e){const t=V(n);e?(t.vu.delete(2),yield qh(t)):e||(t.vu.add(2),yield Dl(t),t.bu.set("Unknown"))}),tM.apply(this,arguments)}function Al(n){return n.Su||(n.Su=function(e,t,r){const i=V(e);return i.fu(),new a_e(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:f_e.bind(null,n),ao:p_e.bind(null,n),nu:g_e.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),HA(n)?$A(n):n.bu.set("Unknown")):(yield n.Su.stop(),m3(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ho(n){return n.Du||(n.Du=function(e,t,r){const i=V(e);return i.fu(),new c_e(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:y_e.bind(null,n),ao:w_e.bind(null,n),au:v_e.bind(null,n),cu:b_e.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield Tl(n)):(yield n.Du.stop(),n.Eu.length>0&&(k("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class nM{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new nM(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ml(n,e){if(Et("AsyncQueue",`${e}: ${n}`),Js(n))return new R(E.UNAVAILABLE,`${e}: ${n}`);throw n}class xl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||L.comparator(t.key,r.key):(t,r)=>L.comparator(t.key,r.key),this.keyedMap=Th(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new xl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class w3{constructor(){this.Cu=new Qe(L.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):H():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rl{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Rl(e,t,xl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class C_e{constructor(){this.Nu=void 0,this.listeners=[]}}class E_e{constructor(){this.queries=new hs(e=>jz(e),Sh),this.onlineState="Unknown",this.ku=new Set}}function iM(){return iM=m(function*(n,e){const t=V(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new C_e),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Ml(o,`Initialization of query '${nA(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&aM(t)}),iM.apply(this,arguments)}function oM(){return oM=m(function*(n,e){const t=V(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),oM.apply(this,arguments)}function I_e(n,e){const t=V(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&aM(t)}function S_e(n,e,t){const r=V(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function aM(n){n.ku.forEach(e=>{e.next()})}class cM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class I3{constructor(e){this.key=e}}class S3{constructor(e){this.key=e}}class D3{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=Hz(e),this.ec=new xl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new w3,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Dh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new Rl(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new w3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new S3(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new I3(r))}),t}hc(e){this.Yu=e.ir,this.Zu=he();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Rl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class A_e{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class M_e{constructor(e){this.key=e,this.fc=!1}}class x_e{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hs(a=>jz(a),Sh),this._c=new Map,this.mc=new Set,this.gc=new Qe(L.comparator),this.yc=new Map,this.Ic=new CA,this.Tc={},this.Ec=new Map,this.Ac=Ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function R_e(n,e){return lM.apply(this,arguments)}function lM(){return lM=m(function*(n,e){const t=function kM(n){const e=V(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P_e.bind(null,e),e.dc.nu=I_e.bind(null,e.eventManager),e.dc.Pc=S_e.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Il(n,e){const t=V(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Un(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function uM(n,e,t,r,i){return dM.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&H_(t.remoteStore,o)}return i}),lM.apply(this,arguments)}function dM(){return dM=m(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=m(function*(g,_,w,y){let M=_.view.sc(w);M.zi&&(M=yield V_(g.localStore,_.query,!1).then(({documents:K})=>_.view.sc(K,M)));const O=y&&y.targetChanges.get(_.targetId),z=_.view.applyChanges(M,g.isPrimaryClient,O);return wM(g,_.targetId,z.cc),z.snapshot}),function(g,_,w,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield V_(n.localStore,e,!0),o=new D3(e,s.ir),a=o.sc(s.documents),c=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);wM(n,t,l.cc);const u=new A_e(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),dM.apply(this,arguments)}function k_e(n,e){return hM.apply(this,arguments)}function hM(){return hM=m(function*(n,e){const t=V(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Sh(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Wh(t.remoteStore,r.targetId),kl(t,r.targetId)}).catch(Zs))):(kl(t,r.targetId),yield Sl(t.localStore,r.targetId,!0))}),hM.apply(this,arguments)}function fM(){return fM=m(function*(n,e,t){const r=function OM(n){const e=V(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F_e.bind(null,e),e}(n);try{const i=yield function(s,o){const a=V(s),c=dt.now(),l=o.reduce((h,f)=>h.add(f.key),he());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=er(),p=he();return a.Zi.getEntries(h,l).next(g=>{f=g,f.forEach((_,w)=>{w.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const w of o){const y=ame(w,u.get(w.key).overlayedDocument);null!=y&&_.push(new fs(w.key,y,Tz(y.value.mapValue),st.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:Gz(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Qe(ie)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,t),yield gs(r,i.changes),yield Tl(r.remoteStore)}catch(i){const s=Ml(i,"Failed to persist write");t.reject(s)}}),fM.apply(this,arguments)}function T3(n,e){return pM.apply(this,arguments)}function pM(){return pM=m(function*(n,e){const t=V(n);try{const r=yield function Jme(n,e){const t=V(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken($t.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let c=er(),l=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function s3(n,e,t){let r=he(),i=he();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=er();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(W.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(W.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?q(o.fc):i.removedDocuments.size>0&&(q(o.fc),o.fc=!1))}),yield gs(t,r,e)}catch(r){yield Zs(r)}}),pM.apply(this,arguments)}function A3(n,e,t){const r=V(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=V(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(o)&&(c=!0)}),c&&aM(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function P_e(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=m(function*(n,e,t){const r=V(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Qe(L.comparator);o=o.insert(s,tt.newNoDocument(s,W.min()));const a=he().add(s),c=new kh(W.min(),new Map,new Qe(ie),o,a);yield T3(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),CM(r)}else yield Sl(r.localStore,e,!1).then(()=>kl(r,e,t)).catch(Zs)}),gM.apply(this,arguments)}function N_e(n,e){return mM.apply(this,arguments)}function mM(){return mM=m(function*(n,e){const t=V(n),r=e.batch.batchId;try{const i=yield function Zme(n,e){const t=V(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,d=u.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);q(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);bM(t,r,null),vM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield gs(t,i)}catch(i){yield Zs(i)}}),mM.apply(this,arguments)}function F_e(n,e,t){return _M.apply(this,arguments)}function _M(){return _M=m(function*(n,e,t){const r=V(n);try{const i=yield function(s,o){const a=V(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(q(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);bM(r,e,t),vM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield gs(r,i)}catch(i){yield Zs(i)}}),_M.apply(this,arguments)}function vM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function bM(n,e,t){const r=V(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function kl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||M3(n,r)})}function M3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Wh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),CM(n))}function wM(n,e,t){for(const r of t)r instanceof I3?(n.Ic.addReference(r.key,e),V_e(n,r)):r instanceof S3?(k("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||M3(n,r.key)):H()}function V_e(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(k("SyncEngine","New document in limbo: "+t),n.mc.add(r),CM(n))}function CM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new L(Ee.fromString(e)),r=n.Ac.next();n.yc.set(r,new M_e(t)),n.gc=n.gc.insert(t,r),H_(n.remoteStore,new ps(Un(gl(t.path)),r,"TargetPurposeLimboResolution",hr.ct))}}function gs(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=m(function*(n,e,t){const r=V(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=TA.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(c,l){const u=V(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(l,h=>C.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Js(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),EM.apply(this,arguments)}function B_e(n,e){return IM.apply(this,arguments)}function IM(){return IM=m(function*(n,e){const t=V(n);if(!t.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=yield r3(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new R(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gs(t,r.er)}var i}),IM.apply(this,arguments)}function U_e(n,e){const t=V(n),r=t.yc.get(e);if(r&&r.fc)return he().add(r.key);{let i=he();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class G_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=Gh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function n3(n,e,t,r){return new Xme(n,e,t,r)}(this.persistence,new t3,e.initialUser,this.serializer)}createPersistence(e){return new EA(N_.zs,this.serializer)}createSharedClientState(e){return new d3}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ol{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=B_e.bind(null,r.syncEngine),yield function eM(n,e){return tM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new E_e}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),r=new o_e(e.databaseInfo);return new l_e(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>A3(this.syncEngine,a,0),o=h3.D()?new h3:new r_e,new h_e(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,l){const u=new x_e(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=V(t);k("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Dl(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Et("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class J_e{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=iz.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ml(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function W_(n,e){return PM.apply(this,arguments)}function PM(){return PM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield r3(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),PM.apply(this,arguments)}function NM(n,e){return FM.apply(this,arguments)}function FM(){return FM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function LM(n){return VM.apply(this,arguments)}(n);k("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>b3(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>b3(e.remoteStore,s)),n._onlineComponents=e}),FM.apply(this,arguments)}function VM(){return VM=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield W_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function N3(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Jr("Error using user provided cache. Falling back to memory cache: "+t),yield W_(n,new G_)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield W_(n,new G_);return n._offlineComponents}),VM.apply(this,arguments)}function K_(n){return BM.apply(this,arguments)}function BM(){return BM=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield NM(n,n._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield NM(n,new Ol))),n._onlineComponents}),BM.apply(this,arguments)}function jM(){return jM=m(function*(n){const e=yield K_(n),t=e.eventManager;return t.onListen=R_e.bind(null,e.syncEngine),t.onUnlisten=k_e.bind(null,e.syncEngine),t}),jM.apply(this,arguments)}function U3(n,e,t={}){const r=new jt;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,c){const l=new q_({next:d=>{s.enqueueAndForget(()=>function sM(n,e){return oM.apply(this,arguments)}(i,u)),d.fromCache&&"server"===a.source?c.reject(new R(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new cM(o,l,{includeMetadataChanges:!0,Ku:!0});return function rM(n,e){return iM.apply(this,arguments)}(i,u)}(yield function Pl(n){return jM.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function j3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const $3=new Map;function $M(n,e,t){if(!t)throw new R(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H3(n){if(!L.isDocumentKey(n))throw new R(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function z3(n){if(L.isDocumentKey(n))throw new R(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":H()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new R(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y_(n);throw new R(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class q3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new R(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function cye(n,e,t,r){if(!0===e&&!0===r)throw new R(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=j3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oge;switch(t.type){case"firstParty":return new uge(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new R(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$3.get(e);t&&(k("ComponentProvider","Removing Datastore"),$3.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class pn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pn(this.firestore,e,this._query)}}class xi extends pn{constructor(e,t,r){super(e,t,gl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new L(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function uye(n,e,...t){if(n=it(n),$M("collection","path",e),n instanceof Kh){const r=Ee.fromString(e,...t);return z3(r),new xi(n,null,r)}{if(!(n instanceof Dt||n instanceof xi))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return z3(r),new xi(n.firestore,null,r)}}function W3(n,e,...t){if(n=it(n),1===arguments.length&&(e=iz.A()),$M("doc","path",e),n instanceof Kh){const r=Ee.fromString(e,...t);return H3(r),new Dt(n,null,new L(r))}{if(!(n instanceof Dt||n instanceof xi))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return H3(r),new Dt(n.firestore,n instanceof xi?n.converter:null,new L(r))}}class dye{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new LA(this,"async_queue_retry"),this.Xc=()=>{const t=$_();t&&k("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=$_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new jt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Js(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Et("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=nM.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class nt extends Kh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dye,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q3(this),this._firestoreClient.terminate()}}function fye(n,e){const r="string"==typeof n?n:e||"(default)",i=yi("object"==typeof n?n:zc(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=VB("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function lye(n,e,t,r={}){var i;const s=(n=ve(n,Kh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Kt.MOCK_USER;else{a=function Cse(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qg(JSON.stringify({alg:"none",type:"JWT"})),Qg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new R(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kt(l)}n._authCredentials=new age(new nz(a,c))}}(i,...s)}return i}function Ot(n){return n._firestoreClient||Q3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Q3(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Uge(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,j3(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new J_e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia($t.fromBase64String(e))}catch(t){throw new R(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ia($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new R(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zM{constructor(e){this._methodName=e}}class GM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new R(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const gye=/^__.*__$/;class mye{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class Z3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function J3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class X_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return J_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(J3(this.ca)&&gye.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _ye{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gh(e)}ya(e,t,r,i=!1){return new X_({ca:e,methodName:t,ga:r,path:It.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new _ye(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qM(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);KM("Data must be an object, but it was:",o,r);const a=iG(r,o);let c,l;if(s.merge)c=new Jn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Xh(e,d,t);if(!o.contains(h))throw new R(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oG(u,h)||u.push(h)}c=new Jn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new mye(new fn(a),c,l)}class Yh extends zM{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function Sa(n,e){if(sG(n=it(n)))return KM("Unsupported field value:",e,n),iG(n,e);if(n instanceof zM)return function(t,r){if(!J3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Sa(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=it(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qz(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dt.fromDate(t);return{timestampValue:bl(r.serializer,i)}}if(t instanceof dt){const i=new dt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bl(r.serializer,i)}}if(t instanceof GM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ia)return{bytesValue:m4(r.serializer,t._byteString)};if(t instanceof Dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Y_(t)}`)}(n,e)}function iG(n,e){const t={};return yz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,i)=>{const s=Sa(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function sG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof GM||n instanceof Ia||n instanceof Dt||n instanceof zM)}function KM(n,e,t){if(!sG(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Y_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Xh(n,e,t){if((e=it(e))instanceof Nl)return e._internalPath;if("string"==typeof e)return Z_(n,e);throw J_("Field path arguments must be of type string or ",n,!1,void 0,t)}const wye=new RegExp("[~\\*/\\[\\]]");function Z_(n,e,t){if(e.search(wye)>=0)throw J_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nl(...e.split("."))._internalPath}catch{throw J_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function J_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new R(E.INVALID_ARGUMENT,a+n+c)}function oG(n,e){return n.some(t=>t.isEqual(e))}class QM{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cye extends QM{data(){return super.data()}}function ey(n,e){return"string"==typeof e?Z_(n,e):e instanceof Nl?e._internalPath:e._delegate._internalPath}class YM{}class Eye extends YM{}function Iye(n,e,...t){let r=[];e instanceof YM&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof Ll).length,o=i.filter(a=>a instanceof Zh).length;if(s>1||s>0&&o>0)throw new R(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Zh extends Eye{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Zh(e,t,r)}_apply(e){const t=this._parse(e);return dG(e._query,t),new pn(e.firestore,e.converter,tA(e._query,t))}_parse(e){const t=Fl(e.firestore);return function(i,s,o,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new R(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){uG(u,l);const h=[];for(const f of u)h.push(lG(a,i,f));d={arrayValue:{values:h}}}else d=lG(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||uG(u,l),d=function rG(n,e,t,r=!1){return Sa(t,n.ya(r?4:3,e))}(o,"where",u,"in"===l||"not-in"===l);return _e.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sye(n,e,t){const r=e,i=ey("where",n);return Zh._create(i,r,t)}class Ll extends YM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ll(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Be.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)dG(s,a),s=tA(s,a)}(e._query,t),new pn(e.firestore,e.converter,tA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function lG(n,e,t){if("string"==typeof(t=it(t))){if(""===t)throw new R(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&-1!==t.indexOf("/"))throw new R(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ee.fromString(t));if(!L.isDocumentKey(r))throw new R(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ha(n,new L(r))}if(t instanceof Dt)return ha(n,t._key);throw new R(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y_(t)}.`)}function uG(n,e){if(!Array.isArray(n)||0===n.length)throw new R(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dG(n,e){if(e.isInequality()){const r=b_(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new R(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=JT(n);null!==s&&function hG(n,e,t){if(!t.isEqual(e))throw new R(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new R(E.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Dye{convertValue(e,t="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw H()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new GM(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=p_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const t=to(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ee.fromString(e);q(D4(r));const i=new da(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(t)||Et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Da{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends QM{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iy extends Vl{data(e={}){return super.data(e)}}class Bl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Da(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iy(this._firestore,this._userDataWriter,r.key,r,new Da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new iy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Da(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new iy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Da(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:Aye(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Aye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class fo extends Dye{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Mye(n){n=ve(n,pn);const e=ve(n.firestore,nt),t=Ot(e),r=new fo(e);return function aG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new R(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),U3(t,n._query).then(i=>new Bl(e,r,n,i))}function xye(n,e,t){n=ve(n,Dt);const r=ve(n.firestore,nt),i=function ZM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Jh(r,[qM(Fl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,st.none())])}function Rye(n,e,t,...r){n=ve(n,Dt);const i=ve(n.firestore,nt),s=Fl(i);let o;return o="string"==typeof(e=it(e))||e instanceof Nl?function nG(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Xh(e,r,t)],c=[i];if(s.length%2!=0)throw new R(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Xh(e,s[h])),c.push(s[h+1]);const l=[],u=fn.empty();for(let h=a.length-1;h>=0;--h)if(!oG(l,a[h])){const f=a[h];let p=c[h];p=it(p);const g=o.da(f);if(p instanceof Yh)l.push(f);else{const _=Sa(p,g);null!=_&&(l.push(f),u.set(f,_))}}const d=new Jn(l);return new Z3(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function tG(n,e,t,r){const i=n.ya(1,e,t);KM("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();eo(r,(c,l)=>{const u=Z_(e,c,t);l=it(l);const d=i.da(u);if(l instanceof Yh)s.push(u);else{const h=Sa(l,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Jn(s);return new Z3(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Jh(i,[o.toMutation(n._key,st.exists(!0))])}function Jh(n,e){return function(t,r){const i=new jt;return t.asyncQueue.enqueueAndForget(m(function*(){return function O_e(n,e,t){return fM.apply(this,arguments)}(yield function UM(n){return K_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ot(n),e)}!function(n,e=!0){ll=Qo,wn(new an("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new nt(new cge(t.getProvider("auth-internal")),new dge(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Le(tz,"3.13.0",n),Le(tz,"3.13.0","esm2017")}();class ef{constructor(e){return e}}const gG="firestore",ex=new N("angularfire2.firestore-instances");function Gye(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ef(r)}}const qye={provide:class Hye{constructor(){return Kc(gG)}},deps:[[new wt,ex]]},Wye={provide:ef,useFactory:function zye(n,e){const t=Wc(gG,n,e);return t&&new ef(t)},deps:[[new wt,ex],rs]};let Kye=(()=>{class n{constructor(){Le("angularfire",ns.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[Wye,qye]}),n})();function Qye(n,...e){return{ngModule:Kye,providers:[{provide:ex,useFactory:Gye(n),multi:!0,deps:[re,Ze,Yc,Xc,[new wt,F$],[new wt,G0],...e]}]}}const oy=xt(uye,!0),tf=xt(W3,!0),Yye=xt(Mye,!0),Xye=xt(fye,!0),Zye=xt(Iye,!0),ay=xt(xye,!0),Jye=xt(Rye,!0),eve=xt(Sye,!0);let mG=(()=>{class n{constructor(){this.firestore=$(ef)}sendContactMessage(t){var r=this;return m(function*(){try{yield ay(tf(oy(r.firestore,"contactUs")),t)}catch(i){throw console.log(`Error Creating ContactUs Entry ${i}`),i}})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tve(n,e){if(1&n){const t=Ms();v(0,"div",1),S(1),v(2,"button",2),Ne("click",function(){return Er(t),Ir(Ar().close())}),b()()}if(2&n){const t=Ar();ct(1),ku(" ",t.message," ")}}let nf=(()=>{class n{constructor(){this.message="",this.show=!1}close(){this.show=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-alert-warning"]],inputs:{message:"message",show:"show"},decls:1,vars:1,consts:[["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,i){1&r&&Ec(0,tve,3,1,"div",0),2&r&&lt("ngIf",i.show)},dependencies:[ag],styles:["div.alert[_ngcontent-%COMP%]{display:block;z-index:1;right:0}"]})}return n})();function nve(n,e){if(1&n){const t=Ms();v(0,"div",1),S(1),v(2,"button",2),Ne("click",function(){return Er(t),Ir(Ar().close())}),b()()}if(2&n){const t=Ar();ct(1),ku(" ",t.message," ")}}let _G=(()=>{class n{constructor(){this.message="",this.show=!1}close(){this.show=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-alert-success"]],inputs:{message:"message",show:"show"},decls:1,vars:1,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,i){1&r&&Ec(0,nve,3,1,"div",0),2&r&&lt("ngIf",i.show)},dependencies:[ag],styles:["div.alert[_ngcontent-%COMP%]{display:block;z-index:1;right:0}"]})}return n})(),rve=(()=>{class n{constructor(t,r){this.contactService=t,this.formBuilder=r,this.alertMessage="",this.showSuccess=!1,this.showWarning=!1,this.name=new lr("",[kr.required]),this.email=new lr("",[kr.required,kr.email,kr.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}")]),this.subject=new lr("",kr.required),this.message=new lr("",kr.required),this.contactForm=r.group({name:this.name,email:this.email,subject:this.subject,message:this.message})}ngOnDestroy(){this.name=null,this.email=null,this.subject=null,this.message=null}sendMessage(t){var r=this;return m(function*(){if(r.contactForm.invalid)new Map([["name",r.name],["email",r.email],["subject",r.subject],["message",r.message]]).forEach((s,o,a)=>{if(s?.invalid)return r.alertMessage=`Please enter a valid ${o}`,r.showWarning=!0,void setTimeout(()=>r.showWarning=!1,2e3)});else try{yield r.contactService.sendContactMessage({name:t.name,email:t.email,subject:t.subject,message:t.message}),r.contactForm.reset(),r.alertMessage="Successfully Submitted!",r.showSuccess=!0,setTimeout(()=>r.showSuccess=!1,4e3)}catch(i){console.log(`Send Message Error = ${i}`),r.alertMessage="Error Submitting! Please try again later.",r.showWarning=!0,setTimeout(()=>r.showWarning=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(T(mG),T(NB))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-contact-landing"]],decls:52,vars:5,consts:[[1,"container-fluid",2,"margin-top","8rem"],[1,"row","d-flex","contact-area","mt-2","ms-1",2,"padding-top","4rem"],[1,"col-md"],[1,"mb-3"],[1,"mb-5"],[1,"contact-list"],[1,"row","mb-4",2,"display","flex"],[2,"flex","1"],[1,"fas","fa-location-dot","text-center","list-icon"],[2,"flex","10"],[1,"fas","fa-envelope","list-icon"],[1,"fas","fa-phone","list-icon"],[1,"text-center","row","mb-3","form-container",3,"formGroup","ngSubmit"],[3,"message","show"],[1,"row",2,"margin","0"],[1,"formGroup","mb-3","col-md",2,"padding","0","margin","0"],["type","text","onkeydown","return /[a-z ]/i.test(event.key)","placeholder","Name:","required","","formControlName","name",1,"formControl",2,"width","100%"],["name",""],[1,"formGroup","mb-3","col-md","email-input"],["type","email","placeholder","Email:","required","","formControlName","email",1,"formControl",2,"width","100%"],["email",""],[1,"formGroup","mb-3"],["type","text","placeholder","Subject:","required","","formControlName","subject",1,"formControl",2,"width","100%"],["subject",""],["placeholder","Message:","rows","5","required","","formControlName","message",1,"formControl",2,"width","100%"],["message",""],[1,"formGroup"],["type","submit","value","SEND MESSAGE",1,"btn","btnPrimary","btn-lg","text-white","mb-2"]],template:function(r,i){1&r&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),S(4,"CONTACT"),b(),v(5,"h1",4),S(6,"Get in touch"),b(),v(7,"div",5)(8,"div",6)(9,"div",7),j(10,"i",8),b(),v(11,"div",9)(12,"h5"),S(13,"LOCATION"),b(),v(14,"p"),S(15,"Rustenburg, North West, South Africa, 0300"),b()()(),v(16,"div",6)(17,"div",7),j(18,"i",10),b(),v(19,"div",9)(20,"h5"),S(21,"EMAIL"),b(),v(22,"p"),S(23,"info@try-on.co.za"),b()()(),v(24,"div",6)(25,"div",7),j(26,"i",11),b(),v(27,"div",9)(28,"h5"),S(29,"CELL"),b(),v(30,"p"),S(31,"+27 63 410 5509"),b()()()()(),v(32,"div",2)(33,"form",12),Ne("ngSubmit",function(){return i.sendMessage(i.contactForm.value)}),j(34,"app-alert-success",13)(35,"app-alert-warning",13),v(36,"div",14)(37,"div",15),j(38,"input",16,17),b(),v(40,"div",18),j(41,"input",19,20),b()(),v(43,"div",21),j(44,"input",22,23),b(),v(46,"div",21),j(47,"textarea",24,25),S(49,", "),b(),v(50,"div",26),j(51,"input",27),b()()()()()),2&r&&(ct(33),lt("formGroup",i.contactForm),ct(1),lt("message",i.alertMessage)("show",i.showSuccess),ct(1),lt("message",i.alertMessage)("show",i.showWarning))},dependencies:[nf,_G,rE,md,qC,WC,Id,Ed,Kg],styles:[".contact-area[_ngcontent-%COMP%]{min-height:100%;background-color:#f4f4f4;width:100%}h5[_ngcontent-%COMP%]{color:#190101;font-family:Quicksand,sans-serif}div.col-md[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{color:#cf0a2c}h1[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,sans-serif;font-size:80px;font-weight:500}p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.1em}.list-icon[_ngcontent-%COMP%]{color:#fff;font-size:32px;width:56px;height:56px;padding:.8rem;border-radius:100%;background-color:#cf0a2c}.formControl[_ngcontent-%COMP%]{border-radius:2px;border-style:solid;border-width:1px;border-color:#cf0a2c;background-color:#fff;padding:1rem}input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;font-size:16px;font-weight:700;padding-right:1em;padding-left:1em}@media only screen and (min-width: 0px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}.email-input[_ngcontent-%COMP%]{margin:0;padding:0}.form-container[_ngcontent-%COMP%]{margin-top:1rem}}@media only screen and (min-width: 375px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}}@media only screen and (min-width: 576px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:4rem 3rem 0}}@media only screen and (min-width: 768px){.email-input[_ngcontent-%COMP%]{padding:0 0 0 12px}.form-container[_ngcontent-%COMP%]{margin-top:9rem}}"]})}return n})(),ive=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-welcome"]],decls:19,vars:3,consts:[[1,"container-fluid"],[1,"fixed-top"],[1,"p-5","hero-background","bg-image",2,"height","100vh"],[1,"mask",2,"background-color","rgba(255, 255, 255, 0.0)"],[1,"d-flex","justify-content-start","align-items-end","h-100"],[1,"landing-title","landing-text","mb-3"],[1,"landing-subtitle","landing-text","mb-3"],["routerLink","/about-us","role","button",1,"btn","btn-primary","btn-lg"],[3,"showNav","topPadding"],[3,"showNav"]],template:function(r,i){1&r&&(v(0,"div",0),j(1,"app-header",1),v(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"h1",5),S(8,"SIMPLIFYING ONLINE"),j(9,"br"),S(10,"SHOPPING!"),b(),v(11,"h4",6),S(12,"Welcome to the Future of Online Shopping with Try-On"),b(),v(13,"a",7),S(14,"LEARN MORE"),b()()()()()(),j(15,"app-about-us",8)(16,"app-features",9)(17,"app-shop-landing")(18,"app-contact-landing"),b()),2&r&&(ct(15),lt("showNav",!1)("topPadding",!1),ct(1),lt("showNav",!1))},dependencies:[Vs,_i,AV,MV,mie,rve],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0}.container-fluid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#E5E8EF,#F3F4F6)}@media only screen and (min-width: 0px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:cover;background-position:center;height:100vh}}@media only screen and (min-width: 1000px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:100% 100%;-moz-background-size:100% 100%;-webkit-background-size:100% 100%;background-position:center center;background-origin:padding-box;height:100vh}}@media only screen and (min-width: 1400px){.hero-background[_ngcontent-%COMP%]{background-image:url(/live/assets/images/landing-one.jpg);background-size:contain;background-repeat:no-repeat;background-position:center;background-origin:padding-box;height:100vh}}.landing-text[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,serif}@media only screen and (min-width: 0px){.landing-title[_ngcontent-%COMP%]{font-size:32px;font-weight:300}.landing-subtitle[_ngcontent-%COMP%]{font-size:16px}div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:1.5rem;margin-bottom:2rem}}@media only screen and (min-width: 320px){.landing-title[_ngcontent-%COMP%]{font-size:40px;font-weight:300}.landing-subtitle[_ngcontent-%COMP%]{font-size:16px}div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:2rem;margin-bottom:2rem}a.btn[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (min-width: 700px){a.btn[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem}}@media only screen and (min-width: 1000px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3rem;margin-bottom:6rem}}@media only screen and (min-width: 1242px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:6rem;margin-bottom:6rem}}@media only screen and (min-width: 1336px){div.d-flex[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8rem;margin-bottom:7.5rem}}.landing-subtitle[_ngcontent-%COMP%]{font-weight:400}a.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}"]})}return n})(),sve=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-coming-soon"]],decls:2,vars:0,template:function(r,i){1&r&&(v(0,"p"),S(1,"coming-soon works!"),b())}})}return n})(),ove=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-shop"]],decls:53,vars:0,consts:[[1,"fixed-top"],[1,"container","mb-5"],[1,"text-center","pb-5"],[1,"row"],[1,"col-md-3"],["src","/live/assets/images/reebok-x-cardi-b-body-suit-models.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],[1,"text-center"],[1,"btn"],["src","/live/assets/images/satin-tracksuit-top.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/saint-laurent-sneakers.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"],["src","/live/assets/images/reebok-x-cardi-b-jacket.jpg","alt","reebok x cardi b body suit",1,"pb-2","img-fluid"]],template:function(r,i){1&r&&(j(0,"app-header",0),v(1,"div",1)(2,"h1",2),S(3,"Shop Collection"),b(),v(4,"div",3)(5,"div",4),j(6,"img",5),v(7,"div",6)(8,"h6"),S(9,"REEBOK X CARDI B BODY SUIT"),b(),v(10,"p"),S(11,"Reebok"),b(),v(12,"p")(13,"b"),S(14,"R599"),b()(),v(15,"button",7),S(16,"SHOP"),b()()(),v(17,"div",4),j(18,"img",8),v(19,"div",6)(20,"h6"),S(21,"TRUWORTHS ST TRACKSUIT TOP"),b(),v(22,"p"),S(23,"Truworths"),b(),v(24,"p")(25,"b"),S(26,"R899"),b()(),v(27,"button",7),S(28,"SHOP"),b()()(),v(29,"div",4),j(30,"img",9),v(31,"div",6)(32,"h6"),S(33,"SAINT LAURENT SNEAKERS"),b(),v(34,"p"),S(35,"Saint Laurent"),b(),v(36,"p")(37,"b"),S(38,"R2 599"),b()(),v(39,"button",7),S(40,"SHOP"),b()()(),v(41,"div",4),j(42,"img",10),v(43,"div",6)(44,"h6"),S(45,"REEBOK X CARDI B ST JACKET"),b(),v(46,"p"),S(47,"Reebok"),b(),v(48,"p")(49,"b"),S(50,"R899"),b()(),v(51,"button",7),S(52,"SHOP"),b()()()()())},dependencies:[Vs],styles:["h1[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-family:Montserrat,serif;color:#190101}h1[_ngcontent-%COMP%]{font-size:48px}p[_ngcontent-%COMP%]{font-family:Garet,serif;color:#190101;margin:0}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:1rem;font-family:Montserrat,serif;font-weight:600;color:#fff;background-color:#cf0a2c}div.col-md-3.d-flex.flex-column[_ngcontent-%COMP%]{align-items:center;position:relative}.tryon-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:36px}@media only screen and (min-width: 0px){h1[_ngcontent-%COMP%]{padding-top:5rem;font-size:32px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2rem}.tryon-icon[_ngcontent-%COMP%]{width:64px}}@media only screen and (min-width: 414px){h1[_ngcontent-%COMP%]{padding-top:8rem;font-size:40px}}@media only screen and (min-width: 768px){h1[_ngcontent-%COMP%]{padding-top:10rem;font-size:48px}div.col-md-3[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:0}.tryon-icon[_ngcontent-%COMP%]{width:36px}}"]})}return n})(),tx=(()=>{class n{constructor(t){this.router=t,this.auth=$(qd),this.firestore=$(ef),this.authState$=L$(this.auth),this.authStateSubscription=this.authState$.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}logIn(t,r){var i=this;return m(function*(){try{const s=yield Zfe(i.auth,t,r);yield i.updateUserData(s.user),i.authState$.subscribe(o=>{o&&(console.log("About to navigate"),i.router.navigate([""]))})}catch(s){throw console.log(s),s}})()}signUp(t,r,i){var s=this;return m(function*(){try{const o=yield V$(s.auth,r,i);yield s.sendVerificationEmail(),yield s.createUserData(o.user,t)}catch(o){throw console.log(o),o}})()}clientSignUp(t,r,i,s){var o=this;return m(function*(){try{const a=yield V$(o.auth,r,s);yield o.sendVerificationEmail(),yield o.createUserData(a.user),yield o.createClientData(a.user,t,i)}catch(a){throw console.log(a),a}})()}sendVerificationEmail(){var t=this;return m(function*(){if(t.auth.currentUser)try{yield Yfe(t.auth.currentUser),console.log("Navigate to email verification"),yield t.router.navigate([""])}catch(r){throw console.log(r),r}})()}forgotPassword(t){Xfe(this.auth,t).then(()=>{window.alert("Password reset email sent, check your inbox")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}updateUserData(t){var r=this;return m(function*(){const i=tf(r.firestore,"users",t.uid);let s={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};try{yield Jye(i,s)}catch(o){throw console.log(`Error Updating Doc = ${o}`),o}})()}createClientData(t,r,i){var s=this;return m(function*(){const o=tf(oy(s.firestore,"clients")),a={name:r,phoneNumber:i,email:t.email};try{yield ay(o,a)}catch(c){throw console.log(`Error Creating Client = ${c}`),c}try{const c=oy(s.firestore,"clients"),l=(yield Yye(Zye(c,eve("email","==",t.email)))).docs.at(0).id;let u={uid:t.uid,clients:[l]};yield ay(tf(oy(s.firestore,"userClients")),u)}catch(c){throw console.log(`Error Creating UserClient Entry ${c}`),c}})()}createUserData(t,r){var i=this;return m(function*(){let s={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};r&&(s={...s,name:r});try{yield ay(tf(i.firestore,"users",t.uid),s)}catch(o){throw console.log(`Error Creating Doc = ${o}`),o}})()}signOut(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""])})}static#e=this.\u0275fac=function(r){return new(r||n)(D(Yn))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yG=(()=>{class n{constructor(){this.modals=[]}add(t){if(!t.id||this.modals.find(r=>r.id===t.id))throw console.log(`This is the modals = ${this.modals.at(0)?.id}`),new Error("Modal must have unique id");this.modals.push(t)}remove(t){this.modals=this.modals.filter(r=>r!==t)}open(t){const r=this.modals.find(i=>i.id===t);if(!r)throw new Error(`modal '${t}' not found`);r.open()}close(){this.modals.find(r=>r.isOpen)?.close()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ave=["*"];let cve=(()=>{class n{constructor(t,r){this.modalService=t,this.el=r,this.isOpen=!1,this.element=r.nativeElement}ngOnInit(){this.modalService.add(this),document.body.appendChild(this.element),this.element.addEventListener("click",t=>{"app-modal"===t.target.className&&this.close()})}ngOnDestroy(){console.log(`Destroying modal = ${this.id}`),this.modalService.remove(this),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("app-modal-open"),this.isOpen=!0}close(){this.element.style.display="none",document.body.classList.remove("app-modal-open"),this.isOpen=!1}static#e=this.\u0275fac=function(r){return new(r||n)(T(yG),T(Bt))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-modal"]],inputs:{id:"id"},ngContentSelectors:ave,decls:3,vars:0,consts:[[1,"app-modal"],[1,"app-modal-body"]],template:function(r,i){1&r&&(function MP(n){const e=x()[bt][_n];if(!e.projection){const r=e.projection=cu(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?BK(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),v(0,"div",0)(1,"div",1),function xP(n,e=0,t){const r=x(),i=we(),s=fc(i,me+n,16,null,t||null);null===s.projection&&(s.projection=e),yv(),(!r[Li]||za())&&32!=(32&s.flags)&&function $W(n,e,t){Rk(e[oe],0,e,t,Gv(n,t,e),Sk(t.parent||e[_n],t,e))}(i,r,s)}(2),b()())},styles:["app-modal{display:none}app-modal .app-modal{position:fixed;inset:0;z-index:10000;background-color:#000000bf;padding:10px;overflow:auto;justify-content:center;align-items:center;display:flex}app-modal .app-modal-body{padding:40px;background:#fff;border-radius:8px;border-style:solid;border-color:#cf0a2c;border-width:1px}@media only screen and (min-width: 0px){app-modal .app-modal-body{width:80%}}@media only screen and (min-width: 768px){app-modal .app-modal-body{width:60%}}@media only screen and (min-width: 991px){app-modal .app-modal-body{width:50%}}@media only screen and (min-width: 1024px){app-modal .app-modal-body{width:40%}}app-modal body.app-modal-open{overflow:hidden}\n"],encapsulation:2})}return n})();function lve(n,e){if(1&n){const t=Ms();v(0,"div",1),j(1,"app-header"),v(2,"app-modal",2)(3,"h1",3),S(4,"Quick question..."),b(),v(5,"h5",4),S(6,"Are you signing up as a user or an e-commerce store?"),b(),v(7,"div",5)(8,"button",6),Ne("click",function(){return Er(t),Ir(Ar().modalService.close())}),S(9,"User"),b(),v(10,"button",7),Ne("click",function(){return Er(t),Ir(Ar().modalService.close())}),S(11,"Store"),b()()(),v(12,"div",8)(13,"div",9),j(14,"h6",10),v(15,"h1",11),S(16,"Try On"),b(),j(17,"button",12),b(),j(18,"div",13),v(19,"div",14)(20,"input",15),Ne("click",function(){return Er(t),Ir(Ar().requestLogin())}),b(),v(21,"input",16),Ne("click",function(){return Er(t),Ir(Ar().modalService.open("modal-4"))}),b()(),v(22,"div",17)(23,"div",18),j(24,"hr"),b(),v(25,"h6",19),S(26,"WITH"),b(),v(27,"div",18),j(28,"hr"),b()(),v(29,"div",20)(30,"div",21),j(31,"i",22),b(),v(32,"div",23),j(33,"i",24),b()(),j(34,"div",25),b()()}}function uve(n,e){if(1&n){const t=Ms();v(0,"div",1),j(1,"app-header"),v(2,"div",8)(3,"div",9)(4,"h6",26)(5,"u"),S(6,"Sign Up"),b()(),v(7,"h1",11),S(8,"Try-On"),b(),v(9,"button",27),Ne("click",function(){return Er(t),Ir(Ar().requestLanding())}),b()(),v(10,"div",28)(11,"h5",29),S(12,"LOG IN"),b(),v(13,"div",30),j(14,"input",31,32),b(),v(16,"div",30),j(17,"input",33,34),b(),j(19,"app-alert-warning",35),b(),v(20,"div",36)(21,"div",37)(22,"input",38),Ne("click",function(){Er(t);const i=zr(15),s=zr(18);return Ir(Ar().login(i.value,s.value))}),b()(),v(23,"div",39)(24,"span",40),S(25,"Forgot your password?"),b()()(),j(26,"div",41),b()()}if(2&n){const t=Ar();ct(19),lt("message",t.alertMessage)("show",t.showAlert)}}const dve=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ive,pathMatch:"full"},{path:"about-us",component:AV},{path:"features",component:MV},{path:"fitting-room",redirectTo:"/login",pathMatch:"full"},{path:"shop",component:ove},{path:"login",component:(()=>{class n{constructor(t,r){this.authService=t,this.modalService=r,this.alertMessage="",this.showAlert=!1,this.showLoginForm=!1}login(t,r){var i=this;return m(function*(){try{yield i.authService.logIn(t,r)}catch(s){console.log(`Login error = ${s}`),i.alertMessage="Invalid Username/Password",i.showAlert=!0,setTimeout(()=>i.showAlert=!1,4e3)}})()}requestLogin(){this.showLoginForm=!0}requestLanding(){this.showLoginForm=!1}static#e=this.\u0275fac=function(r){return new(r||n)(T(tx),T(yG))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],["id","modal-4"],[1,"pb-4"],[1,"pb-5"],[2,"justify-content","center","display","flex"],["routerLink","/signUp",1,"btn","btn-primary","me-1","btn-lg","text-white",2,"background-color","#CF0A2C",3,"click"],["routerLink","/clientSignUp",1,"btn","btn-secondary","ms-1","btn-lg","text-black",2,"background-color","white",3,"click"],[1,"d-flex","flex-column","login-area","mt-2"],[1,"d-flex","flex-row"],[1,"mt-2"],[1,"site"],["type","button","routerLink","/home",1,"btn-close"],[1,"row","landing-spacer"],[1,"row","mb-5",2,"justify-content","center","display","flex","align-items","center","flex-direction","column"],["type","button","value","LOG IN",1,"btn","btnPrimary","btn-lg","text-white","mb-4","landing-buttons",2,"background-color","#CF0A2C",3,"click"],["type","button","value","SIGN UP",1,"btn","btnPrimary","btn-lg","mb-2","landing-buttons",2,"background-color","white","color","#190101",3,"click"],[1,"row","mt-1","mb-2",2,"justify-content","center","display","flex","flex-direction","row"],[1,"hr-cont"],[1,"text-center","hr-text"],[1,"row","mt-4","mb-5",2,"justify-content","center","display","flex","flex-direction","row"],[1,"circle",2,"background-color","#4267B2"],[1,"fab","fa-3x","fa-facebook-f","text-white"],[1,"circle",2,"background-color","#DB4437"],[1,"fab","fa-3x","fa-google","text-white"],[2,"width","80%","height","20vh"],["routerLink","/signUp",1,"redirect","mt-2","cursor-pointer"],["type","button",1,"btn-close",3,"click"],[1,"text-center","row",2,"display","flex","justify-content","center"],[1,"mt-3","mb-4","login-text"],[1,"formGroup","mb-3"],["type","text","placeholder","Username:","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password:","required","",1,"formControl"],["userPassword",""],[3,"message","show"],[1,"text-center","row","button-container"],[1,"formGroup"],["type","button","value","Log In",1,"btn","btnPrimary","btn-lg","text-white","ps-5","pe-5","mb-2",3,"click"],[1,"forgotPassword","mb-5"],["routerLink","/forgot-password"],[2,"width","80%","height","10vh"]],template:function(r,i){1&r&&(Ec(0,lve,35,0,"div",0),Ec(1,uve,27,2,"div",0)),2&r&&(lt("ngIf",!i.showLoginForm),ct(1),lt("ngIf",i.showLoginForm))},dependencies:[ag,Vs,nf,cve,_i],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.landing-buttons[_ngcontent-%COMP%]{font-family:Montserrat,serif;font-size:24px;font-weight:700}.hr-cont[_ngcontent-%COMP%]{width:15%;color:#190101;padding:0}.circle[_ngcontent-%COMP%]{padding:0;margin:0 6px;width:70px;height:70px;border-radius:35px;justify-content:center;display:flex;align-items:center;cursor:pointer}hr[_ngcontent-%COMP%]{border-top:1.5px solid #190101;opacity:unset}.hr-text[_ngcontent-%COMP%]{width:10%;margin:0;color:#000;padding-top:.5em}@media only screen and (min-width: 0px){.landing-buttons[_ngcontent-%COMP%]{width:80%}.hr-cont[_ngcontent-%COMP%]{width:0}.hr-text[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 768px){.landing-buttons[_ngcontent-%COMP%]{width:60%}.hr-cont[_ngcontent-%COMP%]{width:15%}.hr-text[_ngcontent-%COMP%]{width:10%}}@media only screen and (min-width: 991px){.landing-buttons[_ngcontent-%COMP%]{width:50%}}@media only screen and (min-width: 1024px){.landing-buttons[_ngcontent-%COMP%]{width:40%}}.login-area[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4;width:100%}div.d-flex.flex-row[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{color:#190101;scale:1.5;opacity:1}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-weight:800;color:#190101}h6[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:100;color:#cf0a2c}input.formControl[_ngcontent-%COMP%]{border-radius:8px;border-width:0;border-color:#f4f4f4;background-color:#fff;padding:1rem}[_ngcontent-%COMP%]::placeholder{color:#190101;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#190101}.button-container[_ngcontent-%COMP%]{margin-top:8rem}.forgotPassword[_ngcontent-%COMP%]{color:#cf0a2c}div.formGroup[_ngcontent-%COMP%] > input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}@media only screen and (min-width: 0px){input.formControl[_ngcontent-%COMP%]{width:90%}app-alert-warning[_ngcontent-%COMP%]{width:90%}.spacer[_ngcontent-%COMP%]{height:11vh}.landing-spacer[_ngcontent-%COMP%]{height:6vh}.login-area[_ngcontent-%COMP%]{border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}div.d-flex.flex-row[_ngcontent-%COMP%]{justify-content:space-between}.site[_ngcontent-%COMP%]{visibility:hidden}.login-text[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (min-width: 375px){input.formControl[_ngcontent-%COMP%]{width:80%}app-alert-warning[_ngcontent-%COMP%]{width:80%}.spacer[_ngcontent-%COMP%]{height:15vh}.landing-spacer[_ngcontent-%COMP%]{height:9vh}.login-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 576px){input.formControl[_ngcontent-%COMP%]{width:60%}app-alert-warning[_ngcontent-%COMP%]{width:60%}.login-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:2rem 4rem 0}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 766px){input.formControl[_ngcontent-%COMP%]{width:40%}app-alert-warning[_ngcontent-%COMP%]{width:40%}.spacer[_ngcontent-%COMP%]{height:17vh}.landing-spacer[_ngcontent-%COMP%]{height:13vh}}@media only screen and (min-width: 991px){input.formControl[_ngcontent-%COMP%]{width:30%}app-alert-warning[_ngcontent-%COMP%]{width:30%}.spacer[_ngcontent-%COMP%]{height:20vh}.landing-spacer[_ngcontent-%COMP%]{height:15vh}}@media only screen and (min-height: 1024px){.spacer[_ngcontent-%COMP%]{height:15vh}.landing-spacer[_ngcontent-%COMP%]{height:9vh}}"]})}return n})()},{path:"signUp",component:(()=>{class n{constructor(t){this.authService=t,this.alertMessage="",this.showAlert=!1}signUp(t,r,i){var s=this;return m(function*(){try{yield s.authService.signUp(t,r,i)}catch(o){console.log(`Sign Up Error = ${o}`),s.alertMessage="Something went wrong. Please try again later.",s.showAlert=!0,setTimeout(()=>s.showAlert=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(T(tx))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-user-signup"]],decls:29,vars:2,consts:[[1,"container"],[1,"d-flex","flex-column","signup-area","mt-2"],[1,"d-flex","flex-row"],["routerLink","/login",1,"redirect","mt-2","cursor-pointer"],[1,"site"],["type","button","routerLink","/login",1,"btn-close"],[1,"text-center","row",2,"display","flex","justify-content","center"],[1,"mt-3","mb-4","login-text"],[1,"formGroup","mb-3"],["type","text","placeholder","Name:","required","",1,"formControl"],["userName",""],["type","text","placeholder","Email:","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password:","required","",1,"formControl"],["userPassword",""],[3,"message","show"],[1,"text-center","row","button-container"],[1,"formGroup"],["type","button","value","SIGN UP",1,"btn","btnPrimary","btn-lg","text-white","ps-5","pe-5","mb-2",3,"click"],[1,"forgotPassword","mb-5"],["routerLink","/forgot-password"]],template:function(r,i){if(1&r){const s=Ms();v(0,"div",0),j(1,"app-header"),v(2,"div",1)(3,"div",2)(4,"h6",3)(5,"u"),S(6,"Log in"),b()(),v(7,"h1",4),S(8,"Try-On"),b(),j(9,"button",5),b(),v(10,"div",6)(11,"h5",7),S(12,"SIGN UP"),b(),v(13,"div",8),j(14,"input",9,10),b(),v(16,"div",8),j(17,"input",11,12),b(),v(19,"div",8),j(20,"input",13,14),b(),j(22,"app-alert-warning",15),b(),v(23,"div",16)(24,"div",17)(25,"input",18),Ne("click",function(){Er(s);const a=zr(15),c=zr(18),l=zr(21);return Ir(i.signUp(a.value,c.value,l.value))}),b()(),v(26,"div",19)(27,"span",20),S(28,"Forgot your password?"),b()()()()()}2&r&&(ct(22),lt("message",i.alertMessage)("show",i.showAlert))},dependencies:[Vs,nf,_i],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.signup-area[_ngcontent-%COMP%]{background-color:#f4f4f4;min-height:100vh;width:100%}div.d-flex.flex-row[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{color:#190101;scale:1.5;opacity:1}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-weight:800;color:#190101}h6[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:100;color:#cf0a2c}input.formControl[_ngcontent-%COMP%]{border-radius:8px;border-width:0;border-color:#f4f4f4;background-color:#fff;padding:1rem}[_ngcontent-%COMP%]::placeholder{color:#190101;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#190101}.button-container[_ngcontent-%COMP%]{margin-top:4rem}.forgotPassword[_ngcontent-%COMP%]{color:#cf0a2c}div.formGroup[_ngcontent-%COMP%] > input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}@media only screen and (min-width: 0px){input.formControl[_ngcontent-%COMP%]{width:90%}app-alert-warning[_ngcontent-%COMP%]{width:90%}.spacer[_ngcontent-%COMP%]{height:11vh}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}div.d-flex.flex-row[_ngcontent-%COMP%]{justify-content:space-between}.site[_ngcontent-%COMP%]{visibility:hidden}.login-text[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (min-width: 375px){input.formControl[_ngcontent-%COMP%]{width:80%}app-alert-warning[_ngcontent-%COMP%]{width:80%}.spacer[_ngcontent-%COMP%]{height:15vh}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 576px){input.formControl[_ngcontent-%COMP%]{width:60%}app-alert-warning[_ngcontent-%COMP%]{width:60%}.spacer[_ngcontent-%COMP%]{height:15vh}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:2rem 4rem 0}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 766px){input.formControl[_ngcontent-%COMP%]{width:40%}app-alert-warning[_ngcontent-%COMP%]{width:40%}.spacer[_ngcontent-%COMP%]{height:17vh}}@media only screen and (min-width: 991px){input.formControl[_ngcontent-%COMP%]{width:30%}app-alert-warning[_ngcontent-%COMP%]{width:30%}.spacer[_ngcontent-%COMP%]{height:20vh}}@media only screen and (min-height: 1024px){.spacer[_ngcontent-%COMP%]{height:15vh}}"]})}return n})()},{path:"clientSignUp",component:(()=>{class n{constructor(t){this.authService=t,this.alertMessage="",this.showAlert=!1}clientSignUp(t,r,i,s){var o=this;return m(function*(){try{yield o.authService.clientSignUp(t,r,i,s)}catch(a){console.log(`Sign Up Error = ${a}`),o.alertMessage="Something went wrong. Please try again later.",o.showAlert=!0,setTimeout(()=>o.showAlert=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(T(tx))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-company-signup"]],decls:32,vars:2,consts:[[1,"container"],[1,"d-flex","flex-column","signup-area","mt-2"],[1,"d-flex","flex-row"],["routerLink","/login",1,"redirect","mt-2","cursor-pointer"],[1,"site"],["type","button","routerLink","/login",1,"btn-close"],[1,"text-center","row",2,"display","flex","justify-content","center"],[1,"mt-3","mb-4","login-text"],[1,"formGroup","mb-3"],["type","text","placeholder","Company name:","required","",1,"formControl"],["companyName",""],["type","text","placeholder","Work email:","required","",1,"formControl"],["workEmail",""],["type","number","oninput","if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","15","placeholder","Phone number:","required","",1,"formControl"],["phoneNumber",""],["type","password","placeholder","Password:","required","",1,"formControl"],["password",""],[3,"message","show"],[1,"text-center","row","button-container"],[1,"formGroup"],["type","button","value","REGISTER",1,"btn","btnPrimary","btn-lg","text-white","ps-5","pe-5","mb-2",3,"click"],[1,"forgotPassword","mb-5"],["routerLink","/forgot-password"]],template:function(r,i){if(1&r){const s=Ms();v(0,"div",0),j(1,"app-header"),v(2,"div",1)(3,"div",2)(4,"h6",3)(5,"u"),S(6,"Log in"),b()(),v(7,"h1",4),S(8,"Try-On"),b(),j(9,"button",5),b(),v(10,"div",6)(11,"h5",7),S(12,"REGISTER"),b(),v(13,"div",8),j(14,"input",9,10),b(),v(16,"div",8),j(17,"input",11,12),b(),v(19,"div",8),j(20,"input",13,14),b(),v(22,"div",8),j(23,"input",15,16),b(),j(25,"app-alert-warning",17),b(),v(26,"div",18)(27,"div",19)(28,"input",20),Ne("click",function(){Er(s);const a=zr(15),c=zr(18),l=zr(21),u=zr(24);return Ir(i.clientSignUp(a.value,c.value,l.value,u.value))}),b()(),v(29,"div",21)(30,"span",22),S(31,"Forgot your password?"),b()()()()()}2&r&&(ct(25),lt("message",i.alertMessage)("show",i.showAlert))},dependencies:[Vs,nf,_i],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.signup-area[_ngcontent-%COMP%]{background-color:#f4f4f4;width:100%;min-height:100vh}div.d-flex.flex-row[_ngcontent-%COMP%] > button.btn-close[_ngcontent-%COMP%]{color:#190101;scale:1.5;opacity:1}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:Quicksand,sans-serif;font-weight:800;color:#190101}h6[_ngcontent-%COMP%]{font-family:Garet,serif;font-weight:100;color:#cf0a2c}input.formControl[_ngcontent-%COMP%]{border-radius:8px;border-width:0;border-color:#f4f4f4;background-color:#fff;padding:1rem}[_ngcontent-%COMP%]::placeholder{color:#190101;opacity:1}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#190101}.button-container[_ngcontent-%COMP%]{margin-top:4rem}.forgotPassword[_ngcontent-%COMP%]{color:#cf0a2c}div.formGroup[_ngcontent-%COMP%] > input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;box-shadow:none;border-radius:4px;text-align:center;font-family:Montserrat,serif}@media only screen and (min-width: 0px){input.formControl[_ngcontent-%COMP%]{width:90%}app-alert-warning[_ngcontent-%COMP%]{width:90%}.signup-area[_ngcontent-%COMP%]{height:89%;border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}div.d-flex.flex-row[_ngcontent-%COMP%]{justify-content:space-between}.site[_ngcontent-%COMP%]{visibility:hidden}.login-text[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (min-width: 375px){input.formControl[_ngcontent-%COMP%]{width:80%}app-alert-warning[_ngcontent-%COMP%]{width:80%}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 576px){input.formControl[_ngcontent-%COMP%]{width:60%}app-alert-warning[_ngcontent-%COMP%]{width:60%}.signup-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:2rem 4rem 0}.site[_ngcontent-%COMP%]{visibility:visible}.login-text[_ngcontent-%COMP%]{margin-left:15px}}@media only screen and (min-width: 766px){input.formControl[_ngcontent-%COMP%]{width:40%}app-alert-warning[_ngcontent-%COMP%]{width:40%}}@media only screen and (min-width: 991px){input.formControl[_ngcontent-%COMP%]{width:30%}app-alert-warning[_ngcontent-%COMP%]{width:30%}}@media only screen and (min-height: 1024px){.signup-area[_ngcontent-%COMP%]{height:85%}}"]})}return n})()},{path:"contactUs",component:(()=>{class n{constructor(t,r){this.contactService=t,this.formBuilder=r,this.alertMessage="",this.showSuccess=!1,this.showWarning=!1,this.name=new lr("",[kr.required]),this.email=new lr("",[kr.required,kr.email,kr.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}")]),this.subject=new lr("",kr.required),this.message=new lr("",kr.required),this.contactForm=r.group({name:this.name,email:this.email,subject:this.subject,message:this.message})}ngOnDestroy(){this.name=null,this.email=null,this.subject=null,this.message=null}sendMessage(t){var r=this;return m(function*(){if(r.contactForm.invalid)new Map([["name",r.name],["email",r.email],["subject",r.subject],["message",r.message]]).forEach((s,o,a)=>{if(s?.invalid)return r.alertMessage=`Please enter a valid ${o}`,r.showWarning=!0,void setTimeout(()=>r.showWarning=!1,2e3)});else try{yield r.contactService.sendContactMessage({name:t.name,email:t.email,subject:t.subject,message:t.message}),r.contactForm.reset(),r.alertMessage="Successfully Submitted!",r.showSuccess=!0,setTimeout(()=>r.showSuccess=!1,4e3)}catch(i){console.log(`Send Message Error = ${i}`),r.alertMessage="Error Submitting! Please try again later.",r.showWarning=!0,setTimeout(()=>r.showWarning=!1,4e3)}})()}static#e=this.\u0275fac=function(r){return new(r||n)(T(mG),T(NB))};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-contact"]],decls:54,vars:5,consts:[[1,"container-fluid"],[1,"fixed-top"],[1,"container-fluid",2,"margin-top","8rem"],[1,"row","d-flex","contact-area","mt-2","ms-1",2,"padding-top","4rem"],[1,"col-md"],[1,"mb-3"],[1,"mb-5"],[1,"contact-list"],[1,"row","mb-4",2,"display","flex"],[2,"flex","1"],[1,"fas","fa-location-dot","text-center","list-icon"],[2,"flex","10"],[1,"fas","fa-envelope","list-icon"],[1,"fas","fa-phone","list-icon"],[1,"text-center","row","mb-3","form-container",3,"formGroup","ngSubmit"],[3,"message","show"],[1,"row",2,"margin","0"],[1,"formGroup","mb-3","col-md",2,"padding","0","margin","0"],["type","text","onkeydown","return /[a-z ]/i.test(event.key)","placeholder","Name:","required","","formControlName","name",1,"formControl",2,"width","100%"],["name",""],[1,"formGroup","mb-3","col-md","email-input"],["type","email","placeholder","Email:","required","","formControlName","email",1,"formControl",2,"width","100%"],["email",""],[1,"formGroup","mb-3"],["type","text","placeholder","Subject:","required","","formControlName","subject",1,"formControl",2,"width","100%"],["subject",""],["placeholder","Message:","rows","5","required","","formControlName","message",1,"formControl",2,"width","100%"],["message",""],[1,"formGroup"],["type","submit","value","SEND MESSAGE",1,"btn","btnPrimary","btn-lg","text-white","mb-2"]],template:function(r,i){1&r&&(v(0,"div",0),j(1,"app-header",1),v(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),S(6,"CONTACT"),b(),v(7,"h1",6),S(8,"Get in touch"),b(),v(9,"div",7)(10,"div",8)(11,"div",9),j(12,"i",10),b(),v(13,"div",11)(14,"h5"),S(15,"LOCATION"),b(),v(16,"p"),S(17,"Rustenburg, North West, South Africa, 0300"),b()()(),v(18,"div",8)(19,"div",9),j(20,"i",12),b(),v(21,"div",11)(22,"h5"),S(23,"EMAIL"),b(),v(24,"p"),S(25,"info@try-on.co.za"),b()()(),v(26,"div",8)(27,"div",9),j(28,"i",13),b(),v(29,"div",11)(30,"h5"),S(31,"CELL"),b(),v(32,"p"),S(33,"+27 63 410 5509"),b()()()()(),v(34,"div",4)(35,"form",14),Ne("ngSubmit",function(){return i.sendMessage(i.contactForm.value)}),j(36,"app-alert-success",15)(37,"app-alert-warning",15),v(38,"div",16)(39,"div",17),j(40,"input",18,19),b(),v(42,"div",20),j(43,"input",21,22),b()(),v(45,"div",23),j(46,"input",24,25),b(),v(48,"div",23),j(49,"textarea",26,27),S(51,", "),b(),v(52,"div",28),j(53,"input",29),b()()()()()()),2&r&&(ct(35),lt("formGroup",i.contactForm),ct(1),lt("message",i.alertMessage)("show",i.showSuccess),ct(1),lt("message",i.alertMessage)("show",i.showWarning))},dependencies:[Vs,nf,_G,rE,md,qC,WC,Id,Ed,Kg],styles:[".contact-area[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4;width:100%}h5[_ngcontent-%COMP%]{color:#190101;font-family:Quicksand,sans-serif}div.col-md[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{color:#cf0a2c}h1[_ngcontent-%COMP%]{color:#190101;font-family:Montserrat,sans-serif;font-size:80px;font-weight:500}p[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.1em}.list-icon[_ngcontent-%COMP%]{color:#fff;font-size:32px;width:56px;height:56px;padding:.8rem;border-radius:100%;background-color:#cf0a2c}.formControl[_ngcontent-%COMP%]{border-radius:2px;border-style:solid;border-width:1px;border-color:#cf0a2c;background-color:#fff;padding:1rem}input.btn[_ngcontent-%COMP%]{background-color:#cf0a2c;font-size:16px;font-weight:700;padding-right:1em;padding-left:1em}@media only screen and (min-width: 0px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:44px;border-top-right-radius:44px;padding:1rem 1rem 0}.email-input[_ngcontent-%COMP%]{margin:0;padding:0}.form-container[_ngcontent-%COMP%]{margin-top:1rem}}@media only screen and (min-width: 375px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:66px;border-top-right-radius:66px;padding:1rem 3rem 0 2rem}}@media only screen and (min-width: 576px){.contact-area[_ngcontent-%COMP%]{border-top-left-radius:88px;border-top-right-radius:88px;padding:4rem 3rem 0}}@media only screen and (min-width: 768px){.email-input[_ngcontent-%COMP%]{padding:0 0 0 12px}.form-container[_ngcontent-%COMP%]{margin-top:9rem}}"]})}return n})()},{path:"**",component:sve}];let hve=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[UC.forRoot(dve),UC]})}return n})(),fve=(()=>{class n{constructor(){this.title="tryon"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Tt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[xC]})}return n})();new N("MdbAccordionItemBodyDirective"),new N("MdbAccordionItemHeaderDirective");let mve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,bV]})}return n})(),vve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn]})}return n})();const bve={provide:cr,useExisting:Pe(()=>Cve),multi:!0};class wve{element;checked}let Cve=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked=fd(t)}_checked=!1;get value(){return this._value}set value(t){this._value=t}_value=null;get disabled(){return this._disabled}set disabled(t){this._disabled=fd(t)}_disabled=!1;checkboxChange=new Re;get isDisabled(){return this._disabled}get isChecked(){return this._checked}onCheckboxClick(){this.toggle()}onBlur(){this.onTouched()}constructor(){}get changeEvent(){const t=new wve;return t.element=this,t.checked=this.checked,t}toggle(){this.disabled||(this._checked=!this._checked,this.onChange(this.checked),this.onCheckboxChange())}onCheckboxChange(){this.checkboxChange.emit(this.changeEvent)}onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t,this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static ngAcceptInputType_checked;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Y({type:n,selectors:[["","mdbCheckbox",""]],hostVars:2,hostBindings:function(r,i){1&r&&Ne("click",function(){return i.onCheckboxClick()})("blur",function(){return i.onBlur()}),2&r&&Pp("disabled",i.isDisabled)("checked",i.isChecked)},inputs:{checked:"checked",value:"value",disabled:"disabled"},outputs:{checkboxChange:"checkboxChange"},features:[$e([bve])]})}return n})(),Eve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,Sd]})}return n})();const rf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=rf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Jt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=rf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Sve extends Ng{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ive extends Pg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=rf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(rf.cancelAnimationFrame(t),e._scheduled=void 0)}});let nx,Tve=1;const cy={};function vG(n){return n in cy&&(delete cy[n],!0)}const Ave={setImmediate(n){const e=Tve++;return cy[e]=!0,nx||(nx=Promise.resolve()),nx.then(()=>vG(e)&&n()),e},clearImmediate(n){vG(n)}},{setImmediate:Mve,clearImmediate:xve}=Ave,ly={setImmediate(...n){const{delegate:e}=ly;return(e?.setImmediate||Mve)(...n)},clearImmediate(n){const{delegate:e}=ly;return(e?.clearImmediate||xve)(n)},delegate:void 0};new class kve extends Ng{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Rve extends Pg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ly.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(ly.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function bG(n,e=Fg){return function Pve(n){return ot((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const l=i;i=null,t.next(l)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(Xe(t,l=>{r=!0,i=l,s||mn(n(l)).subscribe(s=Xe(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Fve(n=0,e,t=sie){let r=-1;return null!=e&&(bR(e)?t=e:r=e),new Ue(i=>{let s=function Nve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const Lve=new N("cdk-dir-doc",{providedIn:"root",factory:function Vve(){return $(je)}}),Bve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jve=(()=>{class n{constructor(t){this.value="ltr",this.change=new Re,t&&(this.value=function Uve(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Bve.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(D(Lve,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rx=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})(),Hve=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ue(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(bG(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):X()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Fn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function nie(n){return n instanceof Bt?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ls(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(D(re),D(Bo),D(je,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wG=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ze,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bG(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bo),D(re),D(je,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})(),EG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[rx,CG,rx,CG]})}return n})();class ix{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class sx extends ix{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class IG extends ix{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Gve extends ix{constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}}class SG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof sx?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof IG?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Gve?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qve extends SG{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ze.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let DG=(()=>{class n extends SG{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(T(As),T(Mr),T(je))};static#t=this.\u0275dir=Y({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ke]})}return n})(),ox=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({})}return n})();const TG=cie();class Wve{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Mt(-this._previousScrollPosition.left),e.style.top=Mt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),TG&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TG&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Kve{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Fn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AG{enable(){}disable(){}attach(){}}function ax(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function MG(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Qve{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ax(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Yve=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new AG,this.close=o=>new Kve(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Wve(this._viewportRuler,this._document),this.reposition=o=>new Qve(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||n)(D(Hve),D(wG),D(re),D(je))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xG{constructor(e){if(this.scrollStrategy=new AG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Xve{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let RG=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(D(je))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zve=(()=>{class n extends RG{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(D(je),D(re,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jve=(()=>{class n extends RG{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=IV(s)},this._clickListener=s=>{const o=IV(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(D(je),D(Bo),D(re,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kG=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||SV()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),SV()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(D(je),D(Bo))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ebe{constructor(e,t,r,i,s,o,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ze,this._attachments=new ze,this._detachments=new ze,this._locationChanges=Jt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ze,this._outsidePointerEvents=new ze,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Mt(this._config.width),e.height=Mt(this._config.height),e.minWidth=Mt(this._config.minWidth),e.minHeight=Mt(this._config.minHeight),e.maxWidth=Mt(this._config.maxWidth),e.maxHeight=Mt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=kg(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Xu(ER(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const OG="cdk-overlay-connected-position-bounding-box",tbe=/([A-Za-z%]+)$/;class nbe{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ze,this._resizeSubscription=Jt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(OG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,r)?s.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(s.length){let a=null,c=-1;for(const l of s){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ta(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=NG(t);let{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=PG(this._overlayRef.getConfig().minHeight),a=PG(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=NG(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?l||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?c||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Xve(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Mt(r.height),i.top=Mt(r.top),i.bottom=Mt(r.bottom),i.width=Mt(r.width),i.left=Mt(r.left),i.right=Mt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Mt(s)),o&&(i.maxWidth=Mt(o))}this._lastBoundingBoxSize=r,Ta(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ta(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ta(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Ta(r,this._getExactOverlayY(t,e,u)),Ta(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Mt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Mt(o.maxWidth):s&&(r.maxWidth="")),Ta(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Mt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Mt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MG(e,r),isOriginOutsideView:ax(e,r),isOverlayClipped:MG(t,r),isOverlayOutsideView:ax(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&kg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ta(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function PG(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(tbe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function NG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FG="cdk-global-overlay-wrapper";class rbe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";c?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=g,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(FG),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ibe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new rbe}flexibleConnectedTo(t){return new nbe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(D(wG),D(je),D(Bo),D(kG))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sbe=0,cx=(()=>{class n{constructor(t,r,i,s,o,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new xG(t);return o.direction=o.direction||this._directionality.value,new ebe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sbe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ks)),new qve(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(D(Yve),D(kG),D(As),D(ibe),D(Zve),D(Ze),D(re),D(je),D(jve),D(Qp),D(Jve),D(lb,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cbe={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[cx],useFactory:function abe(n){return()=>n.scrollStrategies.reposition()}};let uy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({providers:[cx,cbe],imports:[rx,ox,EG,EG]})}return n})(),lbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,uy]})}return n})(),ube=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,Sd]})}return n})(),ybe=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function bbe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function vbe(n){try{return n.frameElement}catch{return null}}(function Abe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===UG(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=UG(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Dbe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Tbe(n){return!function Cbe(n){return function Ibe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function wbe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Ebe(n){return function Sbe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||BG(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(D(Bo))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BG(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function UG(n){if(!BG(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Mbe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qn(1)).subscribe(e)}}class xbe extends Mbe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(e,t,r,i,s,o,a){super(e,t,r,i,a.defer),this._focusTrapManager=s,this._inertStrategy=o,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const Rbe=new N("FOCUS_TRAP_INERT_STRATEGY");class kbe{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){const r=t.target,i=e._element;r&&!i.contains(r)&&!r.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{e.enabled&&!i.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}}let Obe=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pbe=(()=>{class n{constructor(t,r,i,s,o){this._checker=t,this._ngZone=r,this._focusTrapManager=i,this._document=s,this._inertStrategy=o||new kbe}create(t,r={defer:!1}){let i;return i="boolean"==typeof r?{defer:r}:r,new xbe(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i)}static#e=this.\u0275fac=function(r){return new(r||n)(D(ybe),D(re),D(Obe),D(je),D(Rbe,8))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fbe=["dialog"],Lbe=["content"];function Vbe(n,e){}const Bbe=function(n){return{"rounded-0":n}};class Ube{animation=!0;backdrop=!0;ignoreBackdropClick=!1;keyboard=!0;modalClass="";containerClass="";viewContainerRef;data=null;nonInvasive=!1}class jG{_overlayRef;_container;constructor(e,t){this._overlayRef=e,this._container=t}component;onClose$=new ze;onClose=this.onClose$.asObservable();close(e){this._container._close(),setTimeout(()=>{this._container._config.nonInvasive&&this._container._onNonInvasiveModalHidden(),this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}const lx="modal-open",$G="modal-non-invasive-open",HG="modal-non-invasive-show";let zG=(()=>{class n{_document;_elementRef;_renderer;_focusTrapFactory;_ngZone;_portalOutlet;modalDialog;modalContent;_destroy$=new ze;backdropClick$=new ze;_config;BACKDROP_TRANSITION=150;MODAL_TRANSITION=200;NON_INVASIVE_TRANSITION=450;_previouslyFocusedElement;_focusTrap;modal=!0;get hasAnimation(){return this._config.animation}onWindowResize(){this._ngZone.runOutsideAngular(()=>{this._config.nonInvasive&&this._handleWindowResize()})}get host(){return this._elementRef.nativeElement}_isScrollable=!1;_isBottomRight=!1;_isBottomLeft=!1;_isTopRight=!1;_isTopLeft=!1;_isSideTopModal=!1;_isSideBottomModal=!1;_isSideModal=!1;_isModalBottom=!1;_modalContentRect;_modalContentComputedStyles;_modalDialogComputedStyles;_topOffset=0;_leftOffset=0;_rightOffset=0;_bottomOffset=0;constructor(t,r,i,s,o){this._document=t,this._elementRef=r,this._renderer=i,this._focusTrapFactory=s,this._ngZone=o}ngOnInit(){this._updateContainerClass(),this._renderer.setStyle(this.host,"display","block"),this._config.nonInvasive||(this._focusTrap=this._focusTrapFactory.create(this.host),this._previouslyFocusedElement=this._document.activeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this.host,"show"),setTimeout(()=>{this._focusTrap?.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap?.focusInitialElementWhenReady()}ngAfterViewInit(){const t=this._document.body.offsetWidth;this._renderer.addClass(this._document.body,lx),this._config.nonInvasive&&(this._renderer.addClass(this._document.body,$G),setTimeout(()=>{this._onNonInvasiveModalShown()},this.NON_INVASIVE_TRANSITION)),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"overflow","hidden"),this._config.nonInvasive||this._renderer.setStyle(this._document.body,"padding-right",this._document.body.offsetWidth-t+"px"),!this._config.ignoreBackdropClick&&!this._config.nonInvasive&&Ls(this.host,"mousedown").pipe(Fn(i=>{const s=i.target,o=this.modalDialog.nativeElement,a=s!==o,c=!o.contains(s);return a&&c}),Xu(this._destroy$)).subscribe(i=>{this.backdropClick$.next(i)})}ngOnDestroy(){this._previouslyFocusedElement?.focus(),this._focusTrap?.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(r=>{this._renderer.addClass(this.host,r)})}_onNonInvasiveModalShown(){this._isScrollable=this._config.modalClass.includes("modal-dialog-scrollable"),this._isBottomRight=this._config.modalClass.includes("modal-bottom-right"),this._isBottomLeft=this._config.modalClass.includes("modal-bottom-left"),this._isTopRight=this._config.modalClass.includes("modal-top-right"),this._isTopLeft=this._config.modalClass.includes("modal-top-left"),this._isModalBottom=this._config.modalClass.includes("modal-bottom"),this._isSideTopModal=this._isTopLeft||this._isTopRight,this._isSideBottomModal=this._isBottomLeft||this._isBottomRight,this._isSideModal=this._isSideTopModal||this._isSideBottomModal,this._modalContentRect=this.modalContent.nativeElement.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(this.modalContent.nativeElement),this._modalDialogComputedStyles=window.getComputedStyle(this.modalDialog.nativeElement),this._topOffset=parseInt(this._modalDialogComputedStyles.top,0),this._leftOffset=parseInt(this._modalDialogComputedStyles.left,0),this._rightOffset=parseInt(this._modalDialogComputedStyles.right,0),this._bottomOffset=parseInt(this._modalDialogComputedStyles.bottom,0),this._renderer.addClass(this.host,HG),this._setNonInvasiveStyles()}_setNonInvasiveStyles(t=0,r=0){const i=window.innerWidth>=992;this._renderer.setStyle(this.host,"left",`${this._modalContentRect.left+t}px`),this._renderer.setStyle(this.host,"width",this._modalContentComputedStyles.width),this._isScrollable||(this._renderer.setStyle(this.host,"height",this._modalContentComputedStyles.height),this._renderer.setStyle(this.host,"display","")),i&&((this._isSideBottomModal||this._isModalBottom)&&this._renderer.setStyle(this.host,"top",`${this._modalContentRect.top+r}px`),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","auto"))}_onNonInvasiveModalHidden(){this._renderer.removeClass(this.host,HG),this._resetNonInvasiveStyles(),this._removeNonInvasiveClass()}_resetNonInvasiveStyles(){this._renderer.setStyle(this.host,"left",""),this._renderer.setStyle(this.host,"top",""),this._renderer.setStyle(this.host,"height",""),this._renderer.setStyle(this.host,"width",""),this._isScrollable||this._renderer.setStyle(this.host,"display",""),this._isSideModal&&this._renderer.setStyle(this.host,"overflowX","")}_removeNonInvasiveClass(){this._document.body.querySelector(".modal.show.modal-non-invasive-show")?this._renderer.addClass(this._document.body,lx):this._renderer.removeClass(this._document.body,$G)}_handleWindowResize(){const t=this.host.querySelector(".modal-content");if(this._resetNonInvasiveStyles(),this._modalContentRect=t.getBoundingClientRect(),this._modalContentComputedStyles=window.getComputedStyle(t),this._isSideTopModal||this._isSideBottomModal){let r=0,i=0;(this._isBottomRight||this._isBottomLeft)&&(i=-this._bottomOffset),(this._isBottomRight||this._isTopRight)&&(r=-this._rightOffset),(this._isBottomLeft||this._isTopLeft)&&(r=this._leftOffset),this._setNonInvasiveStyles(r,i)}else this._setNonInvasiveStyles()}_close(){this._config.animation&&this._renderer.removeClass(this.host,"show");const t=Array.from(this.host.querySelectorAll("iframe")),r=Array.from(this.host.querySelectorAll("video"));t.forEach(i=>{const s=i.getAttribute("src");this._renderer.setAttribute(i,"src",s)}),r.forEach(i=>{i.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,lx),this._renderer.removeStyle(this._document.body,"overflow"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}static \u0275fac=function(r){return new(r||n)(T(je),T(Bt),T($r),T(Pbe),T(re))};static \u0275cmp=Tt({type:n,selectors:[["mdb-modal-container"]],viewQuery:function(r,i){if(1&r&&(ko(DG,7),ko(Fbe,7),ko(Lbe,7)),2&r){let s;zi(s=Gi())&&(i._portalOutlet=s.first),zi(s=Gi())&&(i.modalDialog=s.first),zi(s=Gi())&&(i.modalContent=s.first)}},hostVars:4,hostBindings:function(r,i){1&r&&Ne("resize",function(o){return i.onWindowResize(o)},0,vO),2&r&&Sc("modal",i.modal)("fade",i.hasAnimation)},decls:5,vars:5,consts:[["dialog",""],[1,"modal-content",3,"ngClass"],["content",""],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(v(0,"div",null,0)(2,"div",1,2),Ec(4,Vbe,0,0,"ng-template",3),b()()),2&r&&(KP("modal-dialog"+(i._config.modalClass?" "+i._config.modalClass:"")),ct(2),lt("ngClass",uw(3,Bbe,i._config.modalClass.includes("modal-frame"))))},dependencies:[og,DG],encapsulation:2})}return n})(),$be=(()=>{class n{_document;_overlay;_injector;_cfr;constructor(t,r,i,s){this._document=t,this._overlay=r,this._injector=i,this._cfr=s}open(t,r){const i=new Ube;r=r?Object.assign(i,r):i;const s=this._createOverlay(r),o=this._createContainer(s,r),a=this._createContent(t,o,s,r);return this._registerListeners(a,r,o),a}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){return new xG({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:!t.nonInvasive&&t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,r){const i=new sx(zG,null,this._injector,this._cfr),s=t.attach(i);return s.instance._config=r,s.instance}_createContent(t,r,i,s){const o=new jG(i,r);if(t instanceof pi)r.attachTemplatePortal(new IG(t,null,{$implicit:s.data,modalRef:o}));else{const a=this._createInjector(s,o,r),c=r.attachComponentPortal(new sx(t,s.viewContainerRef,a));s.data&&Object.assign(c.instance,{...s.data}),o.component=c.instance}return o}_createInjector(t,r,i){return Ze.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:zG,useValue:i},{provide:jG,useValue:r}]})}_registerListeners(t,r,i){i.backdropClick$.pipe(Qn(1)).subscribe(()=>{t.close()}),r.keyboard&&Ls(i._elementRef.nativeElement,"keydown").pipe(Fn(s=>"Escape"===s.key),Qn(1)).subscribe(()=>{t.close()})}static \u0275fac=function(r){return new(r||n)(D(je),D(cx),D(Ze),D(As))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Hbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({providers:[$be],imports:[Kn,uy,ox]})}return n})(),zbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,uy]})}return n})(),Gbe=(()=>{class n{get name(){return this._name}set name(t){this._name=t}_name;get checked(){return this._checked}set checked(t){this._checked=fd(t)}_checked=!1;get value(){return this._value}set value(t){this._value=t}_value=null;get disabled(){return this._disabled}set disabled(t){this._disabled=fd(t)}_disabled=!1;get isDisabled(){return this._disabled}get isChecked(){return this._checked}get nameAttr(){return this.name}constructor(){}_updateName(t){this._name=t}_updateChecked(t){this._checked=t}_updateDisabledState(t){this._disabled=t}static ngAcceptInputType_checked;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Y({type:n,selectors:[["","mdbRadio",""]],hostVars:3,hostBindings:function(r,i){2&r&&(Pp("disabled",i.isDisabled)("checked",i.isChecked),Hr("name",i.nameAttr))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled"}})}return n})();const qbe={provide:cr,useExisting:Pe(()=>Wbe),multi:!0};let Wbe=(()=>{class n{radios;get value(){return this._value}set value(t){this._value=t,this.radios&&this._updateChecked()}_value;get name(){return this._name}set name(t){this._name=t,this.radios&&this._updateNames()}_name;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.radios&&this._updateDisabled()}_disabled=!1;_destroy$=new ze;onChange=t=>{};onTouched=()=>{};ngAfterContentInit(){this._updateNames(),this._updateDisabled(),this.radios.changes.pipe(pg(this.radios),tr(t=>Ft(Promise.resolve(t))),Xu(this._destroy$)).subscribe(()=>this._updateRadiosState())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_updateRadiosState(){this._updateNames(),this._updateChecked(),this._updateDisabled()}_updateNames(){this.radios.forEach(t=>t._updateName(this.name))}_updateChecked(){this.radios.forEach(t=>{t._updateChecked(t.value===this._value)})}_updateDisabled(){this.radios.forEach(t=>t._updateDisabledState(this._disabled))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateDisabled()}writeValue(t){this.value=t}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Y({type:n,selectors:[["","mdbRadioGroup",""]],contentQueries:function(r,i,s){if(1&r&&yw(s,Gbe,5),2&r){let o;zi(o=Gi())&&(i.radios=o)}},inputs:{value:"value",name:"name",disabled:"disabled"},features:[$e([qbe])]})}return n})(),Kbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,Sd]})}return n})();const Qbe=["input"],Ybe=["thumb"],Xbe=["thumbValue"],Zbe=function(n){return{"thumb-active":n}},Jbe={provide:cr,useExisting:Pe(()=>ewe),multi:!0};let ewe=(()=>{class n{_cdRef;input;thumb;thumbValue;id;required;name;value;get disabled(){return this._disabled}set disabled(t){this._disabled=fd(t)}_disabled;label;min=0;max=100;step;get default(){return this._default}set default(t){this._default=t}_default;defaultRangeCounterClass;rangeValueChange=new Re;visibility=!1;thumbStyle;onchange(t){this.onChange(t.target.value)}onInput(){this.rangeValueChange.emit({value:this.value}),this.focusRangeInput()}constructor(t){this._cdRef=t}ngAfterViewInit(){this.thumbPositionUpdate()}focusRangeInput(){this.input.nativeElement.focus(),this.visibility=!0}blurRangeInput(){this.input.nativeElement.blur(),this.visibility=!1}thumbPositionUpdate(){const t=this.input.nativeElement,r=t.value,i=t.min?t.min:0,o=Number(100*(r-i)/((t.max?t.max:100)-i));this.value=r,this.thumbStyle={left:`calc(${o}% + (${8-.15*o}px))`}}onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t,this._cdRef.markForCheck(),setTimeout(()=>{this.thumbPositionUpdate()},0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static ngAcceptInputType_default;static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||n)(T(Hu))};static \u0275cmp=Tt({type:n,selectors:[["mdb-range"]],viewQuery:function(r,i){if(1&r&&(ko(Qbe,5),ko(Ybe,5),ko(Xbe,5)),2&r){let s;zi(s=Gi())&&(i.input=s.first),zi(s=Gi())&&(i.thumb=s.first),zi(s=Gi())&&(i.thumbValue=s.first)}},hostBindings:function(r,i){1&r&&Ne("change",function(o){return i.onchange(o)})("input",function(){return i.onInput()})},inputs:{id:"id",required:"required",name:"name",value:"value",disabled:"disabled",label:"label",min:"min",max:"max",step:"step",default:"default",defaultRangeCounterClass:"defaultRangeCounterClass"},outputs:{rangeValueChange:"rangeValueChange"},features:[$e([Jbe])],decls:10,vars:14,consts:[["for","id",1,"form-label"],[1,"range"],["type","range","min","0","max","5",1,"form-range",3,"name","disabled","id","min","max","step","value","input","blur","mousedown","mouseup","touchstart","touchend"],["input",""],[1,"thumb",3,"ngStyle","ngClass"],["thumb",""],[1,"thumb-value"],["thumbValue",""]],template:function(r,i){1&r&&(v(0,"label",0),S(1),b(),v(2,"div",1)(3,"input",2,3),Ne("input",function(){return i.thumbPositionUpdate()})("blur",function(){return i.blurRangeInput()})("mousedown",function(){return i.focusRangeInput()})("mouseup",function(){return i.blurRangeInput()})("touchstart",function(){return i.focusRangeInput()})("touchend",function(){return i.blurRangeInput()}),b(),v(5,"span",4,5)(7,"span",6,7),S(9),b()()()),2&r&&(ct(1),Op(i.label),ct(2),lt("name",i.name)("disabled",i.disabled)("id",i.id)("min",i.min)("max",i.max)("step",i.step)("value",i.value)("id",i.id),ct(2),lt("ngStyle",i.thumbStyle)("ngClass",uw(12,Zbe,i.visibility)),ct(4),Op(i.value))},dependencies:[og,BL],encapsulation:2,changeDetection:0})}return n})(),twe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,Sd]})}return n})(),nwe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({})}return n})(),rwe=(()=>{class n{scrollSpys=[];activeSubject=new ze;active$=this.activeSubject;addScrollspy(t){this.scrollSpys.push(t)}removeScrollspy(t){const r=this.scrollSpys.findIndex(i=>i.id===t);this.scrollSpys.splice(r,1)}updateActiveState(t,r){const i=this.scrollSpys.find(o=>o.id===t);if(!i)return;const s=i.links.find(o=>o.id===r);this.setActiveLink(s)}removeActiveState(t,r){const i=this.scrollSpys.find(o=>o.id===t);if(!i)return;const s=i.links.find(o=>o.id===r);s&&(s.active=!1,s.detectChanges())}setActiveLink(t){t&&(t.active=!0,t.detectChanges(),this.activeSubject.next(t))}removeActiveLinks(t){const r=this.scrollSpys.find(i=>i.id===t);r&&r.links.forEach(i=>{i.active=!1,i.detectChanges()})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),iwe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({providers:[rwe]})}return n})();new N("MdbTabContentDirective"),new N("MdbTabTitleDirective");let uwe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,ox]})}return n})(),dwe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn,uy]})}return n})(),hwe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=pe({type:n});static \u0275inj=fe({imports:[Kn]})}return n})(),fwe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({imports:[Kn,mve,UC,vve,Eve,bV,lbe,ube,Hbe,zbe,Kbe,twe,nwe,iwe,uwe,dwe,hwe]})}return n})();class GG{}class pwe{}const ms="*";function qG(n,e=null){return{type:2,steps:n,options:e}}function WG(n){return{type:6,styles:n,offset:null}}class sf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function QG(n){return new I(3e3,!1)}function po(n){switch(n.length){case 0:return new sf;case 1:return n[0];default:return new KG(n)}}function YG(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case ms:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||s.push(d),a=d,o=l}),i.length)throw function Lwe(n){return new I(3502,!1)}();return s}function dx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&hx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&hx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&hx(t,"destroy",n)))}}function hx(n,e,t){const s=fx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function fx(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function fr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function XG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Qwe=(()=>typeof document>"u"?null:document.documentElement)();function px(n){const e=n.parentNode||n.host||null;return e===Qwe?null:e}let Aa=null,ZG=!1;function JG(n,e){for(;e;){if(e===n)return!0;e=px(e)}return!1}function e5(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let t5=(()=>{class n{validateStyleProperty(t){return function Xwe(n){Aa||(Aa=function Zwe(){return typeof document<"u"?document.body:null}()||{},ZG=!!Aa.style&&"WebkitAppearance"in Aa.style);let e=!0;return Aa.style&&!function Ywe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Aa.style,!e&&ZG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Aa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return JG(t,r)}getParentElement(t){return px(t)}query(t,r,i){return e5(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new sf(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),gx=(()=>{class n{static#e=this.NOOP=new t5}return n})();const Jwe=1e3,mx="ng-enter",hy="ng-leave",fy="ng-trigger",py=".ng-trigger",r5="ng-animating",_x=".ng-animating";function _s(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yx(parseFloat(e[1]),e[2])}function yx(n,e){return"s"===e?n*Jwe:n}function gy(n,e,t){return n.hasOwnProperty("duration")?n:function tCe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(QG()),{duration:0,delay:0,easing:""};i=yx(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=yx(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function gwe(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function mwe(){return new I(3101,!1)}()),a=!0),a&&e.splice(c,0,QG())}return{duration:i,delay:s,easing:o}}(n,e,t)}function af(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function s5(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function go(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Ri(n,e,t){e.forEach((r,i)=>{const s=bx(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Ma(n,e){e.forEach((t,r)=>{const i=bx(r);n.style[i]=""})}function cf(n){return Array.isArray(n)?1==n.length?n[0]:qG(n):n}const vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function a5(n){let e=[];if("string"==typeof n){let t;for(;t=vx.exec(n);)e.push(t[1]);vx.lastIndex=0}return e}function lf(n,e,t){const r=n.toString(),i=r.replace(vx,(s,o)=>{let a=e[o];return null==a&&(t.push(function ywe(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function my(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const iCe=/-+([a-z0-9])/g;function bx(n){return n.replace(iCe,(...e)=>e[1].toUpperCase())}function pr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function vwe(n){return new I(3004,!1)}()}}function c5(n,e){return window.getComputedStyle(n)[e]}const _y="*";function aCe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function cCe(n,e,t){if(":"==n[0]){const c=function lCe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Owe(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function kwe(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(l5(i,o));"<"==s[0]&&!(i==_y&&o==_y)&&e.push(l5(o,i))}(r,t,e)):t.push(n),t}const yy=new Set(["true","1"]),vy=new Set(["false","0"]);function l5(n,e){const t=yy.has(n)||vy.has(n),r=yy.has(e)||vy.has(e);return(i,s)=>{let o=n==_y||n==i,a=e==_y||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?yy.has(n):vy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?yy.has(e):vy.has(e)),o&&a}}const uCe=new RegExp("s*:selfs*,?","g");function wx(n,e,t,r){return new dCe(n).build(e,t,r)}class dCe{constructor(e){this._driver=e}build(e,t,r){const i=new pCe(t);return this._resetContextStyleTimingState(i),pr(this,cf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function wwe(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function Cwe(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{a5(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(my(s.values()),t.errors.push(function Ewe(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=pr(this,cf(e.animation),t);return{type:1,matchers:aCe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:xa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>pr(this,r,t)),options:xa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=pr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:xa(e.options)}}visitAnimate(e,t){const r=function mCe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Cx(gy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Cx(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=gy(t,e);return Cx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:WG({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=WG(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ms?r.push(a):t.errors.push(new I(3002,!1)):r.push(s5(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function Swe(n,e,t,r,i){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:i}),t.options&&function rCe(n,e,t){const r=e.params||{},i=a5(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function _we(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Dwe(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(w=>{const y=this._makeStyleAst(w,t);let M=null!=y.offset?y.offset:function gCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),O=0;return null!=M&&(s++,O=y.offset=M),c=c||O<0||O>1,a=a||O<l,l=O,o.push(O),y});c&&t.errors.push(function Twe(){return new I(3012,!1)}()),a&&t.errors.push(function Awe(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Mwe(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((w,y)=>{const M=h>0?y==f?1:h*y:o[y],O=M*_;t.currentTime=p+g.delay+O,g.duration=O,this._validateStyleAst(w,t),w.offset=M,r.styles.push(w)}),r}visitReference(e,t){return{type:8,animation:pr(this,cf(e.animation),t),options:xa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function hCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uCe,"")),n=n.replace(/@\*/g,py).replace(/@\w+/g,t=>py+"-"+t.slice(1)).replace(/:animating/g,_x),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,fr(t.collectedStyles,t.currentQuerySelector,new Map);const a=pr(this,cf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:xa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function xwe(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gy(e.timings,t.errors,!0);return{type:12,animation:pr(this,cf(e.animation),t),timings:r,options:null}}}class pCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xa(n){return n?(n=af(n)).params&&(n.params=function fCe(n){return n?af(n):null}(n.params)):n={},n}function Cx(n,e,t){return{duration:n,delay:e,easing:t}}function Ex(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class by{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vCe=new RegExp(":enter","g"),wCe=new RegExp(":leave","g");function Ix(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new CCe).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class CCe{buildKeyframes(e,t,r,i,s,o,a,c,l,u=[]){l=l||new by;const d=new Sx(e,t,l,i,s,u,[]);d.options=c;const h=c.delay?_s(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),pr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[Ex(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:_s(lf(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?_s(r.duration):null,a=null!=r.delay?_s(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),pr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wy);const o=_s(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>pr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?_s(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),pr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gy(t.params?lf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?_s(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wy);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(c=d.currentTimeline),pr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;pr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const wy={};class Sx{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Cy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=_s(r.duration)),null!=r.delay&&(i.delay=_s(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=lf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Sx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ECe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(vCe,"."+this._enterClassName)).replace(wCe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Rwe(n){return new I(3014,!1)}()),a}}class Cy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ms),this._currentKeyframe.set(t,ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function ICe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ms)}else go(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=lf(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ms),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=go(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===ms&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?my(e.values()):[],o=t.size?my(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Ex(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ECe extends Cy{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=go(e[0]);c.set("offset",0),s.push(c);const l=go(e[0]);l.set("offset",h5(a)),s.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=go(e[d]);const f=h.get("offset");h.set("offset",h5((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Ex(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function h5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Dx{}const SCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class DCe extends Dx{normalizePropertyName(e,t){return bx(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(SCe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function bwe(n,e){return new I(3005,!1)}())}return o+s}}function f5(n,e,t,r,i,s,o,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const Tx={};class p5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function TCe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||Tx,p=this.buildStyles(r,a&&a.params||Tx,d),g=c&&c.params||Tx,_=this.buildStyles(i,g,d),w=new Set,y=new Map,M=new Map,O="void"===i,z={params:ACe(g,h),delay:this.ast.options?.delay},K=u?[]:Ix(e,t,this.ast.animation,s,o,p,_,z,l,d);let ue=0;if(K.forEach(Pt=>{ue=Math.max(Pt.duration+Pt.delay,ue)}),d.length)return f5(t,this._triggerName,r,i,O,p,_,[],[],y,M,ue,d);K.forEach(Pt=>{const mr=Pt.element,My=fr(y,mr,new Set);Pt.preStyleProps.forEach(Ra=>My.add(Ra));const pf=fr(M,mr,new Set);Pt.postStyleProps.forEach(Ra=>pf.add(Ra)),mr!==t&&w.add(mr)});const Ye=my(w.values());return f5(t,this._triggerName,r,i,O,p,_,K,Ye,y,M,ue)}}function ACe(n,e){const t=af(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class MCe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=af(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=lf(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class RCe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new MCe(i.style,i.options&&i.options.params||{},r))}),g5(this.states,"true","1"),g5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new p5(e,i,this.states))}),this.fallbackTransition=function kCe(n,e,t){return new p5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function g5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const OCe=new by;class PCe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=wx(this._driver,t,r,[]);if(r.length)throw function Vwe(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=YG(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Ix(this._driver,t,s,mx,hy,new Map,new Map,r,OCe,i),o.forEach(u=>{const d=fr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Bwe(){return new I(3300,!1)}()),o=[]),i.length)throw function Uwe(n){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ms))})});const l=po(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function jwe(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=fx(t,"","","");return dx(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const m5="ng-animate-queued",Ax="ng-animate-disabled",BCe=[],_5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},UCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed";class Mx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function zCe(n){return n??null}(r?e.value:e),r){const s=af(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const uf="void",xx=new Mx(uf);class jCe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function $we(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Hwe(n){return new I(3303,!1)}();if(!function GCe(n){return"start"==n||"done"==n}(r))throw function zwe(n,e){return new I(3400,!1)}();const s=fr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=fr(this._engine.statesByElement,e,new Map);return a.has(t)||(Fr(e,fy),Fr(e,fy+"-"+t),a.set(t,xx)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Gwe(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Rx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Fr(e,fy),Fr(e,fy+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new Mx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=xx),l.value!==uf&&c.value===l.value){if(!function KCe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const g=[],_=s.matchStyles(c.value,c.params,g),w=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ma(e,_),Ri(e,w)})}return}const h=fr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(Fr(e,m5),o.onStart(()=>{Ul(e,m5)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let w=_.indexOf(o);w>=0&&_.splice(w,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,py,!0);r.forEach(i=>{if(i[ti])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,uf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&po(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||xx,u=new Mx(uf),d=new Rx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ti];(!s||s===_5)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Fr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=fx(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,dx(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class $Ce{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new jCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ey(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ey(t))return;const s=t[ti];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,Ax)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ul(e,Ax))}removeNode(e,t,r){if(Ey(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ti]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ey(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,py,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return po(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ti];if(t&&t.setForRemoval){if(e[ti]=_5,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ax)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Fr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?po(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qwe(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new by,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const Q=this.driver.query(G,".ng-animate-queued",!0);for(let J=0;J<Q.length;J++)u.add(Q[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=b5(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((G,Q)=>{const J=mx+g++;p.set(Q,J),G.forEach(Se=>Fr(Se,J))});const _=[],w=new Set,y=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const Q=this.collectedLeaveElements[G],J=Q[ti];J&&J.setForRemoval&&(_.push(Q),w.add(Q),J.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(Se=>w.add(Se)):y.add(Q))}const M=new Map,O=b5(h,Array.from(w));O.forEach((G,Q)=>{const J=hy+g++;M.set(Q,J),G.forEach(Se=>Fr(Se,J))}),e.push(()=>{f.forEach((G,Q)=>{const J=p.get(Q);G.forEach(Se=>Ul(Se,J))}),O.forEach((G,Q)=>{const J=M.get(Q);G.forEach(Se=>Ul(Se,J))}),_.forEach(G=>{this.processLeaveNode(G)})});const z=[],K=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(J=>{const Se=J.player,Zt=J.element;if(z.push(Se),this.collectedEnterElements.length){const Tn=Zt[ti];if(Tn&&Tn.setForMove){if(Tn.previousTriggersValues&&Tn.previousTriggersValues.has(J.triggerName)){const ka=Tn.previousTriggersValues.get(J.triggerName),Lr=this.statesByElement.get(J.element);if(Lr&&Lr.has(J.triggerName)){const xy=Lr.get(J.triggerName);xy.value=ka,Lr.set(J.triggerName,xy)}}return void Se.destroy()}}const Oi=!d||!this.driver.containsElement(d,Zt),_r=M.get(Zt),yo=p.get(Zt),ht=this._buildInstruction(J,r,yo,_r,Oi);if(ht.errors&&ht.errors.length)return void K.push(ht);if(Oi)return Se.onStart(()=>Ma(Zt,ht.fromStyles)),Se.onDestroy(()=>Ri(Zt,ht.toStyles)),void i.push(Se);if(J.isFallbackTransition)return Se.onStart(()=>Ma(Zt,ht.fromStyles)),Se.onDestroy(()=>Ri(Zt,ht.toStyles)),void i.push(Se);const lq=[];ht.timelines.forEach(Tn=>{Tn.stretchStartingKeyframe=!0,this.disabledNodes.has(Tn.element)||lq.push(Tn)}),ht.timelines=lq,r.append(Zt,ht.timelines),o.push({instruction:ht,player:Se,element:Zt}),ht.queriedElements.forEach(Tn=>fr(a,Tn,[]).push(Se)),ht.preStyleProps.forEach((Tn,ka)=>{if(Tn.size){let Lr=c.get(ka);Lr||c.set(ka,Lr=new Set),Tn.forEach((xy,Zx)=>Lr.add(Zx))}}),ht.postStyleProps.forEach((Tn,ka)=>{let Lr=l.get(ka);Lr||l.set(ka,Lr=new Set),Tn.forEach((xy,Zx)=>Lr.add(Zx))})});if(K.length){const G=[];K.forEach(Q=>{G.push(function Wwe(n,e){return new I(3505,!1)}())}),z.forEach(Q=>Q.destroy()),this.reportError(G)}const ue=new Map,Ye=new Map;o.forEach(G=>{const Q=G.element;r.has(Q)&&(Ye.set(Q,Q),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,ue))}),i.forEach(G=>{const Q=G.element;this._getPreviousPlayers(Q,!1,G.namespaceId,G.triggerName,null).forEach(Se=>{fr(ue,Q,[]).push(Se),Se.destroy()})});const Pt=_.filter(G=>C5(G,c,l)),mr=new Map;v5(mr,this.driver,y,l,ms).forEach(G=>{C5(G,c,l)&&Pt.push(G)});const pf=new Map;f.forEach((G,Q)=>{v5(pf,this.driver,new Set(G),c,"!")}),Pt.forEach(G=>{const Q=mr.get(G),J=pf.get(G);mr.set(G,new Map([...Q?.entries()??[],...J?.entries()??[]]))});const Ra=[],aq=[],cq={};o.forEach(G=>{const{element:Q,player:J,instruction:Se}=G;if(r.has(Q)){if(u.has(Q))return J.onDestroy(()=>Ri(Q,Se.toStyles)),J.disabled=!0,J.overrideTotalTime(Se.totalTime),void i.push(J);let Zt=cq;if(Ye.size>1){let _r=Q;const yo=[];for(;_r=_r.parentNode;){const ht=Ye.get(_r);if(ht){Zt=ht;break}yo.push(_r)}yo.forEach(ht=>Ye.set(ht,Zt))}const Oi=this._buildAnimation(J.namespaceId,Se,ue,s,pf,mr);if(J.setRealPlayer(Oi),Zt===cq)Ra.push(J);else{const _r=this.playersByElement.get(Zt);_r&&_r.length&&(J.parentPlayer=po(_r)),i.push(J)}}else Ma(Q,Se.fromStyles),J.onDestroy(()=>Ri(Q,Se.toStyles)),aq.push(J),u.has(Q)&&i.push(J)}),aq.forEach(G=>{const Q=s.get(G.element);if(Q&&Q.length){const J=po(Q);G.setRealPlayer(J)}}),i.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<_.length;G++){const Q=_[G],J=Q[ti];if(Ul(Q,hy),J&&J.hasAnimation)continue;let Se=[];if(a.size){let Oi=a.get(Q);Oi&&Oi.length&&Se.push(...Oi);let _r=this.driver.query(Q,_x,!0);for(let yo=0;yo<_r.length;yo++){let ht=a.get(_r[yo]);ht&&ht.length&&Se.push(...ht)}}const Zt=Se.filter(Oi=>!Oi.destroyed);Zt.length?qCe(this,Q,Zt):this.processLeaveNode(Q)}return _.length=0,Ra.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const Q=this.players.indexOf(G);this.players.splice(Q,1)}),G.play()}),Ra}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==uf;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==s,d=fr(r,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ma(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[ti];if(_&&_.removedBeforeQueried)return new sf(p.duration,p.delay);const w=g!==c,y=function WCe(n){const e=[];return w5(n,e),e}((r.get(g)||BCe).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===g),M=s.get(g),O=o.get(g),z=YG(this._normalizer,p.keyframes,M,O),K=this._buildPlayer(p,z,y);if(p.subTimeline&&i&&d.add(g),w){const ue=new Rx(e,a,g);ue.setRealPlayer(K),l.push(ue)}return K});l.forEach(p=>{fr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function HCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Fr(p,r5));const f=po(h);return f.onDestroy(()=>{u.forEach(p=>Ul(p,r5)),Ri(c,t.toStyles)}),d.forEach(p=>{fr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sf(e.duration,e.delay)}}class Rx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>dx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ey(n){return n&&1===n.nodeType}function y5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function v5(n,e,t,r,i){const s=[];t.forEach(c=>s.push(y5(c)));const o=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[ti]=UCe,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>y5(c,s[a++])),o}function b5(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function Fr(n,e){n.classList?.add(e)}function Ul(n,e){n.classList?.remove(e)}function qCe(n,e,t){po(t).onDone(()=>n.processLeaveNode(e))}function w5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof KG?w5(r.players,e):e.push(r)}}function C5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Iy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new $Ce(e,t,r),this._timelineEngine=new PCe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],u=wx(this._driver,s,c,[]);if(c.length)throw function Fwe(n,e){return new I(3404,!1)}();a=function xCe(n,e,t){return new RCe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=XG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=XG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let YCe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ri(this._element,this._initialStyles),this._endStyles&&(Ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ma(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ma(this._element,this._endStyles),this._endStyles=null),Ri(this._element,this._initialStyles),this._state=3)}}return n})();function kx(n){let e=null;return n.forEach((t,r)=>{(function XCe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class E5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:c5(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZCe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return JG(e,t)}getParentElement(e){return px(e)}query(e,t,r){return e5(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=o.filter(f=>f instanceof E5);(function sCe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function nCe(n){return n.length?n[0]instanceof Map?n:n.map(e=>s5(e)):[]}(t).map(f=>go(f));d=function oCe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,c5(n,a)))}}return e}(e,d,l);const h=function QCe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kx(e[0]),e.length>1&&(r=kx(e[e.length-1]))):e instanceof Map&&(t=kx(e)),t||r?new YCe(n,t,r):null}(e,d);return new E5(e,d,c,h)}}let JCe=(()=>{class n extends GG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:br.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qG(t):t;return I5(this._renderer,null,r,"register",[i]),new eEe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(D(bu),D(je))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();class eEe extends pwe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tEe(this._id,e,t||{},this._renderer)}}class tEe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I5(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const S5="@.disabled";let nEe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new D5("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(c),new rEe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(D(bu),D(Iy),D(re))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();class D5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==S5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class rEe extends D5{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==S5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function iEe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function sEe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let oEe=(()=>{class n extends Iy{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(D(je),D(gx),D(Dx),D(ks))};static#t=this.\u0275prov=F({token:n,factory:n.\u0275fac})}return n})();const T5=[{provide:GG,useClass:JCe},{provide:Dx,useFactory:function aEe(){return new DCe}},{provide:Iy,useClass:oEe},{provide:bu,useFactory:function cEe(n,e,t){return new nEe(n,e,t)},deps:[lC,Iy,re]}],Ox=[{provide:gx,useFactory:()=>new ZCe},{provide:lb,useValue:"BrowserAnimations"},...T5],A5=[{provide:gx,useClass:t5},{provide:lb,useValue:"NoopAnimations"},...T5];let lEe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?A5:Ox}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n});static#n=this.\u0275inj=fe({providers:Ox,imports:[o2]})}return n})();const uEe_firebase={projectId:"tryon-web-4454d",appId:"1:506833597546:web:25b7e6ed143466bedc4613",storageBucket:"tryon-web-4454d.appspot.com",apiKey:"AIzaSyAUp9IOKrJvvC4RTApp1pVVvbc1qyD3WrU",authDomain:"tryon-web-4454d.firebaseapp.com",messagingSenderId:"506833597546",measurementId:"G-S42F2HZEBN"};class df{constructor(e){return e}}const M5="analytics",x5=dm.async,pEe=xt(Hle,!0),gEe=xt(sj,!0),mEe=xt(qle,!0);let Px=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Le("angularfire",ns.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),x5().then(()=>{const o=i.get(df);o?this.disposables=[L$(t).subscribe(a=>{mEe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(D(qd),D(re),D(Ze))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const R5="firebase_screen_id",Nx="outlet",hf="screen_class",k5="screen_name";let AEe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Fx={},MEe=n=>{const e=[n[hf],n[Nx]].join("#");if(Fx.hasOwnProperty(e))return Fx[e];{const t=AEe++;return Fx[e]=t,t}},xEe=(n,e,t)=>n.events.pipe(Fn(i=>i instanceof F2)).pipe(tr(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!c)return X(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[k5]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[Nx]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=c.component;if(h){if(h===kC){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return X(Object.assign(Object.assign({},d),{[hf]:h}));if(h){const f=t.resolveComponentFactory(h);return X(Object.assign(Object.assign({},d),{[hf]:f.selector}))}return X(null)}),Fn(i=>!!i),Te(i=>Object.assign({firebase_screen_class:i[hf],[R5]:MEe(i)},i)),function dEe(n,e,t,r){return ot((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const h=new aR(s,p=>{try{const g=n(p);let _=a.get(g);if(!_){a.set(g,_=r?r():new ze);const w=function f(p,g){const _=new Ue(w=>{u++;const y=g.subscribe(w);return()=>{y.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return _.key=p,_}(g,_);if(s.next(w),t){const y=Xe(_,()=>{_.complete(),y?.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(mn(t(w)).subscribe(y))}}_.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[Nx]),Nt(i=>i.pipe(SR((s,o)=>JSON.stringify(s)===JSON.stringify(o)),pg(void 0),function hEe(){return ot((n,e)=>{let t,r=!1;n.subscribe(Xe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),Te(([s,o])=>s?Object.assign({firebase_previous_class:s[hf],firebase_previous_screen:s[k5],firebase_previous_id:s[R5]},o):o))));let O5=(()=>{class n{constructor(t,r,i,s,o,a){Le("angularfire",ns.full,"screen-tracking"),x5().then(()=>{const c=a.get(df);!t||!c||s.runOutsideAngular(()=>{this.disposable=xEe(t,r,i).pipe(tr(l=>Uy(this,void 0,void 0,function*(){return o&&(yield o.initialized),gEe(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(D(Yn,8),D(hC,8),D(As),D(re),D(Px,8),D(Ze))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const Lx=new N("angularfire2.analytics-instances");function kEe(n){return(e,t)=>{if(!dm.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new df(r)}}const OEe={provide:class fEe{constructor(){return Kc(M5)}},deps:[[new wt,Lx]]},PEe={provide:df,useFactory:function REe(n,e){if(!dm.sync())return null;const t=Wc(M5,n,e);return t&&new df(t)},deps:[[new wt,Lx],rs]};let NEe=(()=>{class n{constructor(t,r){Le("angularfire",ns.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(D(O5,8),D(Px,8))},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[PEe,OEe,{provide:ju,useValue:dm.async,multi:!0}]}),n})();function FEe(n,...e){return{ngModule:NEe,providers:[{provide:Lx,useFactory:kEe(n),multi:!0,deps:[re,Ze,Yc,Xc,...e]}]}}class Vx{constructor(e){return e}}const P5="messaging",Bx=new N("angularfire2.messaging-instances");function BEe(n){return(e,t)=>{if(!um.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Vx(r)}}const UEe={provide:class LEe{constructor(){return Kc(P5)}},deps:[[new wt,Bx]]},jEe={provide:Vx,useFactory:function VEe(n,e){if(!um.sync())return null;const t=Wc(P5,n,e);return t&&new Vx(t)},deps:[[new wt,Bx],rs]};let $Ee=(()=>{class n{constructor(){Le("angularfire",ns.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[jEe,UEe,{provide:ju,useValue:um.async,multi:!0}]}),n})();function HEe(n,...e){return{ngModule:$Ee,providers:[{provide:Bx,useFactory:BEe(n),multi:!0,deps:[re,Ze,Yc,Xc,...e]}]}}const zEe=xt(cle,!0),N5="@firebase/performance",Ux="0.6.4",F5=Ux,jx="FB-PERF-TRACE-MEASURE",j5="@firebase/performance/config",$5="@firebase/performance/configexpire",H5="Performance",gn=new Yr("performance",H5,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ki=new qo(H5);let $x,z5,G5,zx;ki.logLevel=Ce.INFO;class Xt{constructor(e){if(this.window=e,!e)throw gn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&Jg()?!!$s()||(ki.info("IndexedDB is not supported by current browswer"),!1):(ki.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===$x&&($x=new Xt(z5)),$x}}function Hx(){return G5}function q5(n,e){const t=n.length-e.length;if(t<0||t>1)throw gn.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class gr{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=q5("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=q5("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===zx&&(zx=new gr),zx}}var ff=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN",n}(ff||{});const ZEe=["firebase_","google_","ga_"],JEe=new RegExp("^[a-zA-Z]\\w*$");function nIe(){const n=Xt.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function W5(){switch(Xt.getInstance().document.visibilityState){case"visible":return ff.VISIBLE;case"hidden":return ff.HIDDEN;default:return ff.UNKNOWN}}function rIe(){const e=Xt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function K5(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw gn.create("no app id");return t}const cIe="0.0.1",ni={loggingEnabled:!0},lIe="FIREBASE_INSTALLATIONS_AUTH";const fIe="Could not fetch config, will use default configs";function Q5(n){if(!n)return n;const e=gr.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):ni.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):ni.logSource&&(e.logSource=ni.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:ni.logEndPointUrl&&(e.logEndPointUrl=ni.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:ni.transportKey&&(e.transportKey=ni.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==ni.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=ni.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==ni.tracesSamplingRate&&(e.tracesSamplingRate=ni.tracesSamplingRate),e.logTraceAfterSampling=Y5(e.tracesSamplingRate),e.logNetworkAfterSampling=Y5(e.networkRequestsSamplingRate),n}function Y5(n){return Math.random()<=n}let qx,Gx=1;function X5(n){return Gx=2,qx=qx||function _Ie(n){return function yIe(){const n=Xt.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function YEe(n){const e=n.getId();return e.then(t=>{G5=t}),e}(n.installations)).then(e=>function uIe(n,e){const t=function dIe(){const n=Xt.getInstance().localStorage;if(!n)return;const e=n.getItem($5);if(!e||!function gIe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(j5);if(t)try{return JSON.parse(t)}catch{return}}();return t?(Q5(t),Promise.resolve()):function pIe(n,e){return function XEe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function oIe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw gn.create("no project id");return t}(n.app),i=function aIe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw gn.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${lIe} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:K5(n.app),app_version:F5,sdk_version:cIe})});return fetch(o).then(a=>{if(a.ok)return a.json();throw gn.create("RC response not ok")})}).catch(()=>{ki.info(fIe)})}(n,e).then(Q5).then(r=>function hIe(n){const e=Xt.getInstance().localStorage;!n||!e||(e.setItem(j5,JSON.stringify(n)),e.setItem($5,String(Date.now()+60*gr.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>Z5(),()=>Z5())}(n),qx}function Z5(){Gx=3}let Kx,Dy=3,mo=[],eq=!1;function Ty(n){setTimeout(()=>{if(0!==Dy){if(!mo.length)return Ty(1e4);!function CIe(){const n=mo.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function EIe(n,e){return function IIe(n){const e=gr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||ki.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(mo=[...e,...mo],ki.info("Retry transport request later.")),Dy=3,Ty(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:gr.getInstance().logSource,log_event:e},n).catch(()=>{mo=[...n,...mo],Dy--,ki.info(`Tries left: ${Dy}.`),Ty(1e4)})}()}},n)}function tq(n,e){Kx||(Kx=function DIe(n){return(...e)=>{!function SIe(n){if(!n.eventTime||!n.message)throw gn.create("invalid cc log");mo=[...mo,n]}({message:n(...e),eventTime:Date.now()})}}(AIe)),Kx(n,e)}function Ay(n){const e=gr.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||Xt.getInstance().requiredApisAvailable()&&(n.isAuto&&W5()!==ff.VISIBLE||(function mIe(){return 3===Gx}()?Qx(n):X5(n.performanceController).then(()=>Qx(n),()=>Qx(n))))}function Qx(n){if(!Hx())return;const e=gr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>tq(n,1),0)}function AIe(n,e){return 0===e?function MIe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:nq(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function xIe(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:nq(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function nq(n){return{google_app_id:K5(n),app_instance_id:Hx(),web_app_info:{sdk_version:F5,page_url:Xt.getInstance().getUrl(),service_worker_status:nIe(),visibility_state:W5(),effective_connection_type:rIe()},application_process_state:0}}const OIe=["_fp","_fcp","_fid"];class _o{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Xt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${jx}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw gn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw gn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ay(this)}record(e,t,r){if(e<=0)throw gn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw gn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Ay(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function PIe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&OIe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw gn.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function NIe(n){const e=Math.floor(n);return e<n&&ki.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function iIe(n){return!(0===n.length||n.length>40||ZEe.some(t=>n.startsWith(t))||!n.match(JEe))}(e),i=function sIe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw gn.create("invalid attribute name",{attributeName:e});if(!i)throw gn.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Xt.getInstance().getUrl();if(!s)return;const o=new _o(e,"_wt_"+s,!0),a=Math.floor(1e3*Xt.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}Ay(o)}static createUserTimingTrace(e,t){Ay(new _o(e,t,!1,t))}}function rq(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Xt.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function TIe(n){const e=gr.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>tq(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function iq(n){Hx()&&(setTimeout(()=>function VIe(n){const e=Xt.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{_o.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),_o.createOobTrace(n,t,r,s))})}else _o.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function LIe(n){const e=Xt.getInstance(),t=e.getEntriesByType("resource");for(const r of t)rq(n,r);e.setupObserver("resource",r=>rq(n,r))}(n),0),setTimeout(()=>function BIe(n){const e=Xt.getInstance(),t=e.getEntriesByType("measure");for(const r of t)sq(n,r);e.setupObserver("measure",r=>sq(n,r))}(n),0))}function sq(n,e){const t=e.name;t.substring(0,jx.length)!==jx&&_o.createUserTimingTrace(n,t)}class UIe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Xt.getInstance().requiredApisAvailable()?Hc().then(t=>{t&&(function wIe(){eq||(Ty(5500),eq=!0)}(),X5(this).then(()=>iq(this),()=>iq(this)),this.initialized=!0)}).catch(t=>{ki.info(`Environment doesn't support IndexedDB: ${t}`)}):ki.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){gr.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return gr.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){gr.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return gr.getInstance().dataCollectionEnabled}}function $Ie(n=zc()){return yi(n=it(n),"performance").getImmediate()}const HIe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw gn.create("FB not default");if(typeof window>"u")throw gn.create("no window");!function QEe(n){z5=n}(window);const i=new UIe(t,r);return i._init(e),i};!function zIe(){wn(new an("performance",HIe,"PUBLIC")),Le(N5,Ux),Le(N5,Ux,"esm2017")}();class Yx{constructor(e){return e}}const oq="performance",Xx=new N("angularfire2.performance-instances");function WIe(n){return(e,t,r)=>{if(!tC(t))return null;const i=e.runOutsideAngular(()=>n(r));return new Yx(i)}}const KIe={provide:class GIe{constructor(){return Kc(oq)}},deps:[[new wt,Xx]]},QIe={provide:Yx,useFactory:function qIe(n,e,t){if(!tC(t))return null;const r=Wc(oq,n,e);return r&&new Yx(r)},deps:[[new wt,Xx],rs,jr]};let YIe=(()=>{class n{constructor(){Le("angularfire",ns.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=pe({type:n}),n.\u0275inj=fe({providers:[QIe,KIe]}),n})();function XIe(n,...e){return{ngModule:YIe,providers:[{provide:Xx,useFactory:WIe(n),multi:!0,deps:[re,jr,Ze,Yc,Xc,...e]}]}}const ZIe=xt($Ie,!0);let JIe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=pe({type:n,bootstrap:[fve]});static#n=this.\u0275inj=fe({providers:[O5,Px],imports:[o2,uie,fwe,hve,lEe,use,aue(()=>cue(uEe_firebase)),FEe(()=>pEe()),Kfe(()=>Qfe()),Qye(()=>Xye()),HEe(()=>zEe()),XIe(()=>ZIe()),Sd]})}return n})();hte().bootstrapModule(JIe).catch(n=>console.error(n))}},ye=>{ye(ye.s=219)}]);